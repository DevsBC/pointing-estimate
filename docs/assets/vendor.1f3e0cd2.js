var sf=Object.defineProperty,of=Object.defineProperties;var lf=Object.getOwnPropertyDescriptors;var Ci=Object.getOwnPropertySymbols;var Xo=Object.prototype.hasOwnProperty,Jo=Object.prototype.propertyIsEnumerable;var Zo=(t,e,n)=>e in t?sf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sn=(t,e)=>{for(var n in e||(e={}))Xo.call(e,n)&&Zo(t,n,e[n]);if(Ci)for(var n of Ci(e))Jo.call(e,n)&&Zo(t,n,e[n]);return t},Vn=(t,e)=>of(t,lf(e));var xo=(t,e)=>{var n={};for(var i in t)Xo.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&Ci)for(var i of Ci(t))e.indexOf(i)<0&&Jo.call(t,i)&&(n[i]=t[i]);return n};function it(){}function k(t,e){for(const n in e)t[n]=e[n];return t}function $o(t){return t()}function el(){return Object.create(null)}function se(t){t.forEach($o)}function zr(t){return typeof t=="function"}function oe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function af(t){return Object.keys(t).length===0}function tl(t,...e){if(t==null)return it;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function dt(t,e,n){t.$$.on_destroy.push(tl(e,n))}function ee(t,e,n,i){if(t){const r=nl(t,e,n,i);return t[0](r)}}function nl(t,e,n,i){return t[1]&&i?k(n.ctx.slice(),t[1](i(e))):n.ctx}function te(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(e.dirty===void 0)return r;if(typeof r=="object"){const s=[],o=Math.max(e.dirty.length,r.length);for(let l=0;l<o;l+=1)s[l]=e.dirty[l]|r[l];return s}return e.dirty|r}return e.dirty}function ne(t,e,n,i,r,s){if(r){const o=nl(e,n,i,s);t.p(o,r)}}function ie(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Q(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function X(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function jr(t){const e={};for(const n in t)e[n]=!0;return e}function il(t,e,n){return t.set(n),e}function Iv(t){return t&&zr(t.destroy)?t.destroy:it}function S(t,e){t.appendChild(e)}function P(t,e,n){t.insertBefore(e,n||null)}function R(t){t.parentNode.removeChild(t)}function uf(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function F(t){return document.createElement(t)}function re(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function le(t){return document.createTextNode(t)}function fe(){return le(" ")}function we(){return le("")}function y(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function qr(t){return function(e){return e.preventDefault(),t.call(this,e)}}function rl(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function V(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function H(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set?t[i]=e[i]:V(t,i,e[i])}function Pe(t,e){for(const n in e)V(t,n,e[n])}function cf(t){return Array.from(t.childNodes)}function ge(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Av(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}function _(t,e,n){t.classList[n?"add":"remove"](e)}function hf(t,e,n=!1){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,!1,e),i}let Pi;function Si(t){Pi=t}function zt(){if(!Pi)throw new Error("Function called outside component initialization");return Pi}function ff(t){zt().$$.before_update.push(t)}function Vi(t){zt().$$.on_mount.push(t)}function df(t){zt().$$.after_update.push(t)}function mf(t){zt().$$.on_destroy.push(t)}function Pt(){const t=zt();return(e,n)=>{const i=t.$$.callbacks[e];if(i){const r=hf(e,n);i.slice().forEach(s=>{s.call(t,r)})}}}function Dn(t,e){zt().$$.context.set(t,e)}function jt(t){return zt().$$.context.get(t)}function v(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const Mn=[],rt=[],Di=[],Hr=[],gf=Promise.resolve();let Wr=!1;function _f(){Wr||(Wr=!0,gf.then(sl))}function Mi(t){Di.push(t)}function bf(t){Hr.push(t)}let Kr=!1;const Gr=new Set;function sl(){if(!Kr){Kr=!0;do{for(let t=0;t<Mn.length;t+=1){const e=Mn[t];Si(e),pf(e.$$)}for(Si(null),Mn.length=0;rt.length;)rt.pop()();for(let t=0;t<Di.length;t+=1){const e=Di[t];Gr.has(e)||(Gr.add(e),e())}Di.length=0}while(Mn.length);for(;Hr.length;)Hr.pop()();Wr=!1,Kr=!1,Gr.clear()}}function pf(t){if(t.fragment!==null){t.update(),se(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Mi)}}const Ni=new Set;let qt;function Te(){qt={r:0,c:[],p:qt}}function Ee(){qt.r||se(qt.c),qt=qt.p}function A(t,e){t&&t.i&&(Ni.delete(t),t.i(e))}function w(t,e,n,i){if(t&&t.o){if(Ni.has(t))return;Ni.add(t),qt.c.push(()=>{Ni.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}}function yf(t,e){w(t,1,1,()=>{e.delete(t.key)})}function vf(t,e,n,i,r,s,o,l,a,u,c,d){let h=t.length,f=s.length,g=h;const p={};for(;g--;)p[t[g].key]=g;const b=[],T=new Map,I=new Map;for(g=f;g--;){const O=d(r,s,g),D=n(O);let J=o.get(D);J?i&&J.p(O,e):(J=u(D,O),J.c()),T.set(D,b[g]=J),D in p&&I.set(D,Math.abs(g-p[D]))}const E=new Set,C=new Set;function m(O){A(O,1),O.m(l,c),o.set(O.key,O),c=O.first,f--}for(;h&&f;){const O=b[f-1],D=t[h-1],J=O.key,G=D.key;O===D?(c=O.first,h--,f--):T.has(G)?!o.has(J)||E.has(J)?m(O):C.has(G)?h--:I.get(J)>I.get(G)?(C.add(J),m(O)):(E.add(G),h--):(a(D,o),h--)}for(;h--;){const O=t[h];T.has(O.key)||a(O,o)}for(;f;)m(b[f-1]);return b}function x(t,e){const n={},i={},r={$$scope:1};let s=t.length;for(;s--;){const o=t[s],l=e[s];if(l){for(const a in o)a in l||(i[a]=1);for(const a in l)r[a]||(n[a]=l[a],r[a]=1);t[s]=l}else for(const a in o)r[a]=1}for(const o in i)o in n||(n[o]=void 0);return n}function Nn(t){return typeof t=="object"&&t!==null?t:{}}function Tf(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function pe(t){t&&t.c()}function _e(t,e,n,i){const{fragment:r,on_mount:s,on_destroy:o,after_update:l}=t.$$;r&&r.m(e,n),i||Mi(()=>{const a=s.map($o).filter(zr);o?o.push(...a):se(a),t.$$.on_mount=[]}),l.forEach(Mi)}function be(t,e){const n=t.$$;n.fragment!==null&&(se(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ef(t,e){t.$$.dirty[0]===-1&&(Mn.push(t),_f(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ae(t,e,n,i,r,s,o,l=[-1]){const a=Pi;Si(t);const u=t.$$={fragment:null,ctx:null,props:s,update:it,not_equal:r,bound:el(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:el(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};o&&o(u.root);let c=!1;if(u.ctx=n?n(t,e.props||{},(d,h,...f)=>{const g=f.length?f[0]:h;return u.ctx&&r(u.ctx[d],u.ctx[d]=g)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](g),c&&Ef(t,d)),h}):[],u.update(),c=!0,se(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const d=cf(e.target);u.fragment&&u.fragment.l(d),d.forEach(R)}else u.fragment&&u.fragment.c();e.intro&&A(t.$$.fragment),_e(t,e.target,e.anchor,e.customElement),sl()}Si(a)}class ue{$destroy(){be(this,1),this.$destroy=it}$on(e,n){const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!af(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const rn=[];function If(t,e){return{subscribe:_t(t,e).subscribe}}function _t(t,e=it){let n;const i=new Set;function r(l){if(oe(t,l)&&(t=l,n)){const a=!rn.length;for(const u of i)u[1](),rn.push(u,t);if(a){for(let u=0;u<rn.length;u+=2)rn[u][0](rn[u+1]);rn.length=0}}}function s(l){r(l(t))}function o(l,a=it){const u=[l,a];return i.add(u),i.size===1&&(n=e(r)||it),l(t),()=>{i.delete(u),i.size===0&&(n(),n=null)}}return{set:r,update:s,subscribe:o}}function Af(t,e,n){const i=!Array.isArray(t),r=i?[t]:t,s=e.length<2;return If(n,o=>{let l=!1;const a=[];let u=0,c=it;const d=()=>{if(u)return;c();const f=e(i?a[0]:a,o);s?o(f):c=zr(f)?f:it},h=r.map((f,g)=>tl(f,p=>{a[g]=p,u&=~(1<<g),l&&d()},()=>{u|=1<<g}));return l=!0,d(),function(){se(h),c()}})}const Qr={},Yr={};function Xr(t){return Vn(Sn({},t.location),{state:t.history.state,key:t.history.state&&t.history.state.key||"initial"})}function kf(t,e){const n=[];let i=Xr(t);return{get location(){return i},listen(r){n.push(r);const s=()=>{i=Xr(t),r({location:i,action:"POP"})};return t.addEventListener("popstate",s),()=>{t.removeEventListener("popstate",s);const o=n.indexOf(r);n.splice(o,1)}},navigate(r,{state:s,replace:o=!1}={}){s=Vn(Sn({},s),{key:Date.now()+""});try{o?t.history.replaceState(s,null,r):t.history.pushState(s,null,r)}catch(l){t.location[o?"replace":"assign"](r)}i=Xr(t),n.forEach(l=>l({location:i,action:"PUSH"}))}}}function wf(t="/"){let e=0;const n=[{pathname:t,search:""}],i=[];return{get location(){return n[e]},addEventListener(r,s){},removeEventListener(r,s){},history:{get entries(){return n},get index(){return e},get state(){return i[e]},pushState(r,s,o){const[l,a=""]=o.split("?");e++,n.push({pathname:l,search:a}),i.push(r)},replaceState(r,s,o){const[l,a=""]=o.split("?");n[e]={pathname:l,search:a},i[e]=r}}}}const Rf=Boolean(typeof window!="undefined"&&window.document&&window.document.createElement),Jr=kf(Rf?window:wf()),{navigate:Cf}=Jr,ol=/^:(.+)/,ll=4,Pf=3,Sf=2,Vf=1,Df=1;function Mf(t){return t===""}function Nf(t){return ol.test(t)}function al(t){return t[0]==="*"}function Zr(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function xr(t){return t.replace(/(^\/+|\/+$)/g,"")}function Lf(t,e){const n=t.default?0:Zr(t.path).reduce((i,r)=>(i+=ll,Mf(r)?i+=Df:Nf(r)?i+=Sf:al(r)?i-=ll+Vf:i+=Pf,i),0);return{route:t,score:n,index:e}}function Of(t){return t.map(Lf).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index)}function ul(t,e){let n,i;const[r]=e.split("?"),s=Zr(r),o=s[0]==="",l=Of(t);for(let a=0,u=l.length;a<u;a++){const c=l[a].route;let d=!1;if(c.default){i={route:c,params:{},uri:e};continue}const h=Zr(c.path),f={},g=Math.max(s.length,h.length);let p=0;for(;p<g;p++){const b=h[p],T=s[p];if(b!==void 0&&al(b)){const E=b==="*"?"*":b.slice(1);f[E]=s.slice(p).map(decodeURIComponent).join("/");break}if(T===void 0){d=!0;break}let I=ol.exec(b);if(I&&!o){const E=decodeURIComponent(T);f[I[1]]=E}else if(b!==T){d=!0;break}}if(!d){n={route:c,params:f,uri:"/"+s.slice(0,p).join("/")};break}}return n||i||null}function Ff(t,e){return ul([t],e)}function cl(t,e){return`${xr(e==="/"?t:`${xr(t)}/${xr(e)}`)}/`}function Bf(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Uf(t){const e=location.host;return t.host==e||t.href.indexOf(`https://${e}`)===0||t.href.indexOf(`http://${e}`)===0}function zf(t){let e;const n=t[9].default,i=ee(n,t,t[8],null);return{c(){i&&i.c()},m(r,s){i&&i.m(r,s),e=!0},p(r,[s]){i&&i.p&&(!e||s&256)&&ne(i,n,r,r[8],e?te(n,r[8],s,null):ie(r[8]),null)},i(r){e||(A(i,r),e=!0)},o(r){w(i,r),e=!1},d(r){i&&i.d(r)}}}function jf(t,e,n){let i,r,s,{$$slots:o={},$$scope:l}=e,{basepath:a="/"}=e,{url:u=null}=e;const c=jt(Qr),d=jt(Yr),h=_t([]);dt(t,h,C=>n(6,r=C));const f=_t(null);let g=!1;const p=c||_t(u?{pathname:u}:Jr.location);dt(t,p,C=>n(5,i=C));const b=d?d.routerBase:_t({path:a,uri:a});dt(t,b,C=>n(7,s=C));const T=Af([b,f],([C,m])=>{if(m===null)return C;const{path:O}=C,{route:D,uri:J}=m;return{path:D.default?O:D.path.replace(/\*.*$/,""),uri:J}});function I(C){const{path:m}=s;let{path:O}=C;if(C._path=O,C.path=cl(m,O),typeof window=="undefined"){if(g)return;const D=Ff(C,i.pathname);D&&(f.set(D),g=!0)}else h.update(D=>(D.push(C),D))}function E(C){h.update(m=>{const O=m.indexOf(C);return m.splice(O,1),m})}return c||(Vi(()=>Jr.listen(m=>{p.set(m.location)})),Dn(Qr,p)),Dn(Yr,{activeRoute:f,base:b,routerBase:T,registerRoute:I,unregisterRoute:E}),t.$$set=C=>{"basepath"in C&&n(3,a=C.basepath),"url"in C&&n(4,u=C.url),"$$scope"in C&&n(8,l=C.$$scope)},t.$$.update=()=>{if(t.$$.dirty&128){const{path:C}=s;h.update(m=>(m.forEach(O=>O.path=cl(C,O._path)),m))}if(t.$$.dirty&96){const C=ul(r,i.pathname);f.set(C)}},[h,p,b,a,u,i,r,s,l,o]}class kv extends ue{constructor(e){super();ae(this,e,jf,zf,oe,{basepath:3,url:4})}}const qf=t=>({params:t&4,location:t&16}),hl=t=>({params:t[2],location:t[4]});function fl(t){let e,n,i,r;const s=[Wf,Hf],o=[];function l(a,u){return a[0]!==null?0:1}return e=l(t),n=o[e]=s[e](t),{c(){n.c(),i=we()},m(a,u){o[e].m(a,u),P(a,i,u),r=!0},p(a,u){let c=e;e=l(a),e===c?o[e].p(a,u):(Te(),w(o[c],1,1,()=>{o[c]=null}),Ee(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),A(n,1),n.m(i.parentNode,i))},i(a){r||(A(n),r=!0)},o(a){w(n),r=!1},d(a){o[e].d(a),a&&R(i)}}}function Hf(t){let e;const n=t[10].default,i=ee(n,t,t[9],hl);return{c(){i&&i.c()},m(r,s){i&&i.m(r,s),e=!0},p(r,s){i&&i.p&&(!e||s&532)&&ne(i,n,r,r[9],e?te(n,r[9],s,qf):ie(r[9]),hl)},i(r){e||(A(i,r),e=!0)},o(r){w(i,r),e=!1},d(r){i&&i.d(r)}}}function Wf(t){let e,n,i;const r=[{location:t[4]},t[2],t[3]];var s=t[0];function o(l){let a={};for(let u=0;u<r.length;u+=1)a=k(a,r[u]);return{props:a}}return s&&(e=new s(o())),{c(){e&&pe(e.$$.fragment),n=we()},m(l,a){e&&_e(e,l,a),P(l,n,a),i=!0},p(l,a){const u=a&28?x(r,[a&16&&{location:l[4]},a&4&&Nn(l[2]),a&8&&Nn(l[3])]):{};if(s!==(s=l[0])){if(e){Te();const c=e;w(c.$$.fragment,1,0,()=>{be(c,1)}),Ee()}s?(e=new s(o()),pe(e.$$.fragment),A(e.$$.fragment,1),_e(e,n.parentNode,n)):e=null}else s&&e.$set(u)},i(l){i||(e&&A(e.$$.fragment,l),i=!0)},o(l){e&&w(e.$$.fragment,l),i=!1},d(l){l&&R(n),e&&be(e,l)}}}function Kf(t){let e,n,i=t[1]!==null&&t[1].route===t[7]&&fl(t);return{c(){i&&i.c(),e=we()},m(r,s){i&&i.m(r,s),P(r,e,s),n=!0},p(r,[s]){r[1]!==null&&r[1].route===r[7]?i?(i.p(r,s),s&2&&A(i,1)):(i=fl(r),i.c(),A(i,1),i.m(e.parentNode,e)):i&&(Te(),w(i,1,1,()=>{i=null}),Ee())},i(r){n||(A(i),n=!0)},o(r){w(i),n=!1},d(r){i&&i.d(r),r&&R(e)}}}function Gf(t,e,n){let i,r,{$$slots:s={},$$scope:o}=e,{path:l=""}=e,{component:a=null}=e;const{registerRoute:u,unregisterRoute:c,activeRoute:d}=jt(Yr);dt(t,d,b=>n(1,i=b));const h=jt(Qr);dt(t,h,b=>n(4,r=b));const f={path:l,default:l===""};let g={},p={};return u(f),typeof window!="undefined"&&mf(()=>{c(f)}),t.$$set=b=>{n(13,e=k(k({},e),Q(b))),"path"in b&&n(8,l=b.path),"component"in b&&n(0,a=b.component),"$$scope"in b&&n(9,o=b.$$scope)},t.$$.update=()=>{t.$$.dirty&2&&i&&i.route===f&&n(2,g=i.params);{const b=e,{path:T,component:I}=b,E=xo(b,["path","component"]);n(3,p=E)}},e=Q(e),[a,i,g,p,r,d,h,f,l,o,s]}class wv extends ue{constructor(e){super();ae(this,e,Gf,Kf,oe,{path:8,component:0})}}function Rv(t){function e(i,r){for(;r&&r.tagName!==i;)r=r.parentNode;return r}function n(i){const r=e("A",i.target);r&&r.target===""&&Uf(r)&&Bf(i)&&!r.hasAttribute("noroute")&&(i.preventDefault(),Cf(r.pathname+r.search,{replace:r.hasAttribute("replace")}))}return t.addEventListener("click",n),{destroy(){t.removeEventListener("click",n)}}}function dl(t){let e,n;return{c(){e=re("title"),n=le(t[2])},m(i,r){P(i,e,r),S(e,n)},p(i,r){r&4&&ge(n,i[2])},d(i){i&&R(e)}}}function Qf(t){let e,n=t[2]&&dl(t);return{c(){n&&n.c(),e=we()},m(i,r){n&&n.m(i,r),P(i,e,r)},p(i,r){i[2]?n?n.p(i,r):(n=dl(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&R(e)}}}function Yf(t){let e,n,i,r,s;const o=t[11].default,l=ee(o,t,t[10],null),a=l||Qf(t);let u=[{"data-carbon-icon":"Close20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],c={};for(let d=0;d<u.length;d+=1)c=k(c,u[d]);return{c(){e=re("svg"),n=re("path"),a&&a.c(),V(n,"d","M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4z"),Pe(e,c)},m(d,h){P(d,e,h),S(e,n),a&&a.m(e,null),i=!0,r||(s=[y(e,"click",t[12]),y(e,"mouseover",t[13]),y(e,"mouseenter",t[14]),y(e,"mouseleave",t[15]),y(e,"keyup",t[16]),y(e,"keydown",t[17])],r=!0)},p(d,[h]){l?l.p&&(!i||h&1024)&&ne(l,o,d,d[10],i?te(o,d[10],h,null):ie(d[10]),null):a&&a.p&&(!i||h&4)&&a.p(d,i?h:-1),Pe(e,c=x(u,[{"data-carbon-icon":"Close20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},(!i||h&1)&&{class:d[0]},{preserveAspectRatio:"xMidYMid meet"},(!i||h&8)&&{style:d[3]},(!i||h&2)&&{id:d[1]},h&16&&d[4]]))},i(d){i||(A(a,d),i=!0)},o(d){w(a,d),i=!1},d(d){d&&R(e),a&&a.d(d),r=!1,se(s)}}}function Xf(t,e,n){let i,r,s,o,{$$slots:l={},$$scope:a}=e,{class:u=void 0}=e,{id:c=void 0}=e,{tabindex:d=void 0}=e,{focusable:h=!1}=e,{title:f=void 0}=e,{style:g=void 0}=e;function p(m){v.call(this,t,m)}function b(m){v.call(this,t,m)}function T(m){v.call(this,t,m)}function I(m){v.call(this,t,m)}function E(m){v.call(this,t,m)}function C(m){v.call(this,t,m)}return t.$$set=m=>{n(18,e=k(k({},e),Q(m))),"class"in m&&n(0,u=m.class),"id"in m&&n(1,c=m.id),"tabindex"in m&&n(5,d=m.tabindex),"focusable"in m&&n(6,h=m.focusable),"title"in m&&n(2,f=m.title),"style"in m&&n(3,g=m.style),"$$scope"in m&&n(10,a=m.$$scope)},t.$$.update=()=>{n(9,i=e["aria-label"]),n(8,r=e["aria-labelledby"]),t.$$.dirty&772&&n(7,s=i||r||f),t.$$.dirty&992&&n(4,o={"aria-label":i,"aria-labelledby":r,"aria-hidden":s?void 0:!0,role:s?"img":void 0,focusable:d==="0"?!0:h,tabindex:d})},e=Q(e),[u,c,f,g,o,d,h,s,r,i,a,l,p,b,T,I,E,C]}class Jf extends ue{constructor(e){super();ae(this,e,Xf,Yf,oe,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}}var Ln=Jf;function ml(t){let e,n;return{c(){e=re("title"),n=le(t[2])},m(i,r){P(i,e,r),S(e,n)},p(i,r){r&4&&ge(n,i[2])},d(i){i&&R(e)}}}function Zf(t){let e,n=t[2]&&ml(t);return{c(){n&&n.c(),e=we()},m(i,r){n&&n.m(i,r),P(i,e,r)},p(i,r){i[2]?n?n.p(i,r):(n=ml(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&R(e)}}}function xf(t){let e,n,i,r,s;const o=t[11].default,l=ee(o,t,t[10],null),a=l||Zf(t);let u=[{"data-carbon-icon":"Menu20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 20 20"},{fill:"currentColor"},{width:"20"},{height:"20"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],c={};for(let d=0;d<u.length;d+=1)c=k(c,u[d]);return{c(){e=re("svg"),n=re("path"),a&&a.c(),V(n,"d","M2 14.8H18V16H2zM2 11.2H18V12.399999999999999H2zM2 7.6H18V8.799999999999999H2zM2 4H18V5.2H2z"),Pe(e,c)},m(d,h){P(d,e,h),S(e,n),a&&a.m(e,null),i=!0,r||(s=[y(e,"click",t[12]),y(e,"mouseover",t[13]),y(e,"mouseenter",t[14]),y(e,"mouseleave",t[15]),y(e,"keyup",t[16]),y(e,"keydown",t[17])],r=!0)},p(d,[h]){l?l.p&&(!i||h&1024)&&ne(l,o,d,d[10],i?te(o,d[10],h,null):ie(d[10]),null):a&&a.p&&(!i||h&4)&&a.p(d,i?h:-1),Pe(e,c=x(u,[{"data-carbon-icon":"Menu20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 20 20"},{fill:"currentColor"},{width:"20"},{height:"20"},(!i||h&1)&&{class:d[0]},{preserveAspectRatio:"xMidYMid meet"},(!i||h&8)&&{style:d[3]},(!i||h&2)&&{id:d[1]},h&16&&d[4]]))},i(d){i||(A(a,d),i=!0)},o(d){w(a,d),i=!1},d(d){d&&R(e),a&&a.d(d),r=!1,se(s)}}}function $f(t,e,n){let i,r,s,o,{$$slots:l={},$$scope:a}=e,{class:u=void 0}=e,{id:c=void 0}=e,{tabindex:d=void 0}=e,{focusable:h=!1}=e,{title:f=void 0}=e,{style:g=void 0}=e;function p(m){v.call(this,t,m)}function b(m){v.call(this,t,m)}function T(m){v.call(this,t,m)}function I(m){v.call(this,t,m)}function E(m){v.call(this,t,m)}function C(m){v.call(this,t,m)}return t.$$set=m=>{n(18,e=k(k({},e),Q(m))),"class"in m&&n(0,u=m.class),"id"in m&&n(1,c=m.id),"tabindex"in m&&n(5,d=m.tabindex),"focusable"in m&&n(6,h=m.focusable),"title"in m&&n(2,f=m.title),"style"in m&&n(3,g=m.style),"$$scope"in m&&n(10,a=m.$$scope)},t.$$.update=()=>{n(9,i=e["aria-label"]),n(8,r=e["aria-labelledby"]),t.$$.dirty&772&&n(7,s=i||r||f),t.$$.dirty&992&&n(4,o={"aria-label":i,"aria-labelledby":r,"aria-hidden":s?void 0:!0,role:s?"img":void 0,focusable:d==="0"?!0:h,tabindex:d})},e=Q(e),[u,c,f,g,o,d,h,s,r,i,a,l,p,b,T,I,E,C]}class ed extends ue{constructor(e){super();ae(this,e,$f,xf,oe,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}}var gl=ed;const td=_t(!1);function nd(t){let e,n,i,r,s;var o=t[0]?t[4]:t[3];function l(c){return{}}o&&(n=new o(l()));let a=[{type:"button"},{title:t[2]},{"aria-label":t[2]},t[5]],u={};for(let c=0;c<a.length;c+=1)u=k(u,a[c]);return{c(){e=F("button"),n&&pe(n.$$.fragment),H(e,u),_(e,"bx--header__action",!0),_(e,"bx--header__menu-trigger",!0),_(e,"bx--header__menu-toggle",!0)},m(c,d){P(c,e,d),n&&_e(n,e,null),e.autofocus&&e.focus(),t[7](e),i=!0,r||(s=[y(e,"click",t[6]),y(e,"click",t[8])],r=!0)},p(c,[d]){if(o!==(o=c[0]?c[4]:c[3])){if(n){Te();const h=n;w(h.$$.fragment,1,0,()=>{be(h,1)}),Ee()}o?(n=new o(l()),pe(n.$$.fragment),A(n.$$.fragment,1),_e(n,e,null)):n=null}H(e,u=x(a,[{type:"button"},(!i||d&4)&&{title:c[2]},(!i||d&4)&&{"aria-label":c[2]},d&32&&c[5]])),_(e,"bx--header__action",!0),_(e,"bx--header__menu-trigger",!0),_(e,"bx--header__menu-toggle",!0)},i(c){i||(n&&A(n.$$.fragment,c),i=!0)},o(c){n&&w(n.$$.fragment,c),i=!1},d(c){c&&R(e),n&&be(n),t[7](null),r=!1,se(s)}}}function id(t,e,n){const i=["ariaLabel","isOpen","iconMenu","iconClose","ref"];let r=X(e,i),{ariaLabel:s=void 0}=e,{isOpen:o=!1}=e,{iconMenu:l=gl}=e,{iconClose:a=Ln}=e,{ref:u=null}=e;function c(f){v.call(this,t,f)}function d(f){rt[f?"unshift":"push"](()=>{u=f,n(1,u)})}const h=()=>n(0,o=!o);return t.$$set=f=>{e=k(k({},e),Q(f)),n(5,r=X(e,i)),"ariaLabel"in f&&n(2,s=f.ariaLabel),"isOpen"in f&&n(0,o=f.isOpen),"iconMenu"in f&&n(3,l=f.iconMenu),"iconClose"in f&&n(4,a=f.iconClose),"ref"in f&&n(1,u=f.ref)},[o,u,s,l,a,r,c,d,h]}class rd extends ue{constructor(e){super();ae(this,e,id,nd,oe,{ariaLabel:2,isOpen:0,iconMenu:3,iconClose:4,ref:1})}}var sd=rd;const od=t=>({}),_l=t=>({}),ld=t=>({}),bl=t=>({});function pl(t){let e,n,i;function r(o){t[19](o)}let s={iconClose:t[8],iconMenu:t[7]};return t[0]!==void 0&&(s.isOpen=t[0]),e=new sd({props:s}),rt.push(()=>Tf(e,"isOpen",r)),{c(){pe(e.$$.fragment)},m(o,l){_e(e,o,l),i=!0},p(o,l){const a={};l&256&&(a.iconClose=o[8]),l&128&&(a.iconMenu=o[7]),!n&&l&1&&(n=!0,a.isOpen=o[0],bf(()=>n=!1)),e.$set(a)},i(o){i||(A(e.$$.fragment,o),i=!0)},o(o){w(e.$$.fragment,o),i=!1},d(o){be(e,o)}}}function yl(t){let e,n,i;return{c(){e=F("span"),n=le(t[3]),i=le("\xA0"),_(e,"bx--header__name--prefix",!0)},m(r,s){P(r,e,s),S(e,n),S(e,i)},p(r,s){s&8&&ge(n,r[3])},d(r){r&&R(e)}}}function ad(t){let e;return{c(){e=le(t[4])},m(n,i){P(n,e,i)},p(n,i){i&16&&ge(e,n[4])},d(n){n&&R(e)}}}function ud(t){let e,n,i,r,s,o,l,a,u;Mi(t[18]);const c=t[16]["skip-to-content"],d=ee(c,t,t[15],bl);let h=(t[11]&&t[9]<t[6]||t[5])&&pl(t),f=t[3]&&yl(t);const g=t[16].platform,p=ee(g,t,t[15],_l),b=p||ad(t);let T=[{href:t[2]},t[12]],I={};for(let m=0;m<T.length;m+=1)I=k(I,T[m]);const E=t[16].default,C=ee(E,t,t[15],null);return{c(){e=F("header"),d&&d.c(),n=fe(),h&&h.c(),i=fe(),r=F("a"),f&&f.c(),s=fe(),b&&b.c(),o=fe(),C&&C.c(),H(r,I),_(r,"bx--header__name",!0),V(e,"role","banner"),V(e,"aria-label",t[10]),_(e,"bx--header",!0)},m(m,O){P(m,e,O),d&&d.m(e,null),S(e,n),h&&h.m(e,null),S(e,i),S(e,r),f&&f.m(r,null),S(r,s),b&&b.m(r,null),t[20](r),S(e,o),C&&C.m(e,null),l=!0,a||(u=[y(window,"resize",t[18]),y(r,"click",t[17])],a=!0)},p(m,[O]){d&&d.p&&(!l||O&32768)&&ne(d,c,m,m[15],l?te(c,m[15],O,ld):ie(m[15]),bl),m[11]&&m[9]<m[6]||m[5]?h?(h.p(m,O),O&2656&&A(h,1)):(h=pl(m),h.c(),A(h,1),h.m(e,i)):h&&(Te(),w(h,1,1,()=>{h=null}),Ee()),m[3]?f?f.p(m,O):(f=yl(m),f.c(),f.m(r,s)):f&&(f.d(1),f=null),p?p.p&&(!l||O&32768)&&ne(p,g,m,m[15],l?te(g,m[15],O,od):ie(m[15]),_l):b&&b.p&&(!l||O&16)&&b.p(m,l?O:-1),H(r,I=x(T,[(!l||O&4)&&{href:m[2]},O&4096&&m[12]])),_(r,"bx--header__name",!0),C&&C.p&&(!l||O&32768)&&ne(C,E,m,m[15],l?te(E,m[15],O,null):ie(m[15]),null),(!l||O&1024)&&V(e,"aria-label",m[10])},i(m){l||(A(d,m),A(h),A(b,m),A(C,m),l=!0)},o(m){w(d,m),w(h),w(b,m),w(C,m),l=!1},d(m){m&&R(e),d&&d.d(m),h&&h.d(),f&&f.d(),b&&b.d(m),t[20](null),C&&C.d(m),a=!1,se(u)}}}function cd(t,e,n){let i;const r=["expandedByDefault","isSideNavOpen","uiShellAriaLabel","href","company","platformName","persistentHamburgerMenu","expansionBreakpoint","ref","iconMenu","iconClose"];let s=X(e,r),o;dt(t,td,G=>n(11,o=G));let{$$slots:l={},$$scope:a}=e,{expandedByDefault:u=!0}=e,{isSideNavOpen:c=!1}=e,{uiShellAriaLabel:d=void 0}=e,{href:h=void 0}=e,{company:f=void 0}=e,{platformName:g=""}=e,{persistentHamburgerMenu:p=!1}=e,{expansionBreakpoint:b=1056}=e,{ref:T=null}=e,{iconMenu:I=gl}=e,{iconClose:E=Ln}=e,C;function m(G){v.call(this,t,G)}function O(){n(9,C=window.innerWidth)}function D(G){c=G,n(0,c),n(13,u),n(9,C),n(6,b),n(5,p)}function J(G){rt[G?"unshift":"push"](()=>{T=G,n(1,T)})}return t.$$set=G=>{n(21,e=k(k({},e),Q(G))),n(12,s=X(e,r)),"expandedByDefault"in G&&n(13,u=G.expandedByDefault),"isSideNavOpen"in G&&n(0,c=G.isSideNavOpen),"uiShellAriaLabel"in G&&n(14,d=G.uiShellAriaLabel),"href"in G&&n(2,h=G.href),"company"in G&&n(3,f=G.company),"platformName"in G&&n(4,g=G.platformName),"persistentHamburgerMenu"in G&&n(5,p=G.persistentHamburgerMenu),"expansionBreakpoint"in G&&n(6,b=G.expansionBreakpoint),"ref"in G&&n(1,T=G.ref),"iconMenu"in G&&n(7,I=G.iconMenu),"iconClose"in G&&n(8,E=G.iconClose),"$$scope"in G&&n(15,a=G.$$scope)},t.$$.update=()=>{t.$$.dirty&8800&&n(0,c=u&&C>=b&&!p),n(10,i=f?`${f} `:""+(d||e["aria-label"]||g))},e=Q(e),[c,T,h,f,g,p,b,I,E,C,i,o,s,u,d,a,l,m,O,D,J]}class hd extends ue{constructor(e){super();ae(this,e,cd,ud,oe,{expandedByDefault:13,isSideNavOpen:0,uiShellAriaLabel:14,href:2,company:3,platformName:4,persistentHamburgerMenu:5,expansionBreakpoint:6,ref:1,iconMenu:7,iconClose:8})}}var Cv=hd;function fd(t){let e;return{c(){e=le("Skip to main content")},m(n,i){P(n,e,i)},d(n){n&&R(e)}}}function dd(t){let e,n,i,r;const s=t[4].default,o=ee(s,t,t[3],null),l=o||fd();let a=[{href:t[0]},{tabindex:t[1]},t[2]],u={};for(let c=0;c<a.length;c+=1)u=k(u,a[c]);return{c(){e=F("a"),l&&l.c(),H(e,u),_(e,"bx--skip-to-content",!0)},m(c,d){P(c,e,d),l&&l.m(e,null),n=!0,i||(r=y(e,"click",t[5]),i=!0)},p(c,[d]){o&&o.p&&(!n||d&8)&&ne(o,s,c,c[3],n?te(s,c[3],d,null):ie(c[3]),null),H(e,u=x(a,[(!n||d&1)&&{href:c[0]},(!n||d&2)&&{tabindex:c[1]},d&4&&c[2]])),_(e,"bx--skip-to-content",!0)},i(c){n||(A(l,c),n=!0)},o(c){w(l,c),n=!1},d(c){c&&R(e),l&&l.d(c),i=!1,r()}}}function md(t,e,n){const i=["href","tabindex"];let r=X(e,i),{$$slots:s={},$$scope:o}=e,{href:l="#main-content"}=e,{tabindex:a="0"}=e;function u(c){v.call(this,t,c)}return t.$$set=c=>{e=k(k({},e),Q(c)),n(2,r=X(e,i)),"href"in c&&n(0,l=c.href),"tabindex"in c&&n(1,a=c.tabindex),"$$scope"in c&&n(3,o=c.$$scope)},[l,a,r,o,s,u]}class gd extends ue{constructor(e){super();ae(this,e,md,dd,oe,{href:0,tabindex:1})}}var Pv=gd;function _d(t){let e,n;const i=t[3].default,r=ee(i,t,t[2],null);let s=[{id:t[0]},t[1]],o={};for(let l=0;l<s.length;l+=1)o=k(o,s[l]);return{c(){e=F("main"),r&&r.c(),H(e,o),_(e,"bx--content",!0)},m(l,a){P(l,e,a),r&&r.m(e,null),n=!0},p(l,[a]){r&&r.p&&(!n||a&4)&&ne(r,i,l,l[2],n?te(i,l[2],a,null):ie(l[2]),null),H(e,o=x(s,[(!n||a&1)&&{id:l[0]},a&2&&l[1]])),_(e,"bx--content",!0)},i(l){n||(A(r,l),n=!0)},o(l){w(r,l),n=!1},d(l){l&&R(e),r&&r.d(l)}}}function bd(t,e,n){const i=["id"];let r=X(e,i),{$$slots:s={},$$scope:o}=e,{id:l="main-content"}=e;return t.$$set=a=>{e=k(k({},e),Q(a)),n(1,r=X(e,i)),"id"in a&&n(0,l=a.id),"$$scope"in a&&n(2,o=a.$$scope)},[l,r,o,s]}class pd extends ue{constructor(e){super();ae(this,e,bd,_d,oe,{id:0})}}var Sv=pd;function vl(t){let e,n;return{c(){e=re("title"),n=le(t[2])},m(i,r){P(i,e,r),S(e,n)},p(i,r){r&4&&ge(n,i[2])},d(i){i&&R(e)}}}function yd(t){let e,n=t[2]&&vl(t);return{c(){n&&n.c(),e=we()},m(i,r){n&&n.m(i,r),P(i,e,r)},p(i,r){i[2]?n?n.p(i,r):(n=vl(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&R(e)}}}function vd(t){let e,n,i,r,s,o;const l=t[11].default,a=ee(l,t,t[10],null),u=a||yd(t);let c=[{"data-carbon-icon":"CheckmarkFilled20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 20 20"},{fill:"currentColor"},{width:"20"},{height:"20"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],d={};for(let h=0;h<c.length;h+=1)d=k(d,c[h]);return{c(){e=re("svg"),n=re("path"),i=re("path"),u&&u.c(),V(n,"d","M10,1c-4.9,0-9,4.1-9,9s4.1,9,9,9s9-4,9-9S15,1,10,1z M8.7,13.5l-3.2-3.2l1-1l2.2,2.2l4.8-4.8l1,1L8.7,13.5z"),V(i,"fill","none"),V(i,"d","M8.7,13.5l-3.2-3.2l1-1l2.2,2.2l4.8-4.8l1,1L8.7,13.5z"),V(i,"data-icon-path","inner-path"),V(i,"opacity","0"),Pe(e,d)},m(h,f){P(h,e,f),S(e,n),S(e,i),u&&u.m(e,null),r=!0,s||(o=[y(e,"click",t[12]),y(e,"mouseover",t[13]),y(e,"mouseenter",t[14]),y(e,"mouseleave",t[15]),y(e,"keyup",t[16]),y(e,"keydown",t[17])],s=!0)},p(h,[f]){a?a.p&&(!r||f&1024)&&ne(a,l,h,h[10],r?te(l,h[10],f,null):ie(h[10]),null):u&&u.p&&(!r||f&4)&&u.p(h,r?f:-1),Pe(e,d=x(c,[{"data-carbon-icon":"CheckmarkFilled20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 20 20"},{fill:"currentColor"},{width:"20"},{height:"20"},(!r||f&1)&&{class:h[0]},{preserveAspectRatio:"xMidYMid meet"},(!r||f&8)&&{style:h[3]},(!r||f&2)&&{id:h[1]},f&16&&h[4]]))},i(h){r||(A(u,h),r=!0)},o(h){w(u,h),r=!1},d(h){h&&R(e),u&&u.d(h),s=!1,se(o)}}}function Td(t,e,n){let i,r,s,o,{$$slots:l={},$$scope:a}=e,{class:u=void 0}=e,{id:c=void 0}=e,{tabindex:d=void 0}=e,{focusable:h=!1}=e,{title:f=void 0}=e,{style:g=void 0}=e;function p(m){v.call(this,t,m)}function b(m){v.call(this,t,m)}function T(m){v.call(this,t,m)}function I(m){v.call(this,t,m)}function E(m){v.call(this,t,m)}function C(m){v.call(this,t,m)}return t.$$set=m=>{n(18,e=k(k({},e),Q(m))),"class"in m&&n(0,u=m.class),"id"in m&&n(1,c=m.id),"tabindex"in m&&n(5,d=m.tabindex),"focusable"in m&&n(6,h=m.focusable),"title"in m&&n(2,f=m.title),"style"in m&&n(3,g=m.style),"$$scope"in m&&n(10,a=m.$$scope)},t.$$.update=()=>{n(9,i=e["aria-label"]),n(8,r=e["aria-labelledby"]),t.$$.dirty&772&&n(7,s=i||r||f),t.$$.dirty&992&&n(4,o={"aria-label":i,"aria-labelledby":r,"aria-hidden":s?void 0:!0,role:s?"img":void 0,focusable:d==="0"?!0:h,tabindex:d})},e=Q(e),[u,c,f,g,o,d,h,s,r,i,a,l,p,b,T,I,E,C]}class Ed extends ue{constructor(e){super();ae(this,e,Td,vd,oe,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}}var Id=Ed;function Tl(t){let e,n;return{c(){e=re("title"),n=le(t[2])},m(i,r){P(i,e,r),S(e,n)},p(i,r){r&4&&ge(n,i[2])},d(i){i&&R(e)}}}function Ad(t){let e,n=t[2]&&Tl(t);return{c(){n&&n.c(),e=we()},m(i,r){n&&n.m(i,r),P(i,e,r)},p(i,r){i[2]?n?n.p(i,r):(n=Tl(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&R(e)}}}function kd(t){let e,n,i,r,s,o;const l=t[11].default,a=ee(l,t,t[10],null),u=a||Ad(t);let c=[{"data-carbon-icon":"ErrorFilled20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 20 20"},{fill:"currentColor"},{width:"20"},{height:"20"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],d={};for(let h=0;h<c.length;h+=1)d=k(d,c[h]);return{c(){e=re("svg"),n=re("path"),i=re("path"),u&&u.c(),V(n,"d","M10,1c-5,0-9,4-9,9s4,9,9,9s9-4,9-9S15,1,10,1z M13.5,14.5l-8-8l1-1l8,8L13.5,14.5z"),V(i,"d","M13.5,14.5l-8-8l1-1l8,8L13.5,14.5z"),V(i,"data-icon-path","inner-path"),V(i,"opacity","0"),Pe(e,d)},m(h,f){P(h,e,f),S(e,n),S(e,i),u&&u.m(e,null),r=!0,s||(o=[y(e,"click",t[12]),y(e,"mouseover",t[13]),y(e,"mouseenter",t[14]),y(e,"mouseleave",t[15]),y(e,"keyup",t[16]),y(e,"keydown",t[17])],s=!0)},p(h,[f]){a?a.p&&(!r||f&1024)&&ne(a,l,h,h[10],r?te(l,h[10],f,null):ie(h[10]),null):u&&u.p&&(!r||f&4)&&u.p(h,r?f:-1),Pe(e,d=x(c,[{"data-carbon-icon":"ErrorFilled20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 20 20"},{fill:"currentColor"},{width:"20"},{height:"20"},(!r||f&1)&&{class:h[0]},{preserveAspectRatio:"xMidYMid meet"},(!r||f&8)&&{style:h[3]},(!r||f&2)&&{id:h[1]},f&16&&h[4]]))},i(h){r||(A(u,h),r=!0)},o(h){w(u,h),r=!1},d(h){h&&R(e),u&&u.d(h),s=!1,se(o)}}}function wd(t,e,n){let i,r,s,o,{$$slots:l={},$$scope:a}=e,{class:u=void 0}=e,{id:c=void 0}=e,{tabindex:d=void 0}=e,{focusable:h=!1}=e,{title:f=void 0}=e,{style:g=void 0}=e;function p(m){v.call(this,t,m)}function b(m){v.call(this,t,m)}function T(m){v.call(this,t,m)}function I(m){v.call(this,t,m)}function E(m){v.call(this,t,m)}function C(m){v.call(this,t,m)}return t.$$set=m=>{n(18,e=k(k({},e),Q(m))),"class"in m&&n(0,u=m.class),"id"in m&&n(1,c=m.id),"tabindex"in m&&n(5,d=m.tabindex),"focusable"in m&&n(6,h=m.focusable),"title"in m&&n(2,f=m.title),"style"in m&&n(3,g=m.style),"$$scope"in m&&n(10,a=m.$$scope)},t.$$.update=()=>{n(9,i=e["aria-label"]),n(8,r=e["aria-labelledby"]),t.$$.dirty&772&&n(7,s=i||r||f),t.$$.dirty&992&&n(4,o={"aria-label":i,"aria-labelledby":r,"aria-hidden":s?void 0:!0,role:s?"img":void 0,focusable:d==="0"?!0:h,tabindex:d})},e=Q(e),[u,c,f,g,o,d,h,s,r,i,a,l,p,b,T,I,E,C]}class Rd extends ue{constructor(e){super();ae(this,e,wd,kd,oe,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}}var Cd=Rd;function El(t){let e,n;return{c(){e=re("title"),n=le(t[2])},m(i,r){P(i,e,r),S(e,n)},p(i,r){r&4&&ge(n,i[2])},d(i){i&&R(e)}}}function Pd(t){let e,n=t[2]&&El(t);return{c(){n&&n.c(),e=we()},m(i,r){n&&n.m(i,r),P(i,e,r)},p(i,r){i[2]?n?n.p(i,r):(n=El(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&R(e)}}}function Sd(t){let e,n,i,r,s,o;const l=t[11].default,a=ee(l,t,t[10],null),u=a||Pd(t);let c=[{"data-carbon-icon":"InformationFilled20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],d={};for(let h=0;h<c.length;h+=1)d=k(d,c[h]);return{c(){e=re("svg"),n=re("path"),i=re("path"),u&&u.c(),V(n,"fill","none"),V(n,"d","M16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,13.875H17.125v-8H13v2.25h1.875v5.75H12v2.25h8Z"),V(n,"data-icon-path","inner-path"),V(i,"d","M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Zm0,6a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,16.125H12v-2.25h2.875v-5.75H13v-2.25h4.125v8H20Z"),Pe(e,d)},m(h,f){P(h,e,f),S(e,n),S(e,i),u&&u.m(e,null),r=!0,s||(o=[y(e,"click",t[12]),y(e,"mouseover",t[13]),y(e,"mouseenter",t[14]),y(e,"mouseleave",t[15]),y(e,"keyup",t[16]),y(e,"keydown",t[17])],s=!0)},p(h,[f]){a?a.p&&(!r||f&1024)&&ne(a,l,h,h[10],r?te(l,h[10],f,null):ie(h[10]),null):u&&u.p&&(!r||f&4)&&u.p(h,r?f:-1),Pe(e,d=x(c,[{"data-carbon-icon":"InformationFilled20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},(!r||f&1)&&{class:h[0]},{preserveAspectRatio:"xMidYMid meet"},(!r||f&8)&&{style:h[3]},(!r||f&2)&&{id:h[1]},f&16&&h[4]]))},i(h){r||(A(u,h),r=!0)},o(h){w(u,h),r=!1},d(h){h&&R(e),u&&u.d(h),s=!1,se(o)}}}function Vd(t,e,n){let i,r,s,o,{$$slots:l={},$$scope:a}=e,{class:u=void 0}=e,{id:c=void 0}=e,{tabindex:d=void 0}=e,{focusable:h=!1}=e,{title:f=void 0}=e,{style:g=void 0}=e;function p(m){v.call(this,t,m)}function b(m){v.call(this,t,m)}function T(m){v.call(this,t,m)}function I(m){v.call(this,t,m)}function E(m){v.call(this,t,m)}function C(m){v.call(this,t,m)}return t.$$set=m=>{n(18,e=k(k({},e),Q(m))),"class"in m&&n(0,u=m.class),"id"in m&&n(1,c=m.id),"tabindex"in m&&n(5,d=m.tabindex),"focusable"in m&&n(6,h=m.focusable),"title"in m&&n(2,f=m.title),"style"in m&&n(3,g=m.style),"$$scope"in m&&n(10,a=m.$$scope)},t.$$.update=()=>{n(9,i=e["aria-label"]),n(8,r=e["aria-labelledby"]),t.$$.dirty&772&&n(7,s=i||r||f),t.$$.dirty&992&&n(4,o={"aria-label":i,"aria-labelledby":r,"aria-hidden":s?void 0:!0,role:s?"img":void 0,focusable:d==="0"?!0:h,tabindex:d})},e=Q(e),[u,c,f,g,o,d,h,s,r,i,a,l,p,b,T,I,E,C]}class Dd extends ue{constructor(e){super();ae(this,e,Vd,Sd,oe,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}}var Md=Dd;function Il(t){let e,n;return{c(){e=re("title"),n=le(t[2])},m(i,r){P(i,e,r),S(e,n)},p(i,r){r&4&&ge(n,i[2])},d(i){i&&R(e)}}}function Nd(t){let e,n=t[2]&&Il(t);return{c(){n&&n.c(),e=we()},m(i,r){n&&n.m(i,r),P(i,e,r)},p(i,r){i[2]?n?n.p(i,r):(n=Il(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&R(e)}}}function Ld(t){let e,n,i,r,s,o;const l=t[11].default,a=ee(l,t,t[10],null),u=a||Nd(t);let c=[{"data-carbon-icon":"InformationSquareFilled20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],d={};for(let h=0;h<c.length;h+=1)d=k(d,c[h]);return{c(){e=re("svg"),n=re("path"),i=re("path"),u&&u.c(),V(n,"fill","none"),V(n,"d","M16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,13.875H17.125v-8H13v2.25h1.875v5.75H12v2.25h8Z"),V(n,"data-icon-path","inner-path"),V(i,"d","M26,4H6A2,2,0,0,0,4,6V26a2,2,0,0,0,2,2H26a2,2,0,0,0,2-2V6A2,2,0,0,0,26,4ZM16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,16.125H12v-2.25h2.875v-5.75H13v-2.25h4.125v8H20Z"),Pe(e,d)},m(h,f){P(h,e,f),S(e,n),S(e,i),u&&u.m(e,null),r=!0,s||(o=[y(e,"click",t[12]),y(e,"mouseover",t[13]),y(e,"mouseenter",t[14]),y(e,"mouseleave",t[15]),y(e,"keyup",t[16]),y(e,"keydown",t[17])],s=!0)},p(h,[f]){a?a.p&&(!r||f&1024)&&ne(a,l,h,h[10],r?te(l,h[10],f,null):ie(h[10]),null):u&&u.p&&(!r||f&4)&&u.p(h,r?f:-1),Pe(e,d=x(c,[{"data-carbon-icon":"InformationSquareFilled20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},(!r||f&1)&&{class:h[0]},{preserveAspectRatio:"xMidYMid meet"},(!r||f&8)&&{style:h[3]},(!r||f&2)&&{id:h[1]},f&16&&h[4]]))},i(h){r||(A(u,h),r=!0)},o(h){w(u,h),r=!1},d(h){h&&R(e),u&&u.d(h),s=!1,se(o)}}}function Od(t,e,n){let i,r,s,o,{$$slots:l={},$$scope:a}=e,{class:u=void 0}=e,{id:c=void 0}=e,{tabindex:d=void 0}=e,{focusable:h=!1}=e,{title:f=void 0}=e,{style:g=void 0}=e;function p(m){v.call(this,t,m)}function b(m){v.call(this,t,m)}function T(m){v.call(this,t,m)}function I(m){v.call(this,t,m)}function E(m){v.call(this,t,m)}function C(m){v.call(this,t,m)}return t.$$set=m=>{n(18,e=k(k({},e),Q(m))),"class"in m&&n(0,u=m.class),"id"in m&&n(1,c=m.id),"tabindex"in m&&n(5,d=m.tabindex),"focusable"in m&&n(6,h=m.focusable),"title"in m&&n(2,f=m.title),"style"in m&&n(3,g=m.style),"$$scope"in m&&n(10,a=m.$$scope)},t.$$.update=()=>{n(9,i=e["aria-label"]),n(8,r=e["aria-labelledby"]),t.$$.dirty&772&&n(7,s=i||r||f),t.$$.dirty&992&&n(4,o={"aria-label":i,"aria-labelledby":r,"aria-hidden":s?void 0:!0,role:s?"img":void 0,focusable:d==="0"?!0:h,tabindex:d})},e=Q(e),[u,c,f,g,o,d,h,s,r,i,a,l,p,b,T,I,E,C]}class Fd extends ue{constructor(e){super();ae(this,e,Od,Ld,oe,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}}var Bd=Fd;function Al(t){let e,n;return{c(){e=re("title"),n=le(t[2])},m(i,r){P(i,e,r),S(e,n)},p(i,r){r&4&&ge(n,i[2])},d(i){i&&R(e)}}}function Ud(t){let e,n=t[2]&&Al(t);return{c(){n&&n.c(),e=we()},m(i,r){n&&n.m(i,r),P(i,e,r)},p(i,r){i[2]?n?n.p(i,r):(n=Al(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&R(e)}}}function zd(t){let e,n,i,r,s,o;const l=t[11].default,a=ee(l,t,t[10],null),u=a||Ud(t);let c=[{"data-carbon-icon":"WarningFilled20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 20 20"},{fill:"currentColor"},{width:"20"},{height:"20"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],d={};for(let h=0;h<c.length;h+=1)d=k(d,c[h]);return{c(){e=re("svg"),n=re("path"),i=re("path"),u&&u.c(),V(n,"d","M10,1c-5,0-9,4-9,9s4,9,9,9s9-4,9-9S15,1,10,1z M9.2,5h1.5v7H9.2V5z M10,16c-0.6,0-1-0.4-1-1s0.4-1,1-1	s1,0.4,1,1S10.6,16,10,16z"),V(i,"d","M9.2,5h1.5v7H9.2V5z M10,16c-0.6,0-1-0.4-1-1s0.4-1,1-1s1,0.4,1,1S10.6,16,10,16z"),V(i,"data-icon-path","inner-path"),V(i,"opacity","0"),Pe(e,d)},m(h,f){P(h,e,f),S(e,n),S(e,i),u&&u.m(e,null),r=!0,s||(o=[y(e,"click",t[12]),y(e,"mouseover",t[13]),y(e,"mouseenter",t[14]),y(e,"mouseleave",t[15]),y(e,"keyup",t[16]),y(e,"keydown",t[17])],s=!0)},p(h,[f]){a?a.p&&(!r||f&1024)&&ne(a,l,h,h[10],r?te(l,h[10],f,null):ie(h[10]),null):u&&u.p&&(!r||f&4)&&u.p(h,r?f:-1),Pe(e,d=x(c,[{"data-carbon-icon":"WarningFilled20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 20 20"},{fill:"currentColor"},{width:"20"},{height:"20"},(!r||f&1)&&{class:h[0]},{preserveAspectRatio:"xMidYMid meet"},(!r||f&8)&&{style:h[3]},(!r||f&2)&&{id:h[1]},f&16&&h[4]]))},i(h){r||(A(u,h),r=!0)},o(h){w(u,h),r=!1},d(h){h&&R(e),u&&u.d(h),s=!1,se(o)}}}function jd(t,e,n){let i,r,s,o,{$$slots:l={},$$scope:a}=e,{class:u=void 0}=e,{id:c=void 0}=e,{tabindex:d=void 0}=e,{focusable:h=!1}=e,{title:f=void 0}=e,{style:g=void 0}=e;function p(m){v.call(this,t,m)}function b(m){v.call(this,t,m)}function T(m){v.call(this,t,m)}function I(m){v.call(this,t,m)}function E(m){v.call(this,t,m)}function C(m){v.call(this,t,m)}return t.$$set=m=>{n(18,e=k(k({},e),Q(m))),"class"in m&&n(0,u=m.class),"id"in m&&n(1,c=m.id),"tabindex"in m&&n(5,d=m.tabindex),"focusable"in m&&n(6,h=m.focusable),"title"in m&&n(2,f=m.title),"style"in m&&n(3,g=m.style),"$$scope"in m&&n(10,a=m.$$scope)},t.$$.update=()=>{n(9,i=e["aria-label"]),n(8,r=e["aria-labelledby"]),t.$$.dirty&772&&n(7,s=i||r||f),t.$$.dirty&992&&n(4,o={"aria-label":i,"aria-labelledby":r,"aria-hidden":s?void 0:!0,role:s?"img":void 0,focusable:d==="0"?!0:h,tabindex:d})},e=Q(e),[u,c,f,g,o,d,h,s,r,i,a,l,p,b,T,I,E,C]}class qd extends ue{constructor(e){super();ae(this,e,jd,zd,oe,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}}var Hd=qd;function kl(t){let e,n;return{c(){e=re("title"),n=le(t[2])},m(i,r){P(i,e,r),S(e,n)},p(i,r){r&4&&ge(n,i[2])},d(i){i&&R(e)}}}function Wd(t){let e,n=t[2]&&kl(t);return{c(){n&&n.c(),e=we()},m(i,r){n&&n.m(i,r),P(i,e,r)},p(i,r){i[2]?n?n.p(i,r):(n=kl(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&R(e)}}}function Kd(t){let e,n,i,r,s,o,l;const a=t[11].default,u=ee(a,t,t[10],null),c=u||Wd(t);let d=[{"data-carbon-icon":"WarningAltFilled20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],h={};for(let f=0;f<d.length;f+=1)h=k(h,d[f]);return{c(){e=re("svg"),n=re("path"),i=re("path"),r=re("path"),c&&c.c(),V(n,"fill","none"),V(n,"d","M16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Zm-1.125-5h2.25V12h-2.25Z"),V(n,"data-icon-path","inner-path"),V(i,"d","M16.002,6.1714h-.004L4.6487,27.9966,4.6506,28H27.3494l.0019-.0034ZM14.875,12h2.25v9h-2.25ZM16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Z"),V(r,"d","M29,30H3a1,1,0,0,1-.8872-1.4614l13-25a1,1,0,0,1,1.7744,0l13,25A1,1,0,0,1,29,30ZM4.6507,28H27.3493l.002-.0033L16.002,6.1714h-.004L4.6487,27.9967Z"),Pe(e,h)},m(f,g){P(f,e,g),S(e,n),S(e,i),S(e,r),c&&c.m(e,null),s=!0,o||(l=[y(e,"click",t[12]),y(e,"mouseover",t[13]),y(e,"mouseenter",t[14]),y(e,"mouseleave",t[15]),y(e,"keyup",t[16]),y(e,"keydown",t[17])],o=!0)},p(f,[g]){u?u.p&&(!s||g&1024)&&ne(u,a,f,f[10],s?te(a,f[10],g,null):ie(f[10]),null):c&&c.p&&(!s||g&4)&&c.p(f,s?g:-1),Pe(e,h=x(d,[{"data-carbon-icon":"WarningAltFilled20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},(!s||g&1)&&{class:f[0]},{preserveAspectRatio:"xMidYMid meet"},(!s||g&8)&&{style:f[3]},(!s||g&2)&&{id:f[1]},g&16&&f[4]]))},i(f){s||(A(c,f),s=!0)},o(f){w(c,f),s=!1},d(f){f&&R(e),c&&c.d(f),o=!1,se(l)}}}function Gd(t,e,n){let i,r,s,o,{$$slots:l={},$$scope:a}=e,{class:u=void 0}=e,{id:c=void 0}=e,{tabindex:d=void 0}=e,{focusable:h=!1}=e,{title:f=void 0}=e,{style:g=void 0}=e;function p(m){v.call(this,t,m)}function b(m){v.call(this,t,m)}function T(m){v.call(this,t,m)}function I(m){v.call(this,t,m)}function E(m){v.call(this,t,m)}function C(m){v.call(this,t,m)}return t.$$set=m=>{n(18,e=k(k({},e),Q(m))),"class"in m&&n(0,u=m.class),"id"in m&&n(1,c=m.id),"tabindex"in m&&n(5,d=m.tabindex),"focusable"in m&&n(6,h=m.focusable),"title"in m&&n(2,f=m.title),"style"in m&&n(3,g=m.style),"$$scope"in m&&n(10,a=m.$$scope)},t.$$.update=()=>{n(9,i=e["aria-label"]),n(8,r=e["aria-labelledby"]),t.$$.dirty&772&&n(7,s=i||r||f),t.$$.dirty&992&&n(4,o={"aria-label":i,"aria-labelledby":r,"aria-hidden":s?void 0:!0,role:s?"img":void 0,focusable:d==="0"?!0:h,tabindex:d})},e=Q(e),[u,c,f,g,o,d,h,s,r,i,a,l,p,b,T,I,E,C]}class Qd extends ue{constructor(e){super();ae(this,e,Gd,Kd,oe,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}}var Yd=Qd;function Xd(t){let e,n,i;var r=t[3][t[0]];function s(o){return{props:{title:o[2],class:"bx--"+o[1]+"-notification__icon"}}}return r&&(e=new r(s(t))),{c(){e&&pe(e.$$.fragment),n=we()},m(o,l){e&&_e(e,o,l),P(o,n,l),i=!0},p(o,[l]){const a={};if(l&4&&(a.title=o[2]),l&2&&(a.class="bx--"+o[1]+"-notification__icon"),r!==(r=o[3][o[0]])){if(e){Te();const u=e;w(u.$$.fragment,1,0,()=>{be(u,1)}),Ee()}r?(e=new r(s(o)),pe(e.$$.fragment),A(e.$$.fragment,1),_e(e,n.parentNode,n)):e=null}else r&&e.$set(a)},i(o){i||(e&&A(e.$$.fragment,o),i=!0)},o(o){e&&w(e.$$.fragment,o),i=!1},d(o){o&&R(n),e&&be(e,o)}}}function Jd(t,e,n){let{kind:i="error"}=e,{notificationType:r="toast"}=e,{iconDescription:s="Closes notification"}=e;const o={error:Cd,"info-square":Bd,info:Md,success:Id,warning:Hd,"warning-alt":Yd};return t.$$set=l=>{"kind"in l&&n(0,i=l.kind),"notificationType"in l&&n(1,r=l.notificationType),"iconDescription"in l&&n(2,s=l.iconDescription)},[i,r,s,o]}class Zd extends ue{constructor(e){super();ae(this,e,Jd,Xd,oe,{kind:0,notificationType:1,iconDescription:2})}}var xd=Zd;function wl(t){let e,n,i,r,s,o,l,a,u,c,d;const h=t[5].default,f=ee(h,t,t[4],null);return{c(){e=F("div"),n=F("h3"),i=le(t[1]),r=fe(),s=F("div"),o=le(t[2]),l=fe(),a=F("div"),u=le(t[3]),c=fe(),f&&f.c(),_(n,"bx--toast-notification__title",!0),_(s,"bx--toast-notification__subtitle",!0),_(a,"bx--toast-notification__caption",!0),_(e,"bx--toast-notification__details",!0)},m(g,p){P(g,e,p),S(e,n),S(n,i),S(e,r),S(e,s),S(s,o),S(e,l),S(e,a),S(a,u),S(e,c),f&&f.m(e,null),d=!0},p(g,p){(!d||p&2)&&ge(i,g[1]),(!d||p&4)&&ge(o,g[2]),(!d||p&8)&&ge(u,g[3]),f&&f.p&&(!d||p&16)&&ne(f,h,g,g[4],d?te(h,g[4],p,null):ie(g[4]),null)},i(g){d||(A(f,g),d=!0)},o(g){w(f,g),d=!1},d(g){g&&R(e),f&&f.d(g)}}}function Rl(t){let e,n,i,r,s,o,l,a;const u=t[5].default,c=ee(u,t,t[4],null);return{c(){e=F("div"),n=F("p"),i=le(t[1]),r=fe(),s=F("div"),o=le(t[2]),l=fe(),c&&c.c(),_(n,"bx--inline-notification__title",!0),_(s,"bx--inline-notification__subtitle",!0),_(e,"bx--inline-notification__text-wrapper",!0)},m(d,h){P(d,e,h),S(e,n),S(n,i),S(e,r),S(e,s),S(s,o),S(e,l),c&&c.m(e,null),a=!0},p(d,h){(!a||h&2)&&ge(i,d[1]),(!a||h&4)&&ge(o,d[2]),c&&c.p&&(!a||h&16)&&ne(c,u,d,d[4],a?te(u,d[4],h,null):ie(d[4]),null)},i(d){a||(A(c,d),a=!0)},o(d){w(c,d),a=!1},d(d){d&&R(e),c&&c.d(d)}}}function $d(t){let e,n,i,r=t[0]==="toast"&&wl(t),s=t[0]==="inline"&&Rl(t);return{c(){r&&r.c(),e=fe(),s&&s.c(),n=we()},m(o,l){r&&r.m(o,l),P(o,e,l),s&&s.m(o,l),P(o,n,l),i=!0},p(o,[l]){o[0]==="toast"?r?(r.p(o,l),l&1&&A(r,1)):(r=wl(o),r.c(),A(r,1),r.m(e.parentNode,e)):r&&(Te(),w(r,1,1,()=>{r=null}),Ee()),o[0]==="inline"?s?(s.p(o,l),l&1&&A(s,1)):(s=Rl(o),s.c(),A(s,1),s.m(n.parentNode,n)):s&&(Te(),w(s,1,1,()=>{s=null}),Ee())},i(o){i||(A(r),A(s),i=!0)},o(o){w(r),w(s),i=!1},d(o){r&&r.d(o),o&&R(e),s&&s.d(o),o&&R(n)}}}function em(t,e,n){let{$$slots:i={},$$scope:r}=e,{notificationType:s="toast"}=e,{title:o="Title"}=e,{subtitle:l=""}=e,{caption:a="Caption"}=e;return t.$$set=u=>{"notificationType"in u&&n(0,s=u.notificationType),"title"in u&&n(1,o=u.title),"subtitle"in u&&n(2,l=u.subtitle),"caption"in u&&n(3,a=u.caption),"$$scope"in u&&n(4,r=u.$$scope)},[s,o,l,a,r,i]}class tm extends ue{constructor(e){super();ae(this,e,em,$d,oe,{notificationType:0,title:1,subtitle:2,caption:3})}}var nm=tm;function im(t){let e,n,i,r,s;var o=t[1];function l(c){return{props:{title:c[2],class:"bx--"+c[0]+"-notification__close-icon"}}}o&&(n=new o(l(t)));let a=[{type:"button"},{"aria-label":t[3]},{title:t[3]},t[4]],u={};for(let c=0;c<a.length;c+=1)u=k(u,a[c]);return{c(){e=F("button"),n&&pe(n.$$.fragment),H(e,u),_(e,"bx--toast-notification__close-button",t[0]==="toast"),_(e,"bx--inline-notification__close-button",t[0]==="inline")},m(c,d){P(c,e,d),n&&_e(n,e,null),e.autofocus&&e.focus(),i=!0,r||(s=[y(e,"click",t[5]),y(e,"mouseover",t[6]),y(e,"mouseenter",t[7]),y(e,"mouseleave",t[8])],r=!0)},p(c,[d]){const h={};if(d&4&&(h.title=c[2]),d&1&&(h.class="bx--"+c[0]+"-notification__close-icon"),o!==(o=c[1])){if(n){Te();const f=n;w(f.$$.fragment,1,0,()=>{be(f,1)}),Ee()}o?(n=new o(l(c)),pe(n.$$.fragment),A(n.$$.fragment,1),_e(n,e,null)):n=null}else o&&n.$set(h);H(e,u=x(a,[{type:"button"},(!i||d&8)&&{"aria-label":c[3]},(!i||d&8)&&{title:c[3]},d&16&&c[4]])),_(e,"bx--toast-notification__close-button",c[0]==="toast"),_(e,"bx--inline-notification__close-button",c[0]==="inline")},i(c){i||(n&&A(n.$$.fragment,c),i=!0)},o(c){n&&w(n.$$.fragment,c),i=!1},d(c){c&&R(e),n&&be(n),r=!1,se(s)}}}function rm(t,e,n){const i=["notificationType","icon","title","iconDescription"];let r=X(e,i),{notificationType:s="toast"}=e,{icon:o=Ln}=e,{title:l=void 0}=e,{iconDescription:a="Close icon"}=e;function u(f){v.call(this,t,f)}function c(f){v.call(this,t,f)}function d(f){v.call(this,t,f)}function h(f){v.call(this,t,f)}return t.$$set=f=>{e=k(k({},e),Q(f)),n(4,r=X(e,i)),"notificationType"in f&&n(0,s=f.notificationType),"icon"in f&&n(1,o=f.icon),"title"in f&&n(2,l=f.title),"iconDescription"in f&&n(3,a=f.iconDescription)},[s,o,l,a,r,u,c,d,h]}class sm extends ue{constructor(e){super();ae(this,e,rm,im,oe,{notificationType:0,icon:1,title:2,iconDescription:3})}}var om=sm;const lm=t=>({}),Cl=t=>({});function Pl(t){let e,n,i,r,s,o,l,a,u,c;i=new xd({props:{notificationType:"inline",kind:t[0]}}),s=new nm({props:{title:t[3],subtitle:t[4],notificationType:"inline",$$slots:{default:[am]},$$scope:{ctx:t}}});const d=t[11].actions,h=ee(d,t,t[16],Cl);let f=!t[5]&&Sl(t),g=[{role:t[2]},{kind:t[0]},t[9]],p={};for(let b=0;b<g.length;b+=1)p=k(p,g[b]);return{c(){e=F("div"),n=F("div"),pe(i.$$.fragment),r=fe(),pe(s.$$.fragment),o=fe(),h&&h.c(),l=fe(),f&&f.c(),_(n,"bx--inline-notification__details",!0),H(e,p),_(e,"bx--inline-notification",!0),_(e,"bx--inline-notification--low-contrast",t[1]),_(e,"bx--inline-notification--hide-close-button",t[5]),_(e,"bx--inline-notification--error",t[0]==="error"),_(e,"bx--inline-notification--info",t[0]==="info"),_(e,"bx--inline-notification--info-square",t[0]==="info-square"),_(e,"bx--inline-notification--success",t[0]==="success"),_(e,"bx--inline-notification--warning",t[0]==="warning"),_(e,"bx--inline-notification--warning-alt",t[0]==="warning-alt")},m(b,T){P(b,e,T),S(e,n),_e(i,n,null),S(n,r),_e(s,n,null),S(e,o),h&&h.m(e,null),S(e,l),f&&f.m(e,null),a=!0,u||(c=[y(e,"click",t[12]),y(e,"mouseover",t[13]),y(e,"mouseenter",t[14]),y(e,"mouseleave",t[15])],u=!0)},p(b,T){const I={};T&1&&(I.kind=b[0]),i.$set(I);const E={};T&8&&(E.title=b[3]),T&16&&(E.subtitle=b[4]),T&65536&&(E.$$scope={dirty:T,ctx:b}),s.$set(E),h&&h.p&&(!a||T&65536)&&ne(h,d,b,b[16],a?te(d,b[16],T,lm):ie(b[16]),Cl),b[5]?f&&(Te(),w(f,1,1,()=>{f=null}),Ee()):f?(f.p(b,T),T&32&&A(f,1)):(f=Sl(b),f.c(),A(f,1),f.m(e,null)),H(e,p=x(g,[(!a||T&4)&&{role:b[2]},(!a||T&1)&&{kind:b[0]},T&512&&b[9]])),_(e,"bx--inline-notification",!0),_(e,"bx--inline-notification--low-contrast",b[1]),_(e,"bx--inline-notification--hide-close-button",b[5]),_(e,"bx--inline-notification--error",b[0]==="error"),_(e,"bx--inline-notification--info",b[0]==="info"),_(e,"bx--inline-notification--info-square",b[0]==="info-square"),_(e,"bx--inline-notification--success",b[0]==="success"),_(e,"bx--inline-notification--warning",b[0]==="warning"),_(e,"bx--inline-notification--warning-alt",b[0]==="warning-alt")},i(b){a||(A(i.$$.fragment,b),A(s.$$.fragment,b),A(h,b),A(f),a=!0)},o(b){w(i.$$.fragment,b),w(s.$$.fragment,b),w(h,b),w(f),a=!1},d(b){b&&R(e),be(i),be(s),h&&h.d(b),f&&f.d(),u=!1,se(c)}}}function am(t){let e;const n=t[11].default,i=ee(n,t,t[16],null);return{c(){i&&i.c()},m(r,s){i&&i.m(r,s),e=!0},p(r,s){i&&i.p&&(!e||s&65536)&&ne(i,n,r,r[16],e?te(n,r[16],s,null):ie(r[16]),null)},i(r){e||(A(i,r),e=!0)},o(r){w(i,r),e=!1},d(r){i&&i.d(r)}}}function Sl(t){let e,n;return e=new om({props:{iconDescription:t[6],notificationType:"inline"}}),e.$on("click",t[8]),{c(){pe(e.$$.fragment)},m(i,r){_e(e,i,r),n=!0},p(i,r){const s={};r&64&&(s.iconDescription=i[6]),e.$set(s)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){w(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function um(t){let e,n,i=t[7]&&Pl(t);return{c(){i&&i.c(),e=we()},m(r,s){i&&i.m(r,s),P(r,e,s),n=!0},p(r,[s]){r[7]?i?(i.p(r,s),s&128&&A(i,1)):(i=Pl(r),i.c(),A(i,1),i.m(e.parentNode,e)):i&&(Te(),w(i,1,1,()=>{i=null}),Ee())},i(r){n||(A(i),n=!0)},o(r){w(i),n=!1},d(r){i&&i.d(r),r&&R(e)}}}function cm(t,e,n){const i=["kind","lowContrast","timeout","role","title","subtitle","hideCloseButton","iconDescription"];let r=X(e,i),{$$slots:s={},$$scope:o}=e,{kind:l="error"}=e,{lowContrast:a=!1}=e,{timeout:u=0}=e,{role:c="alert"}=e,{title:d=""}=e,{subtitle:h=""}=e,{hideCloseButton:f=!1}=e,{iconDescription:g="Closes notification"}=e;const p=Pt();let b=!0,T;function I(D){n(7,b=!1),p("close",{timeout:D===!0})}Vi(()=>(u&&(T=setTimeout(()=>I(!0),u)),()=>{clearTimeout(T)}));function E(D){v.call(this,t,D)}function C(D){v.call(this,t,D)}function m(D){v.call(this,t,D)}function O(D){v.call(this,t,D)}return t.$$set=D=>{e=k(k({},e),Q(D)),n(9,r=X(e,i)),"kind"in D&&n(0,l=D.kind),"lowContrast"in D&&n(1,a=D.lowContrast),"timeout"in D&&n(10,u=D.timeout),"role"in D&&n(2,c=D.role),"title"in D&&n(3,d=D.title),"subtitle"in D&&n(4,h=D.subtitle),"hideCloseButton"in D&&n(5,f=D.hideCloseButton),"iconDescription"in D&&n(6,g=D.iconDescription),"$$scope"in D&&n(16,o=D.$$scope)},[l,a,c,d,h,f,g,b,I,r,u,s,E,C,m,O,o]}class hm extends ue{constructor(e){super();ae(this,e,cm,um,oe,{kind:0,lowContrast:1,timeout:10,role:2,title:3,subtitle:4,hideCloseButton:5,iconDescription:6})}}var Vv=hm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)==55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)==56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},fm=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],l=t[n++],a=((r&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Dl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,l=o?t[r+1]:0,a=r+2<t.length,u=a?t[r+2]:0,c=s>>2,d=(s&3)<<4|l>>4;let h=(l&15)<<2|u>>6,f=u&63;a||(f=64,o||(h=64)),i.push(n[c],n[d],n[h],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Vl(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fm(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||l==null||u==null||d==null)throw new dm;const h=s<<2|l>>4;if(i.push(h),u!==64){const f=l<<4&240|u>>2;if(i.push(f),d!==64){const g=u<<6&192|d;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dm extends Error{constructor(){super(...arguments);this.name="DecodeBase64StringError"}}const mm=function(t){const e=Vl(t);return Dl.encodeByteArray(e,!0)},Li=function(t){return mm(t).replace(/\./g,"")},gm=function(t){try{return Dl.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=()=>_m().__FIREBASE_DEFAULTS__,pm=()=>{!(typeof process=="undefined"||typeof process.env=="undefined")},ym=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&gm(t[1]);return e&&JSON.parse(e)},Ml=()=>{try{return bm()||pm()||ym()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vm=t=>{var e,n;return(n=(e=Ml())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Tm=t=>{const e=vm(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Nl=()=>{var t;return(t=Ml())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Li(JSON.stringify(n)),Li(JSON.stringify(o)),l].join(".")}function Am(){try{return typeof indexedDB=="object"}catch(t){return!1}}function km(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="FirebaseError";class sn extends Error{constructor(e,n,i){super(n);this.code=e,this.customData=i,this.name=wm,Object.setPrototypeOf(this,sn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?Rm(s,i):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new sn(r,l,i)}}function Rm(t,e){return t.replace(Cm,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const Cm=/\{\$([^}]+)}/g;function $r(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(Ol(s)&&Ol(o)){if(!$r(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Ol(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class On{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Em;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch(r){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Vm(e))try{this.getOrInitializeService({instanceIdentifier:Ht})}catch(n){}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch(s){}}}}clearInstance(e=Ht){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ht){return this.instances.has(e)}getOptions(e=Ht){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(!!i)for(const r of i)try{r(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Sm(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(r){}return i||null}normalizeInstanceIdentifier(e=Ht){return this.component?this.component.multipleInstances?e:Ht:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sm(t){return t===Ht?void 0:t}function Vm(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Pm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const Mm={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},Nm=ke.INFO,Lm={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},Om=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=Lm[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fl{constructor(e){this.name=e,this._logLevel=Nm,this._logHandler=Om,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Mm[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const Fm=(t,e)=>e.some(n=>t instanceof n);let Bl,Ul;function Bm(){return Bl||(Bl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Um(){return Ul||(Ul=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zl=new WeakMap,es=new WeakMap,jl=new WeakMap,ts=new WeakMap,ns=new WeakMap;function zm(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(St(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&zl.set(n,t)}).catch(()=>{}),ns.set(e,t),e}function jm(t){if(es.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});es.set(t,e)}let is={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return es.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jl.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return St(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qm(t){is=t(is)}function Hm(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(rs(this),e,...n);return jl.set(i,e.sort?e.sort():[e]),St(i)}:Um().includes(t)?function(...e){return t.apply(rs(this),e),St(zl.get(this))}:function(...e){return St(t.apply(rs(this),e))}}function Wm(t){return typeof t=="function"?Hm(t):(t instanceof IDBTransaction&&jm(t),Fm(t,Bm())?new Proxy(t,is):t)}function St(t){if(t instanceof IDBRequest)return zm(t);if(ts.has(t))return ts.get(t);const e=Wm(t);return e!==t&&(ts.set(t,e),ns.set(e,t)),e}const rs=t=>ns.get(t);function Km(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),l=St(o);return i&&o.addEventListener("upgradeneeded",a=>{i(St(o.result),a.oldVersion,a.newVersion,St(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),r&&a.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Gm=["get","getKey","getAll","getAllKeys","count"],Qm=["put","add","delete","clear"],ss=new Map;function ql(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ss.get(e))return ss.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=Qm.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Gm.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,r?"readwrite":"readonly");let u=a.store;return i&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),r&&a.done]))[0]};return ss.set(e,s),s}qm(t=>Vn(Sn({},t),{get:(e,n,i)=>ql(e,n)||t.get(e,n,i),has:(e,n)=>!!ql(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Xm(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Xm(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const os="@firebase/app",Hl="0.9.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt=new Fl("@firebase/app"),Jm="@firebase/app-compat",Zm="@firebase/analytics-compat",xm="@firebase/analytics",$m="@firebase/app-check-compat",eg="@firebase/app-check",tg="@firebase/auth",ng="@firebase/auth-compat",ig="@firebase/database",rg="@firebase/database-compat",sg="@firebase/functions",og="@firebase/functions-compat",lg="@firebase/installations",ag="@firebase/installations-compat",ug="@firebase/messaging",cg="@firebase/messaging-compat",hg="@firebase/performance",fg="@firebase/performance-compat",dg="@firebase/remote-config",mg="@firebase/remote-config-compat",gg="@firebase/storage",_g="@firebase/storage-compat",bg="@firebase/firestore",pg="@firebase/firestore-compat",yg="firebase",vg="10.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="[DEFAULT]",Tg={[os]:"fire-core",[Jm]:"fire-core-compat",[xm]:"fire-analytics",[Zm]:"fire-analytics-compat",[eg]:"fire-app-check",[$m]:"fire-app-check-compat",[tg]:"fire-auth",[ng]:"fire-auth-compat",[ig]:"fire-rtdb",[rg]:"fire-rtdb-compat",[sg]:"fire-fn",[og]:"fire-fn-compat",[lg]:"fire-iid",[ag]:"fire-iid-compat",[ug]:"fire-fcm",[cg]:"fire-fcm-compat",[hg]:"fire-perf",[fg]:"fire-perf-compat",[dg]:"fire-rc",[mg]:"fire-rc-compat",[gg]:"fire-gcs",[_g]:"fire-gcs-compat",[bg]:"fire-fst",[pg]:"fire-fst-compat","fire-js":"fire-js",[yg]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new Map,as=new Map;function Eg(t,e){try{t.container.addComponent(e)}catch(n){Wt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fi(t){const e=t.name;if(as.has(e))return Wt.debug(`There were multiple attempts to register component ${e}.`),!1;as.set(e,t);for(const n of Oi.values())Eg(n,t);return!0}function Ig(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Vt=new Ll("app","Firebase",Ag);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new On("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vt.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg=vg;function Rg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ls,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Vt.create("bad-app-name",{appName:String(r)});if(n||(n=Nl()),!n)throw Vt.create("no-options");const s=Oi.get(r);if(s){if($r(n,s.options)&&$r(i,s.config))return s;throw Vt.create("duplicate-app",{appName:r})}const o=new Dm(r);for(const a of as.values())o.addComponent(a);const l=new kg(n,i,o);return Oi.set(r,l),l}function Cg(t=ls){const e=Oi.get(t);if(!e&&t===ls&&Nl())return Rg();if(!e)throw Vt.create("no-app",{appName:t});return e}function on(t,e,n){var i;let r=(i=Tg[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wt.warn(l.join(" "));return}Fi(new On(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="firebase-heartbeat-database",Sg=1,Fn="firebase-heartbeat-store";let us=null;function Wl(){return us||(us=Km(Pg,Sg,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Fn)}}}).catch(t=>{throw Vt.create("idb-open",{originalErrorMessage:t.message})})),us}async function Vg(t){try{return await(await Wl()).transaction(Fn).objectStore(Fn).get(Gl(t))}catch(e){if(e instanceof sn)Wt.warn(e.message);else{const n=Vt.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wt.warn(n.message)}}}async function Kl(t,e){try{const i=(await Wl()).transaction(Fn,"readwrite");await i.objectStore(Fn).put(e,Gl(t)),await i.done}catch(n){if(n instanceof sn)Wt.warn(n.message);else{const i=Vt.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wt.warn(i.message)}}}function Gl(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=1024,Mg=30*24*60*60*1e3;class Ng{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Og(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ql();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const s=new Date(r.date).valueOf();return Date.now()-s<=Mg}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ql(),{heartbeatsToSend:n,unsentEntries:i}=Lg(this._heartbeatsCache.heartbeats),r=Li(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Ql(){return new Date().toISOString().substring(0,10)}function Lg(t,e=Dg){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Yl(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Yl(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Og{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Am()?km().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Vg(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Kl(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Kl(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Yl(t){return Li(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t){Fi(new On("platform-logger",e=>new Ym(e),"PRIVATE")),Fi(new On("heartbeat",e=>new Ng(e),"PRIVATE")),on(os,Hl,t),on(os,Hl,"esm2017"),on("fire-js","")}Fg("");var Bg=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},U,cs=cs||{},he=Bg||self;function Bi(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Bn(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Ug(t){return Object.prototype.hasOwnProperty.call(t,hs)&&t[hs]||(t[hs]=++zg)}var hs="closure_uid_"+(1e9*Math.random()>>>0),zg=0;function jg(t,e,n){return t.call.apply(t.bind,arguments)}function qg(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Xe(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Xe=jg:Xe=qg,Xe.apply(null,arguments)}function Ui(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function je(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[r].apply(i,o)}}function Dt(){this.s=this.s,this.o=this.o}var Hg=0;Dt.prototype.s=!1;Dt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Hg!=0)&&Ug(this)};Dt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xl=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function fs(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function Jl(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(Bi(i)){const r=t.length||0,s=i.length||0;t.length=r+s;for(let o=0;o<s;o++)t[r+o]=i[o]}else t.push(i)}}function Je(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Je.prototype.h=function(){this.defaultPrevented=!0};var Wg=function(){if(!he.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{he.addEventListener("test",()=>{},e),he.removeEventListener("test",()=>{},e)}catch(n){}return t}();function Un(t){return/^[\s\xa0]*$/.test(t)}function zi(){var t=he.navigator;return t&&(t=t.userAgent)?t:""}function bt(t){return zi().indexOf(t)!=-1}function ds(t){return ds[" "](t),t}ds[" "]=function(){};function Kg(t,e){var n=F_;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Gg=bt("Opera"),ln=bt("Trident")||bt("MSIE"),Zl=bt("Edge"),ms=Zl||ln,xl=bt("Gecko")&&!(zi().toLowerCase().indexOf("webkit")!=-1&&!bt("Edge"))&&!(bt("Trident")||bt("MSIE"))&&!bt("Edge"),Qg=zi().toLowerCase().indexOf("webkit")!=-1&&!bt("Edge");function $l(){var t=he.document;return t?t.documentMode:void 0}var gs;e:{var _s="",bs=function(){var t=zi();if(xl)return/rv:([^\);]+)(\)|;)/.exec(t);if(Zl)return/Edge\/([\d\.]+)/.exec(t);if(ln)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Qg)return/WebKit\/(\S+)/.exec(t);if(Gg)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(bs&&(_s=bs?bs[1]:""),ln){var ps=$l();if(ps!=null&&ps>parseFloat(_s)){gs=String(ps);break e}}gs=_s}var ys;if(he.document&&ln){var ea=$l();ys=ea||parseInt(gs,10)||void 0}else ys=void 0;var Yg=ys;function zn(t,e){if(Je.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(xl){e:{try{ds(e.nodeName);var r=!0;break e}catch(s){}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Xg[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&zn.$.h.call(this)}}je(zn,Je);var Xg={2:"touch",3:"pen",4:"mouse"};zn.prototype.h=function(){zn.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var jn="closure_listenable_"+(1e6*Math.random()|0),Jg=0;function Zg(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++Jg,this.fa=this.ia=!1}function ji(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function vs(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function xg(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function ta(t){const e={};for(const n in t)e[n]=t[n];return e}const na="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ia(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let s=0;s<na.length;s++)n=na[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function qi(t){this.src=t,this.g={},this.h=0}qi.prototype.add=function(t,e,n,i,r){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Es(t,e,i,r);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Zg(e,this.src,s,!!i,r),e.ia=n,t.push(e)),e};function Ts(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=Xl(i,e),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(ji(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Es(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==i)return r}return-1}var Is="closure_lm_"+(1e6*Math.random()|0),As={};function ra(t,e,n,i,r){if(i&&i.once)return oa(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ra(t,e[s],n,i,r);return null}return n=Cs(n),t&&t[jn]?t.O(e,n,Bn(i)?!!i.capture:!!i,r):sa(t,e,n,!1,i,r)}function sa(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=Bn(r)?!!r.capture:!!r,l=ws(t);if(l||(t[Is]=l=new qi(t)),n=l.add(e,n,i,o,s),n.proxy)return n;if(i=$g(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Wg||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(aa(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function $g(){function t(n){return e.call(t.src,t.listener,n)}const e=e_;return t}function oa(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)oa(t,e[s],n,i,r);return null}return n=Cs(n),t&&t[jn]?t.P(e,n,Bn(i)?!!i.capture:!!i,r):sa(t,e,n,!0,i,r)}function la(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)la(t,e[s],n,i,r);else i=Bn(i)?!!i.capture:!!i,n=Cs(n),t&&t[jn]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Es(s,n,i,r),-1<n&&(ji(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=ws(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Es(e,n,i,r)),(n=-1<t?e[t]:null)&&ks(n))}function ks(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[jn])Ts(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(aa(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=ws(e))?(Ts(n,t),n.h==0&&(n.src=null,e[Is]=null)):ji(t)}}}function aa(t){return t in As?As[t]:As[t]="on"+t}function e_(t,e){if(t.fa)t=!0;else{e=new zn(e,this);var n=t.listener,i=t.la||t.src;t.ia&&ks(t),t=n.call(i,e)}return t}function ws(t){return t=t[Is],t instanceof qi?t:null}var Rs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cs(t){return typeof t=="function"?t:(t[Rs]||(t[Rs]=function(e){return t.handleEvent(e)}),t[Rs])}function qe(){Dt.call(this),this.i=new qi(this),this.S=this,this.J=null}je(qe,Dt);qe.prototype[jn]=!0;qe.prototype.removeEventListener=function(t,e,n,i){la(this,t,e,n,i)};function Ge(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Je(e,t);else if(e instanceof Je)e.target=e.target||t;else{var r=e;e=new Je(i,t),ia(e,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=Hi(o,i,!0,e)&&r}if(o=e.g=t,r=Hi(o,i,!0,e)&&r,r=Hi(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)o=e.g=n[s],r=Hi(o,i,!1,e)&&r}qe.prototype.N=function(){if(qe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)ji(n[i]);delete t.g[e],t.h--}}this.J=null};qe.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};qe.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Hi(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var l=o.listener,a=o.la||o.src;o.ia&&Ts(t.i,o),r=l.call(a,i)!==!1&&r}}return r&&!i.defaultPrevented}var Ps=he.JSON.stringify;class t_{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function n_(){var t=Ss;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class i_{constructor(){this.h=this.g=null}add(e,n){const i=ua.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var ua=new t_(()=>new r_,t=>t.reset());class r_{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function s_(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function o_(t){he.setTimeout(()=>{throw t},0)}let qn,Hn=!1,Ss=new i_,ca=()=>{const t=he.Promise.resolve(void 0);qn=()=>{t.then(l_)}};var l_=()=>{for(var t;t=n_();){try{t.h.call(t.g)}catch(n){o_(n)}var e=ua;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Hn=!1};function Wi(t,e){qe.call(this),this.h=t||1,this.g=e||he,this.j=Xe(this.qb,this),this.l=Date.now()}je(Wi,qe);U=Wi.prototype;U.ga=!1;U.T=null;U.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ge(this,"tick"),this.ga&&(Vs(this),this.start()))}};U.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Vs(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}U.N=function(){Wi.$.N.call(this),Vs(this),delete this.g};function Ds(t,e,n){if(typeof t=="function")n&&(t=Xe(t,n));else if(t&&typeof t.handleEvent=="function")t=Xe(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:he.setTimeout(t,e||0)}function ha(t){t.g=Ds(()=>{t.g=null,t.i&&(t.i=!1,ha(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class a_ extends Dt{constructor(e,n){super();this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ha(this)}N(){super.N(),this.g&&(he.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wn(t){Dt.call(this),this.h=t,this.g={}}je(Wn,Dt);var fa=[];function da(t,e,n,i){Array.isArray(n)||(n&&(fa[0]=n.toString()),n=fa);for(var r=0;r<n.length;r++){var s=ra(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function ma(t){vs(t.g,function(e,n){this.g.hasOwnProperty(n)&&ks(e)},t),t.g={}}Wn.prototype.N=function(){Wn.$.N.call(this),ma(this)};Wn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ki(){this.g=!0}Ki.prototype.Ea=function(){this.g=!1};function u_(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var o="",l=s.split("&"),a=0;a<l.length;a++){var u=l[a].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function c_(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+s+" "+o})}function an(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+f_(t,n)+(i?" "+i:"")})}function h_(t,e){t.info(function(){return"TIMEOUT: "+e})}Ki.prototype.info=function(){};function f_(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return Ps(n)}catch(l){return e}}var Kt={},ga=null;function Gi(){return ga=ga||new qe}Kt.Ta="serverreachability";function _a(t){Je.call(this,Kt.Ta,t)}je(_a,Je);function Kn(t){const e=Gi();Ge(e,new _a(e))}Kt.STAT_EVENT="statevent";function ba(t,e){Je.call(this,Kt.STAT_EVENT,t),this.stat=e}je(ba,Je);function st(t){const e=Gi();Ge(e,new ba(e,t))}Kt.Ua="timingevent";function pa(t,e){Je.call(this,Kt.Ua,t),this.size=e}je(pa,Je);function Gn(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return he.setTimeout(function(){t()},e)}var Qi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ya={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ms(){}Ms.prototype.h=null;function va(t){return t.h||(t.h=t.i())}function Ta(){}var Qn={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ns(){Je.call(this,"d")}je(Ns,Je);function Ls(){Je.call(this,"c")}je(Ls,Je);var Os;function Yi(){}je(Yi,Ms);Yi.prototype.g=function(){return new XMLHttpRequest};Yi.prototype.i=function(){return{}};Os=new Yi;function Yn(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Wn(this),this.P=d_,t=ms?125:void 0,this.V=new Wi(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ea}function Ea(){this.i=null,this.g="",this.h=!1}var d_=45e3,Fs={},Xi={};U=Yn.prototype;U.setTimeout=function(t){this.P=t};function Bs(t,e,n){t.L=1,t.v=$i(It(e)),t.s=n,t.S=!0,Ia(t,null)}function Ia(t,e){t.G=Date.now(),Xn(t),t.A=It(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),Ma(n.i,"t",i),t.C=0,n=t.l.J,t.h=new Ea,t.g=iu(t.l,n?e:null,!t.s),0<t.O&&(t.M=new a_(Xe(t.Pa,t,t.g),t.O)),da(t.U,t.g,"readystatechange",t.nb),e=t.I?ta(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Kn(),u_(t.j,t.u,t.A,t.m,t.W,t.s)}U.nb=function(t){t=t.target;const e=this.M;e&&pt(t)==3?e.l():this.Pa(t)};U.Pa=function(t){try{if(t==this.g)e:{const c=pt(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||ms||this.g&&(this.h.h||this.g.ja()||Ka(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Kn(3):Kn(2)),Ji(this);var n=this.g.da();this.ca=n;t:if(Aa(this)){var i=Ka(this.g);t="";var r=i.length,s=pt(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Gt(this),Jn(this);var o="";break t}this.h.i=new he.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,c_(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,a=this.g;if((l=a.g?a.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Un(l)){var u=l;break t}}u=null}if(n=u)an(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Us(this,n);else{this.i=!1,this.o=3,st(12),Gt(this),Jn(this);break e}}this.S?(ka(this,c,o),ms&&this.i&&c==3&&(da(this.U,this.V,"tick",this.mb),this.V.start())):(an(this.j,this.m,o,null),Us(this,o)),c==4&&Gt(this),this.i&&!this.J&&(c==4?$a(this.l,this):(this.i=!1,Xn(this)))}else N_(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,st(12)):(this.o=0,st(13)),Gt(this),Jn(this)}}}catch(c){}finally{}};function Aa(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function ka(t,e,n){let i=!0,r;for(;!t.J&&t.C<n.length;)if(r=m_(t,n),r==Xi){e==4&&(t.o=4,st(14),i=!1),an(t.j,t.m,null,"[Incomplete Response]");break}else if(r==Fs){t.o=4,st(15),an(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else an(t.j,t.m,r,null),Us(t,r);Aa(t)&&r!=Xi&&r!=Fs&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,st(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gs(e),e.M=!0,st(11))):(an(t.j,t.m,n,"[Invalid Chunked Response]"),Gt(t),Jn(t))}U.mb=function(){if(this.g){var t=pt(this.g),e=this.g.ja();this.C<e.length&&(Ji(this),ka(this,t,e),this.i&&t!=4&&Xn(this))}};function m_(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?Xi:(n=Number(e.substring(n,i)),isNaN(n)?Fs:(i+=1,i+n>e.length?Xi:(e=e.slice(i,i+n),t.C=i+n,e)))}U.cancel=function(){this.J=!0,Gt(this)};function Xn(t){t.Y=Date.now()+t.P,wa(t,t.P)}function wa(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Gn(Xe(t.lb,t),e)}function Ji(t){t.B&&(he.clearTimeout(t.B),t.B=null)}U.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(h_(this.j,this.A),this.L!=2&&(Kn(),st(17)),Gt(this),this.o=2,Jn(this)):wa(this,this.Y-t)};function Jn(t){t.l.H==0||t.J||$a(t.l,t)}function Gt(t){Ji(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Vs(t.V),ma(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Us(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||zs(n.i,t))){if(!t.K&&zs(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch(u){i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0)e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)sr(n),ir(n);else break e;Ks(n),st(18)}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=Gn(Xe(n.ib,n),6e3));if(1>=Oa(n.i)&&n.oa){try{n.oa()}catch(u){}n.oa=void 0}}else Yt(n,11)}else if((t.K||n.g==t)&&sr(n),!Un(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let u=r[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(i=1.5*h,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const f=t.g;if(f){const g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=i.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(js(s,s.h),s.h=null))}if(i.F){const p=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(i.Da=p,Ve(i.I,i.F,p))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=t;if(i.wa=nu(i,i.J?i.pa:null,i.Y),o.K){Fa(i.i,o);var l=o,a=i.L;a&&l.setTimeout(a),l.B&&(Ji(l),Xn(l)),i.g=o}else Za(i);0<n.j.length&&rr(n)}else u[0]!="stop"&&u[0]!="close"||Yt(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Yt(n,7):Ws(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Kn(4)}catch(u){}}function g_(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map!="undefined"&&t instanceof Map||typeof Set!="undefined"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Bi(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function __(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map!="undefined"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set!="undefined"&&t instanceof Set)){if(Bi(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function Ra(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Bi(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=__(t),i=g_(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}var Ca=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function b_(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Qt(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Qt){this.h=t.h,Zi(this,t.j),this.s=t.s,this.g=t.g,xi(this,t.m),this.l=t.l;var e=t.i,n=new $n;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Pa(this,n),this.o=t.o}else t&&(e=String(t).match(Ca))?(this.h=!1,Zi(this,e[1]||"",!0),this.s=Zn(e[2]||""),this.g=Zn(e[3]||"",!0),xi(this,e[4]),this.l=Zn(e[5]||"",!0),Pa(this,e[6]||"",!0),this.o=Zn(e[7]||"")):(this.h=!1,this.i=new $n(null,this.h))}Qt.prototype.toString=function(){var t=[],e=this.j;e&&t.push(xn(e,Sa,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(xn(e,Sa,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(xn(n,n.charAt(0)=="/"?v_:y_,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",xn(n,E_)),t.join("")};function It(t){return new Qt(t)}function Zi(t,e,n){t.j=n?Zn(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function xi(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Pa(t,e,n){e instanceof $n?(t.i=e,I_(t.i,t.h)):(n||(e=xn(e,T_)),t.i=new $n(e,t.h))}function Ve(t,e,n){t.i.set(e,n)}function $i(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Zn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function xn(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,p_),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function p_(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Sa=/[#\/\?@]/g,y_=/[#\?:]/g,v_=/[#\?]/g,T_=/[#\?@]/g,E_=/#/g;function $n(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Mt(t){t.g||(t.g=new Map,t.h=0,t.i&&b_(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}U=$n.prototype;U.add=function(t,e){Mt(this),this.i=null,t=un(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Va(t,e){Mt(t),e=un(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Da(t,e){return Mt(t),e=un(t,e),t.g.has(e)}U.forEach=function(t,e){Mt(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};U.ta=function(){Mt(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let s=0;s<r.length;s++)n.push(e[i])}return n};U.Z=function(t){Mt(this);let e=[];if(typeof t=="string")Da(this,t)&&(e=e.concat(this.g.get(un(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};U.set=function(t,e){return Mt(this),this.i=null,t=un(this,t),Da(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};U.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Ma(t,e,n){Va(t,e),0<n.length&&(t.i=null,t.g.set(un(t,e),fs(n)),t.h+=n.length)}U.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;o[i]!==""&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")};function un(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function I_(t,e){e&&!t.j&&(Mt(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(Va(this,i),Ma(this,r,n))},t)),t.j=e}var A_=class{constructor(t,e){this.g=t,this.map=e}};function Na(t){this.l=t||k_,he.PerformanceNavigationTiming?(t=he.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(he.g&&he.g.Ka&&he.g.Ka()&&he.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var k_=10;function La(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Oa(t){return t.h?1:t.g?t.g.size:0}function zs(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function js(t,e){t.g?t.g.add(e):t.h=e}function Fa(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Na.prototype.cancel=function(){if(this.i=Ba(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Ba(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return fs(t.i)}var w_=class{stringify(t){return he.JSON.stringify(t,void 0)}parse(t){return he.JSON.parse(t,void 0)}};function R_(){this.g=new w_}function C_(t,e,n){const i=n||"";try{Ra(t,function(r,s){let o=r;Bn(r)&&(o=Ps(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function P_(t,e){const n=new Ki;if(he.Image){const i=new Image;i.onload=Ui(er,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Ui(er,n,i,"TestLoadImage: error",!1,e),i.onabort=Ui(er,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Ui(er,n,i,"TestLoadImage: timeout",!1,e),he.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function er(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}function ei(t){this.l=t.fc||null,this.j=t.ob||!1}je(ei,Ms);ei.prototype.g=function(){return new tr(this.l,this.j)};ei.prototype.i=function(t){return function(){return t}}({});function tr(t,e){qe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=qs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}je(tr,qe);var qs=0;U=tr.prototype;U.open=function(t,e){if(this.readyState!=qs)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ni(this)};U.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||he).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=qs};U.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof he.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ua(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Ua(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}U.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ti(this):ni(this),this.readyState==3&&Ua(this)}};U.Za=function(t){this.g&&(this.response=this.responseText=t,ti(this))};U.Ya=function(t){this.g&&(this.response=t,ti(this))};U.ka=function(){this.g&&ti(this)};function ti(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ni(t)}U.setRequestHeader=function(t,e){this.v.append(t,e)};U.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};U.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ni(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var S_=he.JSON.parse;function Le(t){qe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=za,this.L=this.M=!1}je(Le,qe);var za="",V_=/^https?$/i,D_=["POST","PUT"];U=Le.prototype;U.Oa=function(t){this.M=t};U.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Os.g(),this.C=this.u?va(this.u):va(Os),this.g.onreadystatechange=Xe(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){ja(this,s);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),r=he.FormData&&t instanceof he.FormData,!(0<=Xl(D_,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Wa(this),0<this.B&&((this.L=M_(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xe(this.ua,this)):this.A=Ds(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ja(this,s)}};function M_(t){return ln&&typeof t.timeout=="number"&&t.ontimeout!==void 0}U.ua=function(){typeof cs!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ge(this,"timeout"),this.abort(8))};function ja(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,qa(t),nr(t)}function qa(t){t.F||(t.F=!0,Ge(t,"complete"),Ge(t,"error"))}U.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ge(this,"complete"),Ge(this,"abort"),nr(this))};U.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nr(this,!0)),Le.$.N.call(this)};U.La=function(){this.s||(this.G||this.v||this.l?Ha(this):this.kb())};U.kb=function(){Ha(this)};function Ha(t){if(t.h&&typeof cs!="undefined"&&(!t.C[1]||pt(t)!=4||t.da()!=2)){if(t.v&&pt(t)==4)Ds(t.La,0,t);else if(Ge(t,"readystatechange"),pt(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=o===0){var r=String(t.I).match(Ca)[1]||null;!r&&he.self&&he.self.location&&(r=he.self.location.protocol.slice(0,-1)),i=!V_.test(r?r.toLowerCase():"")}n=i}if(n)Ge(t,"complete"),Ge(t,"success");else{t.m=6;try{var s=2<pt(t)?t.g.statusText:""}catch(l){s=""}t.j=s+" ["+t.da()+"]",qa(t)}}finally{nr(t)}}}}function nr(t,e){if(t.g){Wa(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ge(t,"ready");try{n.onreadystatechange=i}catch(r){}}}function Wa(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(he.clearTimeout(t.A),t.A=null)}U.isActive=function(){return!!this.g};function pt(t){return t.g?t.g.readyState:0}U.da=function(){try{return 2<pt(this)?this.g.status:-1}catch(t){return-1}};U.ja=function(){try{return this.g?this.g.responseText:""}catch(t){return""}};U.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),S_(e)}};function Ka(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case za:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function N_(t){const e={};t=(t.g&&2<=pt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Un(t[i]))continue;var n=s_(t[i]);const r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[r]||[];e[r]=s,s.push(n)}xg(e,function(i){return i.join(", ")})}U.Ia=function(){return this.m};U.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Ga(t){let e="";return vs(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function Hs(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=Ga(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ve(t,e,n))}function ii(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Qa(t){this.Ga=0,this.j=[],this.l=new Ki,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ii("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ii("baseRetryDelayMs",5e3,t),this.hb=ii("retryDelaySeedMs",1e4,t),this.eb=ii("forwardChannelMaxRetries",2,t),this.xa=ii("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Na(t&&t.concurrentRequestLimit),this.Ja=new R_,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}U=Qa.prototype;U.ra=8;U.H=1;function Ws(t){if(Ya(t),t.H==3){var e=t.W++,n=It(t.I);if(Ve(n,"SID",t.K),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),ri(t,n),e=new Yn(t,t.l,e),e.L=2,e.v=$i(It(n)),n=!1,he.navigator&&he.navigator.sendBeacon)try{n=he.navigator.sendBeacon(e.v.toString(),"")}catch(i){}!n&&he.Image&&(new Image().src=e.v,n=!0),n||(e.g=iu(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Xn(e)}tu(t)}function ir(t){t.g&&(Gs(t),t.g.cancel(),t.g=null)}function Ya(t){ir(t),t.u&&(he.clearTimeout(t.u),t.u=null),sr(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&he.clearTimeout(t.m),t.m=null)}function rr(t){if(!La(t.i)&&!t.m){t.m=!0;var e=t.Na;qn||ca(),Hn||(qn(),Hn=!0),Ss.add(e,t),t.C=0}}function L_(t,e){return Oa(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Gn(Xe(t.Na,t,e),eu(t,t.C)),t.C++,!0)}U.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new Yn(this,this.l,t);let s=this.s;if(this.U&&(s?(s=ta(s),ia(s,this.U)):s=this.U),this.o!==null||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ja(this,r,e),n=It(this.I),Ve(n,"RID",t),Ve(n,"CVER",22),this.F&&Ve(n,"X-HTTP-Session-Id",this.F),ri(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Ga(s)))+"&"+e:this.o&&Hs(n,this.o,s)),js(this.i,r),this.bb&&Ve(n,"TYPE","init"),this.P?(Ve(n,"$req",e),Ve(n,"SID","null"),r.aa=!0,Bs(r,n,null)):Bs(r,n,e),this.H=2}}else this.H==3&&(t?Xa(this,t):this.j.length==0||La(this.i)||Xa(this))};function Xa(t,e){var n;e?n=e.m:n=t.W++;const i=It(t.I);Ve(i,"SID",t.K),Ve(i,"RID",n),Ve(i,"AID",t.V),ri(t,i),t.o&&t.s&&Hs(i,t.o,t.s),n=new Yn(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Ja(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),js(t.i,n),Bs(n,i,e)}function ri(t,e){t.na&&vs(t.na,function(n,i){Ve(e,i,n)}),t.h&&Ra({},function(n,i){Ve(e,i,n)})}function Ja(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Xe(t.h.Va,t.h,t):null;e:{var r=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let a=0;a<n;a++){let u=r[a].g;const c=r[a].map;if(u-=s,0>u)s=Math.max(0,r[a].g-100),l=!1;else try{C_(c,o,"req"+u+"_")}catch(d){i&&i(c)}}if(l){i=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function Za(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;qn||ca(),Hn||(qn(),Hn=!0),Ss.add(e,t),t.A=0}}function Ks(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Gn(Xe(t.Ma,t),eu(t,t.A)),t.A++,!0)}U.Ma=function(){if(this.u=null,xa(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Gn(Xe(this.jb,this),t)}};U.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,st(10),ir(this),xa(this))};function Gs(t){t.B!=null&&(he.clearTimeout(t.B),t.B=null)}function xa(t){t.g=new Yn(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=It(t.wa);Ve(e,"RID","rpc"),Ve(e,"SID",t.K),Ve(e,"AID",t.V),Ve(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ve(e,"TO",t.qa),Ve(e,"TYPE","xmlhttp"),ri(t,e),t.o&&t.s&&Hs(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=$i(It(e)),n.s=null,n.S=!0,Ia(n,t)}U.ib=function(){this.v!=null&&(this.v=null,ir(this),Ks(this),st(19))};function sr(t){t.v!=null&&(he.clearTimeout(t.v),t.v=null)}function $a(t,e){var n=null;if(t.g==e){sr(t),Gs(t),t.g=null;var i=2}else if(zs(t.i,e))n=e.F,Fa(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var r=t.C;i=Gi(),Ge(i,new pa(i,n)),rr(t)}else Za(t);else if(r=e.o,r==3||r==0&&0<e.ca||!(i==1&&L_(t,e)||i==2&&Ks(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Yt(t,5);break;case 4:Yt(t,10);break;case 3:Yt(t,6);break;default:Yt(t,2)}}}function eu(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Yt(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Xe(t.pb,t);n||(n=new Qt("//www.google.com/images/cleardot.gif"),he.location&&he.location.protocol=="http"||Zi(n,"https"),$i(n)),P_(n.toString(),i)}else st(2);t.H=0,t.h&&t.h.za(e),tu(t),Ya(t)}U.pb=function(t){t?(this.l.info("Successfully pinged google.com"),st(2)):(this.l.info("Failed to ping google.com"),st(1))};function tu(t){if(t.H=0,t.ma=[],t.h){const e=Ba(t.i);(e.length!=0||t.j.length!=0)&&(Jl(t.ma,e),Jl(t.ma,t.j),t.i.i.length=0,fs(t.j),t.j.length=0),t.h.ya()}}function nu(t,e,n){var i=n instanceof Qt?It(n):new Qt(n);if(i.g!="")e&&(i.g=e+"."+i.g),xi(i,i.m);else{var r=he.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Qt(null);i&&Zi(s,i),e&&(s.g=e),r&&xi(s,r),n&&(s.l=n),i=s}return n=t.F,e=t.Da,n&&e&&Ve(i,n,e),Ve(i,"VER",t.ra),ri(t,i),i}function iu(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Le(new ei({ob:!0})):new Le(t.va),e.Oa(t.J),e}U.isActive=function(){return!!this.h&&this.h.isActive(this)};function ru(){}U=ru.prototype;U.Ba=function(){};U.Aa=function(){};U.za=function(){};U.ya=function(){};U.isActive=function(){return!0};U.Va=function(){};function or(){if(ln&&!(10<=Number(Yg)))throw Error("Environmental error: no available transport.")}or.prototype.g=function(t,e){return new lt(t,e)};function lt(t,e){qe.call(this),this.g=new Qa(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Un(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Un(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new cn(this)}je(lt,qe);lt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;st(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=nu(t,null,t.Y),rr(t)};lt.prototype.close=function(){Ws(this.g)};lt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Ps(t),t=n);e.j.push(new A_(e.fb++,t)),e.H==3&&rr(e)};lt.prototype.N=function(){this.g.h=null,delete this.j,Ws(this.g),delete this.g,lt.$.N.call(this)};function su(t){Ns.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}je(su,Ns);function ou(){Ls.call(this),this.status=1}je(ou,Ls);function cn(t){this.g=t}je(cn,ru);cn.prototype.Ba=function(){Ge(this.g,"a")};cn.prototype.Aa=function(t){Ge(this.g,new su(t))};cn.prototype.za=function(t){Ge(this.g,new ou)};cn.prototype.ya=function(){Ge(this.g,"b")};function O_(){this.blockSize=-1}function gt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}je(gt,O_);gt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Qs(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var s=t.g[3],o=e+(s^n&(r^s))+i[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[2]+606105819&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[6]+2821735955&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[10]+4294925233&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[14]+2792965006&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(r^s&(n^r))+i[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[11]+643717713&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[15]+3634488961&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[3]+4107603335&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[7]+1735328473&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(n^r^s)+i[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[11]+1839030562&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[7]+4139469664&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[3]+3572445317&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[15]+530742520&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(r^(n|~s))+i[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[14]+2878612391&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[10]+4293915773&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[6]+2734768916&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[2]+718787259&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}gt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(r==0)for(;s<=n;)Qs(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(i[r++]=t.charCodeAt(s++),r==this.blockSize){Qs(this,i),r=0;break}}else for(;s<e;)if(i[r++]=t[s++],r==this.blockSize){Qs(this,i),r=0;break}}this.h=r,this.i+=e};gt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function Re(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var s=t[r]|0;i&&s==e||(n[r]=s,i=!1)}this.g=n}var F_={};function Ys(t){return-128<=t&&128>t?Kg(t,function(e){return new Re([e|0],0>e?-1:0)}):new Re([t|0],0>t?-1:0)}function yt(t){if(isNaN(t)||!isFinite(t))return hn;if(0>t)return Qe(yt(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=Xs;return new Re(e,0)}function lu(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Qe(lu(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=yt(Math.pow(e,8)),i=hn,r=0;r<t.length;r+=8){var s=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+s),e);8>s?(s=yt(Math.pow(e,s)),i=i.R(s).add(yt(o))):(i=i.R(n),i=i.add(yt(o)))}return i}var Xs=4294967296,hn=Ys(0),Js=Ys(1),au=Ys(16777216);U=Re.prototype;U.ea=function(){if(ct(this))return-Qe(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:Xs+i)*e,e*=Xs}return t};U.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(At(this))return"0";if(ct(this))return"-"+Qe(this).toString(t);for(var e=yt(Math.pow(t,6)),n=this,i="";;){var r=ur(n,e).g;n=lr(n,r.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,At(n))return s+i;for(;6>s.length;)s="0"+s;i=s+i}};U.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function At(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ct(t){return t.h==-1}U.X=function(t){return t=lr(this,t),ct(t)?-1:At(t)?0:1};function Qe(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new Re(n,~t.h).add(Js)}U.abs=function(){return ct(this)?Qe(this):this};U.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var s=i+(this.D(r)&65535)+(t.D(r)&65535),o=(s>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=o>>>16,s&=65535,o&=65535,n[r]=o<<16|s}return new Re(n,n[n.length-1]&-2147483648?-1:0)};function lr(t,e){return t.add(Qe(e))}U.R=function(t){if(At(this)||At(t))return hn;if(ct(this))return ct(t)?Qe(this).R(Qe(t)):Qe(Qe(this).R(t));if(ct(t))return Qe(this.R(Qe(t)));if(0>this.X(au)&&0>t.X(au))return yt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var s=this.D(i)>>>16,o=this.D(i)&65535,l=t.D(r)>>>16,a=t.D(r)&65535;n[2*i+2*r]+=o*a,ar(n,2*i+2*r),n[2*i+2*r+1]+=s*a,ar(n,2*i+2*r+1),n[2*i+2*r+1]+=o*l,ar(n,2*i+2*r+1),n[2*i+2*r+2]+=s*l,ar(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Re(n,0)};function ar(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function si(t,e){this.g=t,this.h=e}function ur(t,e){if(At(e))throw Error("division by zero");if(At(t))return new si(hn,hn);if(ct(t))return e=ur(Qe(t),e),new si(Qe(e.g),Qe(e.h));if(ct(e))return e=ur(t,Qe(e)),new si(Qe(e.g),e.h);if(30<t.g.length){if(ct(t)||ct(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Js,i=e;0>=i.X(t);)n=uu(n),i=uu(i);var r=fn(n,1),s=fn(i,1);for(i=fn(i,2),n=fn(n,2);!At(i);){var o=s.add(i);0>=o.X(t)&&(r=r.add(n),s=o),i=fn(i,1),n=fn(n,1)}return e=lr(t,r.R(e)),new si(r,e)}for(r=hn;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),s=yt(n),o=s.R(e);ct(o)||0<o.X(t);)n-=i,s=yt(n),o=s.R(e);At(s)&&(s=Js),r=r.add(s),t=lr(t,o)}return new si(r,t)}U.gb=function(t){return ur(this,t).h};U.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new Re(n,this.h&t.h)};U.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new Re(n,this.h|t.h)};U.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new Re(n,this.h^t.h)};function uu(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new Re(n,t.h)}function fn(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],s=0;s<i;s++)r[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Re(r,t.h)}or.prototype.createWebChannel=or.prototype.g;lt.prototype.send=lt.prototype.u;lt.prototype.open=lt.prototype.m;lt.prototype.close=lt.prototype.close;Qi.NO_ERROR=0;Qi.TIMEOUT=8;Qi.HTTP_ERROR=6;ya.COMPLETE="complete";Ta.EventType=Qn;Qn.OPEN="a";Qn.CLOSE="b";Qn.ERROR="c";Qn.MESSAGE="d";qe.prototype.listen=qe.prototype.O;Le.prototype.listenOnce=Le.prototype.P;Le.prototype.getLastError=Le.prototype.Sa;Le.prototype.getLastErrorCode=Le.prototype.Ia;Le.prototype.getStatus=Le.prototype.da;Le.prototype.getResponseJson=Le.prototype.Wa;Le.prototype.getResponseText=Le.prototype.ja;Le.prototype.send=Le.prototype.ha;Le.prototype.setWithCredentials=Le.prototype.Oa;gt.prototype.digest=gt.prototype.l;gt.prototype.reset=gt.prototype.reset;gt.prototype.update=gt.prototype.j;Re.prototype.add=Re.prototype.add;Re.prototype.multiply=Re.prototype.R;Re.prototype.modulo=Re.prototype.gb;Re.prototype.compare=Re.prototype.X;Re.prototype.toNumber=Re.prototype.ea;Re.prototype.toString=Re.prototype.toString;Re.prototype.getBits=Re.prototype.D;Re.fromNumber=yt;Re.fromString=lu;var B_=function(){return new or},U_=function(){return Gi()},Zs=Qi,z_=ya,j_=Kt,cu={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},q_=ei,cr=Ta,H_=Le,W_=gt,dn=Re;const hu="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mn="10.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt=new Fl("@firebase/firestore");function fu(){return Xt.logLevel}function Y(t,...e){if(Xt.logLevel<=ke.DEBUG){const n=e.map(xs);Xt.debug(`Firestore (${mn}): ${t}`,...n)}}function kt(t,...e){if(Xt.logLevel<=ke.ERROR){const n=e.map(xs);Xt.error(`Firestore (${mn}): ${t}`,...n)}}function gn(t,...e){if(Xt.logLevel<=ke.WARN){const n=e.map(xs);Xt.warn(`Firestore (${mn}): ${t}`,...n)}}function xs(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${mn}) INTERNAL ASSERTION FAILED: `+t;throw kt(e),new Error(e)}function De(t,e){t||ce()}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends sn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class K_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ze.UNAUTHENTICATED))}shutdown(){}}class G_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Q_{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=a=>this.i!==i?(i=this.i,n(a)):Promise.resolve();let s=new Jt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Jt,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const a=s;e.enqueueRetryable(async()=>{await a.promise,await r(this.currentUser)})},l=a=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(a=>l(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?l(a):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Jt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(De(typeof i.accessToken=="string"),new du(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new Ze(e)}}class Y_{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class X_{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new Y_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class J_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z_{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=s=>{s.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new J_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=x_(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function Ie(t,e){return t<e?-1:t>e?1:0}function _n(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Ue(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new Ue(0,0))}static max(){return new de(new Ue(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n,i){n===void 0?n=0:n>e.length&&ce(),i===void 0?i=e.length-n:i>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oi?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Me extends oi{construct(e,n,i){return new Me(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Z(M.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const $_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xe extends oi{construct(e,n,i){return new xe(e,n,i)}static isValidIdentifier(e){return $_.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xe(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new Z(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new Z(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const a=e[r+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new Z(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=a,r+=2}else l==="`"?(o=!o,r++):l!=="."||o?(i+=l,r++):(s(),r++)}if(s(),o)throw new Z(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xe(n)}static emptyPath(){return new xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.path=e}static fromPath(e){return new $(Me.fromString(e))}static fromName(e){return new $(Me.fromString(e).popFirst(5))}static empty(){return new $(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $(new Me(e.slice()))}}function e1(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=de.fromTimestamp(i===1e9?new Ue(n+1,0):new Ue(n,i));return new Nt(r,$.empty(),e)}function t1(t){return new Nt(t.readTime,t.key,-1)}class Nt{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Nt(de.min(),$.empty(),-1)}static max(){return new Nt(de.max(),$.empty(),-1)}}function n1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function li(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==i1)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new N((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):N.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):N.reject(n)}static resolve(e){return new N((n,i)=>{n(e)})}static reject(e){return new N((n,i)=>{i(e)})}static waitFor(e){return new N((n,i)=>{let r=0,s=0,o=!1;e.forEach(l=>{++r,l.next(()=>{++s,o&&s===r&&n()},a=>i(a))}),o=!0,s===r&&n()})}static or(e){let n=N.resolve(!1);for(const i of e)n=n.next(r=>r?N.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new N((i,r)=>{const s=e.length,o=new Array(s);let l=0;for(let a=0;a<s;a++){const u=a;n(e[u]).next(c=>{o[u]=c,++l,l===s&&i(o)},c=>r(c))}})}static doWhile(e,n){return new N((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function ai(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}$s.ae=-1;function hr(t){return t==null}function fr(t){return t===0&&1/t==-1/0}function s1(t){return typeof t=="number"&&Number.isInteger(t)&&!fr(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zt(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _u(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n){this.comparator=e,this.root=n||Ye.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dr(this.root,e,this.comparator,!1)}getReverseIterator(){return new dr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dr(this.root,e,this.comparator,!0)}}class dr{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ye{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i!=null?i:Ye.RED,this.left=r!=null?r:Ye.EMPTY,this.right=s!=null?s:Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new Ye(e!=null?e:this.key,n!=null?n:this.value,i!=null?i:this.color,r!=null?r:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Ye.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,i,r,s){return this}insert(e,n,i){return new Ye(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bu(this.data.getIterator())}getIteratorFrom(e){return new bu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof $e)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $e(this.comparator);return n.data=e,n}}class bu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.fields=e,e.sort(xe.comparator)}static empty(){return new at([])}unionWith(e){let n=new $e(xe.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new at(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _n(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException!="undefined"&&s instanceof DOMException?new pu("Invalid base64 string: "+s):s}}(e);return new et(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}et.EMPTY_BYTE_STRING=new et("");const o1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lt(t){if(De(!!t),typeof t=="string"){let e=0;const n=o1.exec(t);if(De(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xt(t){return typeof t=="string"?et.fromBase64String(t):et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function to(t){const e=t.mapValue.fields.__previous_value__;return eo(e)?to(e):e}function ui(t){const e=Lt(t.mapValue.fields.__local_write_time__.timestampValue);return new Ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n,i,r,s,o,l,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=a,this.useFetchStreams=u}}class ci{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ci("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ci&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $t(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?eo(t)?4:a1(t)?9007199254740991:10:ce()}function vt(t,e){if(t===e)return!0;const n=$t(t);if(n!==$t(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ui(t).isEqual(ui(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Lt(r.timestampValue),l=Lt(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return xt(r.bytesValue).isEqual(xt(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Fe(r.geoPointValue.latitude)===Fe(s.geoPointValue.latitude)&&Fe(r.geoPointValue.longitude)===Fe(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Fe(r.integerValue)===Fe(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Fe(r.doubleValue),l=Fe(s.doubleValue);return o===l?fr(o)===fr(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return _n(t.arrayValue.values||[],e.arrayValue.values||[],vt);case 10:return function(r,s){const o=r.mapValue.fields||{},l=s.mapValue.fields||{};if(gu(o)!==gu(l))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(l[a]===void 0||!vt(o[a],l[a])))return!1;return!0}(t,e);default:return ce()}}function hi(t,e){return(t.values||[]).find(n=>vt(n,e))!==void 0}function bn(t,e){if(t===e)return 0;const n=$t(t),i=$t(e);if(n!==i)return Ie(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Fe(s.integerValue||s.doubleValue),a=Fe(o.integerValue||o.doubleValue);return l<a?-1:l>a?1:l===a?0:isNaN(l)?isNaN(a)?0:-1:1}(t,e);case 3:return yu(t.timestampValue,e.timestampValue);case 4:return yu(ui(t),ui(e));case 5:return Ie(t.stringValue,e.stringValue);case 6:return function(s,o){const l=xt(s),a=xt(o);return l.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),a=o.split("/");for(let u=0;u<l.length&&u<a.length;u++){const c=Ie(l[u],a[u]);if(c!==0)return c}return Ie(l.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Ie(Fe(s.latitude),Fe(o.latitude));return l!==0?l:Ie(Fe(s.longitude),Fe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],a=o.values||[];for(let u=0;u<l.length&&u<a.length;++u){const c=bn(l[u],a[u]);if(c)return c}return Ie(l.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===mr.mapValue&&o===mr.mapValue)return 0;if(s===mr.mapValue)return 1;if(o===mr.mapValue)return-1;const l=s.fields||{},a=Object.keys(l),u=o.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let d=0;d<a.length&&d<c.length;++d){const h=Ie(a[d],c[d]);if(h!==0)return h;const f=bn(l[a[d]],u[c[d]]);if(f!==0)return f}return Ie(a.length,c.length)}(t.mapValue,e.mapValue);default:throw ce()}}function yu(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=Lt(t),i=Lt(e),r=Ie(n.seconds,i.seconds);return r!==0?r:Ie(n.nanos,i.nanos)}function pn(t){return no(t)}function no(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Lt(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xt(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return $.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=no(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${no(n.fields[o])}`;return r+"}"}(t.mapValue):ce()}function io(t){return!!t&&"integerValue"in t}function ro(t){return!!t&&"arrayValue"in t}function vu(t){return!!t&&"nullValue"in t}function Tu(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gr(t){return!!t&&"mapValue"in t}function fi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zt(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=fi(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fi(t.arrayValue.values[n]);return e}return Object.assign({},t)}function a1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.value=e}static empty(){return new ot({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!gr(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fi(n)}setAll(e){let n=xe.emptyPath(),i={},r=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const a=this.getFieldsMap(n);this.applyChanges(a,i,r),i={},r=[],n=l.popLast()}o?i[l.lastSegment()]=fi(o):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());gr(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];gr(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Zt(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new ot(fi(this.value))}}function Eu(t){const e=[];return Zt(t.fields,(n,i)=>{const r=new xe([n]);if(gr(i)){const s=Eu(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new at(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n,i,r,s,o,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new tt(e,0,de.min(),de.min(),de.min(),ot.empty(),0)}static newFoundDocument(e,n,i,r){return new tt(e,1,n,de.min(),i,r,0)}static newNoDocument(e,n){return new tt(e,2,n,de.min(),de.min(),ot.empty(),0)}static newUnknownDocument(e,n){return new tt(e,3,n,de.min(),de.min(),ot.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ot.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n){this.position=e,this.inclusive=n}}function Iu(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=$.comparator($.fromName(o.referenceValue),n.key):i=bn(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Au(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n="asc"){this.field=e,this.dir=n}}function u1(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{}class ze extends ku{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new h1(e,n,i):n==="array-contains"?new m1(e,i):n==="in"?new g1(e,i):n==="not-in"?new _1(e,i):n==="array-contains-any"?new b1(e,i):new ze(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new f1(e,i):new d1(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bn(n,this.value)):n!==null&&$t(this.value)===$t(n)&&this.matchesComparison(bn(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Tt extends ku{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Tt(e,n)}matches(e){return wu(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function wu(t){return t.op==="and"}function Ru(t){return c1(t)&&wu(t)}function c1(t){for(const e of t.filters)if(e instanceof Tt)return!1;return!0}function so(t){if(t instanceof ze)return t.field.canonicalString()+t.op.toString()+pn(t.value);if(Ru(t))return t.filters.map(e=>so(e)).join(",");{const e=t.filters.map(n=>so(n)).join(",");return`${t.op}(${e})`}}function Cu(t,e){return t instanceof ze?function(i,r){return r instanceof ze&&i.op===r.op&&i.field.isEqual(r.field)&&vt(i.value,r.value)}(t,e):t instanceof Tt?function(i,r){return r instanceof Tt&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,l)=>s&&Cu(o,r.filters[l]),!0):!1}(t,e):void ce()}function Pu(t){return t instanceof ze?function(n){return`${n.field.canonicalString()} ${n.op} ${pn(n.value)}`}(t):t instanceof Tt?function(n){return n.op.toString()+" {"+n.getFilters().map(Pu).join(" ,")+"}"}(t):"Filter"}class h1 extends ze{constructor(e,n,i){super(e,n,i),this.key=$.fromName(i.referenceValue)}matches(e){const n=$.comparator(e.key,this.key);return this.matchesComparison(n)}}class f1 extends ze{constructor(e,n){super(e,"in",n),this.keys=Su("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class d1 extends ze{constructor(e,n){super(e,"not-in",n),this.keys=Su("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Su(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>$.fromName(i.referenceValue))}class m1 extends ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ro(n)&&hi(n.arrayValue,this.value)}}class g1 extends ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hi(this.value.arrayValue,n)}}class _1 extends ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(hi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!hi(this.value.arrayValue,n)}}class b1 extends ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ro(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>hi(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n=null,i=[],r=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=l,this.he=null}}function Vu(t,e=null,n=[],i=[],r=null,s=null,o=null){return new p1(t,e,n,i,r,s,o)}function oo(t){const e=me(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>so(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),hr(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>pn(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>pn(i)).join(",")),e.he=n}return e.he}function lo(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!u1(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Cu(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Au(t.startAt,e.startAt)&&Au(t.endAt,e.endAt)}function ao(t){return $.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n=null,i=[],r=[],s=null,o="F",l=null,a=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=a,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function y1(t,e,n,i,r,s,o,l){return new br(t,e,n,i,r,s,o,l)}function uo(t){return new br(t)}function Du(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function v1(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function T1(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function E1(t){return t.collectionGroup!==null}function yn(t){const e=me(t);if(e.Pe===null){e.Pe=[];const n=T1(e),i=v1(e);if(n!==null&&i===null)n.isKeyField()||e.Pe.push(new di(n)),e.Pe.push(new di(xe.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new di(xe.keyField(),s))}}}return e.Pe}function wt(t){const e=me(t);if(!e.Ie)if(e.limitType==="F")e.Ie=Vu(e.path,e.collectionGroup,yn(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of yn(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new di(s.field,o))}const i=e.endAt?new _r(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new _r(e.startAt.position,e.startAt.inclusive):null;e.Ie=Vu(e.path,e.collectionGroup,n,e.filters,e.limit,i,r)}return e.Ie}function co(t,e,n){return new br(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pr(t,e){return lo(wt(t),wt(e))&&t.limitType===e.limitType}function Mu(t){return`${oo(wt(t))}|lt:${t.limitType}`}function ho(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>Pu(r)).join(", ")}]`),hr(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>pn(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>pn(r)).join(",")),`Target(${i})`}(wt(t))}; limitType=${t.limitType})`}function yr(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):$.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of yn(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,l,a){const u=Iu(o,l,a);return o.inclusive?u<=0:u<0}(i.startAt,yn(i),r)||i.endAt&&!function(o,l,a){const u=Iu(o,l,a);return o.inclusive?u>=0:u>0}(i.endAt,yn(i),r))}(t,e)}function I1(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Nu(t){return(e,n)=>{let i=!1;for(const r of yn(t)){const s=A1(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function A1(t,e,n){const i=t.field.isKeyField()?$.comparator(e.key,n.key):function(s,o,l){const a=o.data.field(s),u=l.data.field(s);return a!==null&&u!==null?bn(a,u):ce()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Zt(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return _u(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=new Ne($.comparator);function Rt(){return k1}const Lu=new Ne($.comparator);function mi(...t){let e=Lu;for(const n of t)e=e.insert(n.key,n);return e}function Ou(t){let e=Lu;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function en(){return gi()}function Fu(){return gi()}function gi(){return new vn(t=>t.toString(),(t,e)=>t.isEqual(e))}const w1=new Ne($.comparator),R1=new $e($.comparator);function ye(...t){let e=R1;for(const n of t)e=e.add(n);return e}const C1=new $e(Ie);function P1(){return C1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fr(e)?"-0":e}}function Uu(t){return{integerValue:""+t}}function S1(t,e){return s1(e)?Uu(e):Bu(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(){this._=void 0}}function V1(t,e,n){return t instanceof Tr?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&eo(s)&&(s=to(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof _i?ju(t,e):t instanceof bi?qu(t,e):function(r,s){const o=zu(r,s),l=Hu(o)+Hu(r.Te);return io(o)&&io(r.Te)?Uu(l):Bu(r.serializer,l)}(t,e)}function D1(t,e,n){return t instanceof _i?ju(t,e):t instanceof bi?qu(t,e):n}function zu(t,e){return t instanceof Er?function(i){return io(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Tr extends vr{}class _i extends vr{constructor(e){super(),this.elements=e}}function ju(t,e){const n=Wu(e);for(const i of t.elements)n.some(r=>vt(r,i))||n.push(i);return{arrayValue:{values:n}}}class bi extends vr{constructor(e){super(),this.elements=e}}function qu(t,e){let n=Wu(e);for(const i of t.elements)n=n.filter(r=>!vt(r,i));return{arrayValue:{values:n}}}class Er extends vr{constructor(e,n){super(),this.serializer=e,this.Te=n}}function Hu(t){return Fe(t.integerValue||t.doubleValue)}function Wu(t){return ro(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function M1(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof _i&&r instanceof _i||i instanceof bi&&r instanceof bi?_n(i.elements,r.elements,vt):i instanceof Er&&r instanceof Er?vt(i.Te,r.Te):i instanceof Tr&&r instanceof Tr}(t.transform,e.transform)}class N1{constructor(e,n){this.version=e,this.transformResults=n}}class ht{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ht}static exists(e){return new ht(void 0,e)}static updateTime(e){return new ht(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ir(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ar{}function Ku(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fo(t.key,ht.none()):new yi(t.key,t.data,ht.none());{const n=t.data,i=ot.empty();let r=new $e(xe.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Ot(t.key,i,new at(r.toArray()),ht.none())}}function L1(t,e,n){t instanceof yi?function(r,s,o){const l=r.value.clone(),a=Yu(r.fieldTransforms,s,o.transformResults);l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ot?function(r,s,o){if(!Ir(r.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Yu(r.fieldTransforms,s,o.transformResults),a=s.data;a.setAll(Qu(r)),a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function pi(t,e,n,i){return t instanceof yi?function(s,o,l,a){if(!Ir(s.precondition,o))return l;const u=s.value.clone(),c=Xu(s.fieldTransforms,a,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof Ot?function(s,o,l,a){if(!Ir(s.precondition,o))return l;const u=Xu(s.fieldTransforms,a,o),c=o.data;return c.setAll(Qu(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,i):function(s,o,l){return Ir(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function O1(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=zu(i.transform,r||null);s!=null&&(n===null&&(n=ot.empty()),n.set(i.field,s))}return n||null}function Gu(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&_n(i,r,(s,o)=>M1(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yi extends Ar{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ot extends Ar{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Qu(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Yu(t,e,n){const i=new Map;De(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,l=e.data.field(s.field);i.set(s.field,D1(o,l,n[r]))}return i}function Xu(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,V1(s,o,e))}return i}class fo extends Ar{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F1 extends Ar{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&L1(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=pi(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=pi(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Fu();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(r.key)?null:l;const a=Ku(o,l);a!==null&&i.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(de.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&_n(this.mutations,e.mutations,(n,i)=>Gu(n,i))&&_n(this.baseMutations,e.baseMutations,(n,i)=>Gu(n,i))}}class mo{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){De(e.mutations.length===i.length);let r=function(){return w1}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new mo(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,ve;function j1(t){switch(t){default:return ce();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function Ju(t){if(t===void 0)return kt("GRPC error has no .code"),M.UNKNOWN;switch(t){case Be.OK:return M.OK;case Be.CANCELLED:return M.CANCELLED;case Be.UNKNOWN:return M.UNKNOWN;case Be.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Be.INTERNAL:return M.INTERNAL;case Be.UNAVAILABLE:return M.UNAVAILABLE;case Be.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Be.NOT_FOUND:return M.NOT_FOUND;case Be.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Be.ABORTED:return M.ABORTED;case Be.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Be.DATA_LOSS:return M.DATA_LOSS;default:return ce()}}(ve=Be||(Be={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return kr}static getOrCreateInstance(){return kr===null&&(kr=new go),kr}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let kr=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=new dn([4294967295,4294967295],0);function Zu(t){const e=q1().encode(t),n=new W_;return n.update(e),new Uint8Array(n.digest())}function xu(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new dn([n,i],0),new dn([r,s],0)]}class _o{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new vi(`Invalid padding: ${n}`);if(i<0)throw new vi(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new vi(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new vi(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*e.length-n,this.Ae=dn.fromNumber(this.de)}Re(e,n,i){let r=e.add(n.multiply(dn.fromNumber(i)));return r.compare(H1)===1&&(r=new dn([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ae).toNumber()}Ve(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.de===0)return!1;const n=Zu(e),[i,r]=xu(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(i,r,s);if(!this.Ve(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new _o(s,r,n);return i.forEach(l=>o.insert(l)),o}insert(e){if(this.de===0)return;const n=Zu(e),[i,r]=xu(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(i,r,s);this.me(o)}}me(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class vi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Ti.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new wr(de.min(),r,new Ne(Ie),Rt(),ye())}}class Ti{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ti(i,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,i,r){this.fe=e,this.removedTargetIds=n,this.key=i,this.ge=r}}class $u{constructor(e,n){this.targetId=e,this.pe=n}}class ec{constructor(e,n,i=et.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class tc{constructor(){this.ye=0,this.we=ic(),this.Se=et.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}Me(){let e=ye(),n=ye(),i=ye();return this.we.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:ce()}}),new Ti(this.Se,this.be,e,n,i)}xe(){this.De=!1,this.we=ic()}Oe(e,n){this.De=!0,this.we=this.we.insert(e,n)}Ne(e){this.De=!0,this.we=this.we.remove(e)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class W1{constructor(e){this.qe=e,this.Qe=new Map,this.Ke=Rt(),this.$e=nc(),this.Ue=new Ne(Ie)}We(e){for(const n of e.fe)e.ge&&e.ge.isFoundDocument()?this.Ge(n,e.ge):this.ze(n,e.key,e.ge);for(const n of e.removedTargetIds)this.ze(n,e.key,e.ge)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Fe(e.resumeToken);break;case 1:i.Le(),i.ve||i.xe(),i.Fe(e.resumeToken);break;case 2:i.Le(),i.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(i.ke(),i.Fe(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Fe(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qe.forEach((i,r)=>{this.Je(r)&&n(r)})}Ze(e){var n,i;const r=e.targetId,s=e.pe.count,o=this.Xe(r);if(o){const l=o.target;if(ao(l))if(s===0){const a=new $(l.path);this.ze(r,a,tt.newNoDocument(a,de.min()))}else De(s===1);else{const a=this.et(r);if(a!==s){const u=this.tt(e,a);if(u.status!==0){this.Ye(r);const c=u.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(r,c)}(n=go.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(d,h,f,g){var p,b,T,I,E,C;const m={localCacheCount:f,existenceFilterCount:g.count},O=g.unchangedNames;return O&&(m.bloomFilter={applied:d===0,hashCount:(p=O==null?void 0:O.hashCount)!==null&&p!==void 0?p:0,bitmapLength:(I=(T=(b=O==null?void 0:O.bits)===null||b===void 0?void 0:b.bitmap)===null||T===void 0?void 0:T.length)!==null&&I!==void 0?I:0,padding:(C=(E=O==null?void 0:O.bits)===null||E===void 0?void 0:E.padding)!==null&&C!==void 0?C:0},h&&(m.bloomFilter.mightContain=h)),m}(u.status,(i=u.nt)!==null&&i!==void 0?i:null,a,e.pe))}}}}tt(e,n){const{unchangedNames:i,count:r}=e.pe;if(!i||!i.bits)return{status:1};const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=i;let a,u;try{a=xt(s).toUint8Array()}catch(d){if(d instanceof pu)return gn("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw d}try{u=new _o(a,o,l)}catch(d){return gn(d instanceof vi?"BloomFilter error: ":"Applying bloom filter failed: ",d),{status:1}}const c=d=>{const h=this.qe.rt();return u.mightContain(`projects/${h.projectId}/databases/${h.database}/documents/${d}`)};return u.de===0?{status:1}:{status:r===n-this.it(e.targetId,c)?0:2,nt:c}}it(e,n){const i=this.qe.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{n(s.path.canonicalString())||(this.ze(e,s,null),r++)}),r}st(e){const n=new Map;this.Qe.forEach((s,o)=>{const l=this.Xe(o);if(l){if(s.current&&ao(l.target)){const a=new $(l.target.path);this.Ke.get(a)!==null||this.ot(o,a)||this.ze(o,a,tt.newNoDocument(a,e))}s.Ce&&(n.set(o,s.Me()),s.xe())}});let i=ye();this.$e.forEach((s,o)=>{let l=!0;o.forEachWhile(a=>{const u=this.Xe(a);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.Ke.forEach((s,o)=>o.setReadTime(e));const r=new wr(e,n,this.Ue,this.Ke,i);return this.Ke=Rt(),this.$e=nc(),this.Ue=new Ne(Ie),r}Ge(e,n){if(!this.Je(e))return;const i=this.ot(e,n.key)?2:0;this.He(e).Oe(n.key,i),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const r=this.He(e);this.ot(e,n)?r.Oe(n,1):r.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(e)),i&&(this.Ke=this.Ke.insert(n,i))}removeTarget(e){this.Qe.delete(e)}et(e){const n=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Be(e){this.He(e).Be()}He(e){let n=this.Qe.get(e);return n||(n=new tc,this.Qe.set(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new $e(Ie),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.Qe.get(e);return n&&n.ve?null:this.qe.ut(e)}Ye(e){this.Qe.set(e,new tc),this.qe.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ot(e,n){return this.qe.getRemoteKeysForTarget(e).has(n)}}function nc(){return new Ne($.comparator)}function ic(){return new Ne($.comparator)}const K1=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),G1=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Q1=(()=>({and:"AND",or:"OR"}))();class Y1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bo(t,e){return t.useProto3Json||hr(e)?e:{value:e}}function Cr(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rc(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function X1(t,e){return Cr(t,e.toTimestamp())}function Et(t){return De(!!t),de.fromTimestamp(function(n){const i=Lt(n);return new Ue(i.seconds,i.nanos)}(t))}function po(t,e){return function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents").child(e).canonicalString()}function sc(t){const e=Me.fromString(t);return De(cc(e)),e}function yo(t,e){return po(t.databaseId,e.path)}function vo(t,e){const n=sc(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $(oc(n))}function To(t,e){return po(t.databaseId,e)}function J1(t){const e=sc(t);return e.length===4?Me.emptyPath():oc(e)}function Eo(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oc(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function lc(t,e,n){return{name:yo(t,e),fields:n.value.mapValue.fields}}function Z1(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(De(c===void 0||typeof c=="string"),et.fromBase64String(c||"")):(De(c===void 0||c instanceof Uint8Array),et.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const c=u.code===void 0?M.UNKNOWN:Ju(u.code);return new Z(c,u.message||"")}(o);n=new ec(i,r,s,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=vo(t,i.document.name),s=Et(i.document.updateTime),o=i.document.createTime?Et(i.document.createTime):de.min(),l=new ot({mapValue:{fields:i.document.fields}}),a=tt.newFoundDocument(r,s,o,l),u=i.targetIds||[],c=i.removedTargetIds||[];n=new Rr(u,c,a.key,a)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=vo(t,i.document),s=i.readTime?Et(i.readTime):de.min(),o=tt.newNoDocument(r,s),l=i.removedTargetIds||[];n=new Rr([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=vo(t,i.document),s=i.removedTargetIds||[];n=new Rr([],s,r,null)}else{if(!("filter"in e))return ce();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new z1(r,s),l=i.targetId;n=new $u(l,o)}}return n}function x1(t,e){let n;if(e instanceof yi)n={update:lc(t,e.key,e.value)};else if(e instanceof fo)n={delete:yo(t,e.key)};else if(e instanceof Ot)n={update:lc(t,e.key,e.data),updateMask:l0(e.fieldMask)};else{if(!(e instanceof F1))return ce();n={verify:yo(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const l=o.transform;if(l instanceof Tr)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof _i)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof bi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Er)return{fieldPath:o.field.canonicalString(),increment:l.Te};throw ce()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:X1(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ce()}(t,e.precondition)),n}function $1(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Et(r.updateTime):Et(s);return o.isEqual(de.min())&&(o=Et(s)),new N1(o,r.transformResults||[])}(n,e))):[]}function e0(t,e){return{documents:[To(t,e.path)]}}function t0(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=To(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=To(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(a){if(a.length!==0)return uc(Tt.create(a,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const s=function(a){if(a.length!==0)return a.map(u=>function(d){return{field:Tn(d.field),direction:r0(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=bo(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(a){return{before:a.inclusive,values:a.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(a){return{before:!a.inclusive,values:a.position}}(e.endAt)),n}function n0(t){let e=J1(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){De(i===1);const c=n.from[0];c.allDescendants?r=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=ac(d);return h instanceof Tt&&Ru(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new di(En(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let l=null;n.limit&&(l=function(d){let h;return h=typeof d=="object"?d.value:d,hr(h)?null:h}(n.limit));let a=null;n.startAt&&(a=function(d){const h=!!d.before,f=d.values||[];return new _r(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new _r(f,h)}(n.endAt)),y1(e,r,o,s,l,"F",a,u)}function i0(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ac(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=En(n.unaryFilter.field);return ze.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=En(n.unaryFilter.field);return ze.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=En(n.unaryFilter.field);return ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=En(n.unaryFilter.field);return ze.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return ze.create(En(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Tt.create(n.compositeFilter.filters.map(i=>ac(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function r0(t){return K1[t]}function s0(t){return G1[t]}function o0(t){return Q1[t]}function Tn(t){return{fieldPath:t.canonicalString()}}function En(t){return xe.fromServerFormat(t.fieldPath)}function uc(t){return t instanceof ze?function(n){if(n.op==="=="){if(Tu(n.value))return{unaryFilter:{field:Tn(n.field),op:"IS_NAN"}};if(vu(n.value))return{unaryFilter:{field:Tn(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Tu(n.value))return{unaryFilter:{field:Tn(n.field),op:"IS_NOT_NAN"}};if(vu(n.value))return{unaryFilter:{field:Tn(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tn(n.field),op:s0(n.op),value:n.value}}}(t):t instanceof Tt?function(n){const i=n.getFilters().map(r=>uc(r));return i.length===1?i[0]:{compositeFilter:{op:o0(n.op),filters:i}}}(t):ce()}function l0(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cc(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,i,r,s=de.min(),o=de.min(),l=et.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=a}withSequenceNumber(e){return new Ft(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ft(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ft(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ft(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){this.ct=e}}function u0(t){const e=n0({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?co(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.sn=new h0}addToCollectionParentIndex(e,n){return this.sn.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(Nt.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(Nt.min())}updateCollectionGroup(e,n,i){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}}class h0{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new $e(Me.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new $e(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.Mn=e}next(){return this.Mn+=2,this.Mn}static xn(){return new In(0)}static On(){return new In(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this.changes=new vn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?N.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&pi(i.mutation,r,at.empty(),Ue.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ye()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ye()){const r=en();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=mi();return s.forEach((l,a)=>{o=o.insert(l,a.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=en();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ye()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,i,r){let s=Rt();const o=gi(),l=function(){return gi()}();return n.forEach((a,u)=>{const c=i.get(u.key);r.has(u.key)&&(c===void 0||c.mutation instanceof Ot)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),pi(c.mutation,u,c.mutation.getFieldMask(),Ue.now())):o.set(u.key,at.empty())}),this.recalculateAndSaveOverlays(e,s).next(a=>(a.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return l.set(u,new d0(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),l))}recalculateAndSaveOverlays(e,n){const i=gi();let r=new Ne((o,l)=>o-l),s=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(a=>{const u=n.get(a);if(u===null)return;let c=i.get(a)||at.empty();c=l.applyToLocalView(u,c),i.set(a,c);const d=(r.get(l.batchId)||ye()).add(a);r=r.insert(l.batchId,d)})}).next(()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const a=l.getNext(),u=a.key,c=a.value,d=Fu();c.forEach(h=>{if(!s.has(h)){const f=Ku(n.get(h),i.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return N.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i){return function(s){return $.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):E1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i):this.getDocumentsMatchingCollectionQuery(e,n,i)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):N.resolve(en());let l=-1,a=s;return o.next(u=>N.forEach(u,(c,d)=>(l<d.largestBatchId&&(l=d.largestBatchId),s.get(c)?N.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{a=a.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,a,u,ye())).next(c=>({batchId:l,changes:Ou(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $(n)).next(i=>{let r=mi();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i){const r=n.collectionGroup;let s=mi();return this.indexManager.getCollectionParents(e,r).next(o=>N.forEach(o,l=>{const a=function(c,d){return new br(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,l.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,i).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r))).next(s=>{r.forEach((l,a)=>{const u=a.getKey();s.get(u)===null&&(s=s.insert(u,tt.newInvalidDocument(u)))});let o=mi();return s.forEach((l,a)=>{const u=r.get(l);u!==void 0&&pi(u.mutation,a,at.empty(),Ue.now()),yr(n,a)&&(o=o.insert(l,a))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this.serializer=e,this.ar=new Map,this.ur=new Map}getBundleMetadata(e,n){return N.resolve(this.ar.get(n))}saveBundleMetadata(e,n){return this.ar.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Et(r.createTime)}}(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.ur.get(n))}saveNamedQuery(e,n){return this.ur.set(n.name,function(r){return{name:r.name,query:u0(r.bundledQuery),readTime:Et(r.readTime)}}(n)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.overlays=new Ne($.comparator),this.cr=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){const i=en();return N.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),N.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.cr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.cr.delete(i)),N.resolve()}getOverlaysForCollection(e,n,i){const r=en(),s=n.length+1,o=new $(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const a=l.getNext().value,u=a.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&a.largestBatchId>i&&r.set(a.getKey(),a)}return N.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Ne((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let c=s.get(u.largestBatchId);c===null&&(c=en(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const l=en(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((u,c)=>l.set(u,c)),!(l.size()>=r)););return N.resolve(l)}ht(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.cr.get(r.largestBatchId).delete(i.key);this.cr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new U1(n,i));let s=this.cr.get(n);s===void 0&&(s=ye(),this.cr.set(n,s)),this.cr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.lr=new $e(He.hr),this.Pr=new $e(He.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(e,n){const i=new He(e,n);this.lr=this.lr.add(i),this.Pr=this.Pr.add(i)}Tr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Er(new He(e,n))}dr(e,n){e.forEach(i=>this.removeReference(i,n))}Ar(e){const n=new $(new Me([])),i=new He(n,e),r=new He(n,e+1),s=[];return this.Pr.forEachInRange([i,r],o=>{this.Er(o),s.push(o.key)}),s}Rr(){this.lr.forEach(e=>this.Er(e))}Er(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}Vr(e){const n=new $(new Me([])),i=new He(n,e),r=new He(n,e+1);let s=ye();return this.Pr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new He(e,0),i=this.lr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class He{constructor(e,n){this.key=e,this.mr=n}static hr(e,n){return $.comparator(e.key,n.key)||Ie(e.mr,n.mr)}static Ir(e,n){return Ie(e.mr,n.mr)||$.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new $e(He.hr)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new B1(s,n,i,r);this.mutationQueue.push(o);for(const l of r)this.pr=this.pr.add(new He(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return N.resolve(o)}lookupMutationBatch(e,n){return N.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.wr(i),s=r<0?0:r;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new He(n,0),r=new He(n,Number.POSITIVE_INFINITY),s=[];return this.pr.forEachInRange([i,r],o=>{const l=this.yr(o.mr);s.push(l)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new $e(Ie);return n.forEach(r=>{const s=new He(r,0),o=new He(r,Number.POSITIVE_INFINITY);this.pr.forEachInRange([s,o],l=>{i=i.add(l.mr)})}),N.resolve(this.Sr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;$.isDocumentKey(s)||(s=s.child(""));const o=new He(new $(s),0);let l=new $e(Ie);return this.pr.forEachWhile(a=>{const u=a.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(l=l.add(a.mr)),!0)},o),N.resolve(this.Sr(l))}Sr(e){const n=[];return e.forEach(i=>{const r=this.yr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){De(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.pr;return N.forEach(n.mutations,r=>{const s=new He(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.pr=i})}Cn(e){}containsKey(e,n){const i=new He(n,0),r=this.pr.firstAfterOrEqual(i);return N.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}br(e,n){return this.wr(e)}wr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}yr(e){const n=this.wr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){this.Dr=e,this.docs=function(){return new Ne($.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Dr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return N.resolve(i?i.document.mutableCopy():tt.newInvalidDocument(n))}getEntries(e,n){let i=Rt();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():tt.newInvalidDocument(r))}),N.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Rt();const o=n.path,l=new $(o.child("")),a=this.docs.getIteratorFrom(l);for(;a.hasNext();){const{key:u,value:{document:c}}=a.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||n1(t1(c),i)<=0||(r.has(c.key)||yr(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(e,n,i,r){ce()}vr(e,n){return N.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new y0(this)}getSize(e){return N.resolve(this.size)}}class y0 extends f0{constructor(e){super(),this.sr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.sr.addEntry(e,r)):this.sr.removeEntry(i)}),N.waitFor(n)}getFromCache(e,n){return this.sr.getEntry(e,n)}getAllFromCache(e,n){return this.sr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e){this.persistence=e,this.Cr=new vn(n=>oo(n),lo),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new Io,this.targetCount=0,this.Or=In.xn()}forEachTarget(e,n){return this.Cr.forEach((i,r)=>n(r)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Fr)}allocateTargetId(e){return this.highestTargetId=this.Or.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Fr&&(this.Fr=n),N.resolve()}Ln(e){this.Cr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Or=new In(n),this.highestTargetId=n),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}addTargetData(e,n){return this.Ln(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.Ln(n),N.resolve()}removeTargetData(e,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Cr.forEach((o,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.Cr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),N.waitFor(s).next(()=>r)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){const i=this.Cr.get(n)||null;return N.resolve(i)}addMatchingKeys(e,n,i){return this.Mr.Tr(n,i),N.resolve()}removeMatchingKeys(e,n,i){this.Mr.dr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Mr.Ar(n),N.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Mr.Vr(n);return N.resolve(i)}containsKey(e,n){return N.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n){this.Nr={},this.overlays={},this.Br=new $s(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=e(this),this.kr=new v0(this),this.indexManager=new c0,this.remoteDocumentCache=function(r){return new p0(r)}(i=>this.referenceDelegate.qr(i)),this.serializer=new a0(n),this.Qr=new g0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _0,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Nr[e.toKey()];return i||(i=new b0(n,this.referenceDelegate),this.Nr[e.toKey()]=i),i}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(e,n,i){Y("MemoryPersistence","Starting transaction:",e);const r=new E0(this.Br.next());return this.referenceDelegate.Kr(),i(r).next(s=>this.referenceDelegate.$r(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ur(e,n){return N.or(Object.values(this.Nr).map(i=>()=>i.containsKey(e,n)))}}class E0 extends r1{constructor(e){super(),this.currentSequenceNumber=e}}class Ao{constructor(e){this.persistence=e,this.Wr=new Io,this.Gr=null}static zr(e){return new Ao(e)}get jr(){if(this.Gr)return this.Gr;throw ce()}addReference(e,n,i){return this.Wr.addReference(i,n),this.jr.delete(i.toString()),N.resolve()}removeReference(e,n,i){return this.Wr.removeReference(i,n),this.jr.add(i.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.jr.add(n.toString()),N.resolve()}removeTarget(e,n){this.Wr.Ar(n.targetId).forEach(r=>this.jr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.jr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Kr(){this.Gr=new Set}$r(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.jr,i=>{const r=$.fromPath(i);return this.Hr(e,r).next(s=>{s||n.removeEntry(r,de.min())})}).next(()=>(this.Gr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hr(e,n).next(i=>{i?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(e){return 0}Hr(e,n){return N.or([()=>N.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ur(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Li=i,this.ki=r}static qi(e,n){let i=ye(),r=ye();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new ko(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(){this.Qi=!1}initialize(e,n){this.Ki=e,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(e,n,i,r){return this.$i(e,n).next(s=>s||this.Ui(e,n,r,i)).next(s=>s||this.Wi(e,n))}$i(e,n){if(Du(n))return N.resolve(null);let i=wt(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=co(n,null,"F"),i=wt(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=ye(...s);return this.Ki.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,i).next(a=>{const u=this.Gi(n,l);return this.zi(n,u,o,a.readTime)?this.$i(e,co(n,null,"F")):this.ji(e,u,n,a)}))})))}Ui(e,n,i,r){return Du(n)||r.isEqual(de.min())?this.Wi(e,n):this.Ki.getDocuments(e,i).next(s=>{const o=this.Gi(n,s);return this.zi(n,o,i,r)?this.Wi(e,n):(fu()<=ke.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ho(n)),this.ji(e,o,n,e1(r,-1)))})}Gi(e,n){let i=new $e(Nu(e));return n.forEach((r,s)=>{yr(e,s)&&(i=i.add(s))}),i}zi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Wi(e,n){return fu()<=ke.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",ho(n)),this.Ki.getDocumentsMatchingQuery(e,n,Nt.min())}ji(e,n,i,r){return this.Ki.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n,i,r){this.persistence=e,this.Hi=n,this.serializer=r,this.Ji=new Ne(Ie),this.Yi=new vn(s=>oo(s),lo),this.Zi=new Map,this.Xi=e.getRemoteDocumentCache(),this.kr=e.getTargetCache(),this.Qr=e.getBundleCache(),this.es(i)}es(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m0(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function k0(t,e,n,i){return new A0(t,e,n,i)}async function hc(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.es(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],l=[];let a=ye();for(const u of r){o.push(u.batchId);for(const c of u.mutations)a=a.add(c.key)}for(const u of s){l.push(u.batchId);for(const c of u.mutations)a=a.add(c.key)}return n.localDocuments.getDocuments(i,a).next(u=>({ts:u,removedBatchIds:o,addedBatchIds:l}))})})}function w0(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.Xi.newChangeBuffer({trackRemovals:!0});return function(l,a,u,c){const d=u.batch,h=d.keys();let f=N.resolve();return h.forEach(g=>{f=f.next(()=>c.getEntry(a,g)).next(p=>{const b=u.docVersions.get(g);De(b!==null),p.version.compareTo(b)<0&&(d.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),f.next(()=>l.mutationQueue.removeMutationBatch(a,d))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let a=ye();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(a=a.add(l.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function fc(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.kr.getLastRemoteSnapshotVersion(n))}function R0(t,e){const n=me(t),i=e.snapshotVersion;let r=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});r=n.Ji;const l=[];e.targetChanges.forEach((c,d)=>{const h=r.get(d);if(!h)return;l.push(n.kr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.kr.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(et.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,i)),r=r.insert(d,f),function(p,b,T){return p.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(h,f,c)&&l.push(n.kr.updateTargetData(s,f))});let a=Rt(),u=ye();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),l.push(C0(s,o,e.documentUpdates).next(c=>{a=c.ns,u=c.rs})),!i.isEqual(de.min())){const c=n.kr.getLastRemoteSnapshotVersion(s).next(d=>n.kr.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(c)}return N.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,a,u)).next(()=>a)}).then(s=>(n.Ji=r,s))}function C0(t,e,n){let i=ye(),r=ye();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=Rt();return n.forEach((l,a)=>{const u=s.get(l);a.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(l)),a.isNoDocument()&&a.version.isEqual(de.min())?(e.removeEntry(l,a.readTime),o=o.insert(l,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||a.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(a),o=o.insert(l,a)):Y("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",a.version)}),{ns:o,rs:r}})}function P0(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function S0(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.kr.getTargetData(i,e).next(s=>s?(r=s,N.resolve(r)):n.kr.allocateTargetId(i).next(o=>(r=new Ft(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.kr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ji.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(i.targetId,i),n.Yi.set(e,i.targetId)),i})}async function wo(t,e,n){const i=me(t),r=i.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!ai(o))throw o;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}function dc(t,e,n){const i=me(t);let r=de.min(),s=ye();return i.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const d=me(a),h=d.Yi.get(c);return h!==void 0?N.resolve(d.Ji.get(h)):d.kr.getTargetData(u,c)}(i,o,wt(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.kr.getMatchingKeysForTargetId(o,l.targetId).next(a=>{s=a})}).next(()=>i.Hi.getDocumentsMatchingQuery(o,e,n?r:de.min(),n?s:ye())).next(l=>(V0(i,I1(e),l),{documents:l,ss:s})))}function V0(t,e,n){let i=t.Zi.get(e)||de.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Zi.set(e,i)}class mc{constructor(){this.activeTargetIds=P1()}hs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ps(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ls(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class D0{constructor(){this.Hs=new mc,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.Hs.hs(e),this.Js[e]||"not-current"}updateQueryState(e,n,i){this.Js[e]=n}removeLocalQueryTarget(e){this.Hs.Ps(e)}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){delete this.Js[e]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(e){return this.Hs.activeTargetIds.has(e)}start(){return this.Hs=new mc,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{Ys(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(e){this.ro.push(e)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ro)e(0)}no(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ro)e(1)}static v(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pr=null;function Ro(){return Pr===null?Pr=function(){return 268435456+Math.round(2147483648*Math.random())}():Pr++,"0x"+Pr.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e){this.so=e.so,this.oo=e.oo}_o(e){this.ao=e}uo(e){this.co=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.so(e)}ho(){this.ao()}Po(e){this.co(e)}Io(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt="WebChannelConnection";class O0 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http";this.To=i+"://"+n.host,this.Eo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get Ao(){return!1}Ro(n,i,r,s,o){const l=Ro(),a=this.Vo(n,i);Y("RestConnection",`Sending RPC '${n}' ${l}:`,a,r);const u={};return this.mo(u,s,o),this.fo(n,a,u,r).then(c=>(Y("RestConnection",`Received RPC '${n}' ${l}: `,c),c),c=>{throw gn("RestConnection",`RPC '${n}' ${l} failed with error: `,c,"url: ",a,"request:",r),c})}po(n,i,r,s,o,l){return this.Ro(n,i,r,s,o)}mo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mn}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}Vo(n,i){const r=N0[n];return`${this.To}/v1/${i}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}fo(e,n,i,r){const s=Ro();return new Promise((o,l)=>{const a=new H_;a.setWithCredentials(!0),a.listenOnce(z_.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Zs.NO_ERROR:const c=a.getResponseJson();Y(nt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Zs.TIMEOUT:Y(nt,`RPC '${e}' ${s} timed out`),l(new Z(M.DEADLINE_EXCEEDED,"Request time out"));break;case Zs.HTTP_ERROR:const d=a.getStatus();if(Y(nt,`RPC '${e}' ${s} failed with status:`,d,"response text:",a.getResponseText()),d>0){let h=a.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const g=function(b){const T=b.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(T)>=0?T:M.UNKNOWN}(f.status);l(new Z(g,f.message))}else l(new Z(M.UNKNOWN,"Server responded with status "+a.getStatus()))}else l(new Z(M.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{Y(nt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(r);Y(nt,`RPC '${e}' ${s} sending request:`,r),a.send(n,"POST",u,i,15)})}yo(e,n,i){const r=Ro(),s=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=B_(),l=U_(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.xmlHttpFactory=new q_({})),this.mo(a.initMessageHeaders,n,i),a.encodeInitMessageHeaders=!0;const c=s.join("");Y(nt,`Creating RPC '${e}' stream ${r}: ${c}`,a);const d=o.createWebChannel(c,a);let h=!1,f=!1;const g=new L0({so:b=>{f?Y(nt,`Not sending because RPC '${e}' stream ${r} is closed:`,b):(h||(Y(nt,`Opening RPC '${e}' stream ${r} transport.`),d.open(),h=!0),Y(nt,`RPC '${e}' stream ${r} sending:`,b),d.send(b))},oo:()=>d.close()}),p=(b,T,I)=>{b.listen(T,E=>{try{I(E)}catch(C){setTimeout(()=>{throw C},0)}})};return p(d,cr.EventType.OPEN,()=>{f||Y(nt,`RPC '${e}' stream ${r} transport opened.`)}),p(d,cr.EventType.CLOSE,()=>{f||(f=!0,Y(nt,`RPC '${e}' stream ${r} transport closed`),g.Po())}),p(d,cr.EventType.ERROR,b=>{f||(f=!0,gn(nt,`RPC '${e}' stream ${r} transport errored:`,b),g.Po(new Z(M.UNAVAILABLE,"The operation could not be completed")))}),p(d,cr.EventType.MESSAGE,b=>{var T;if(!f){const I=b.data[0];De(!!I);const E=I,C=E.error||((T=E[0])===null||T===void 0?void 0:T.error);if(C){Y(nt,`RPC '${e}' stream ${r} received error:`,C);const m=C.status;let O=function(G){const Ce=Be[G];if(Ce!==void 0)return Ju(Ce)}(m),D=C.message;O===void 0&&(O=M.INTERNAL,D="Unknown error status: "+m+" with message "+C.message),f=!0,g.Po(new Z(O,D)),d.close()}else Y(nt,`RPC '${e}' stream ${r} received:`,I),g.Io(I)}}),p(l,j_.STAT_EVENT,b=>{b.stat===cu.PROXY?Y(nt,`RPC '${e}' stream ${r} detected buffering proxy`):b.stat===cu.NOPROXY&&Y(nt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{g.ho()},0),g}}function Co(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t){return new Y1(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n,i=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=n,this.wo=i,this.So=r,this.bo=s,this.Do=0,this.vo=null,this.Co=Date.now(),this.reset()}reset(){this.Do=0}Fo(){this.Do=this.bo}Mo(e){this.cancel();const n=Math.floor(this.Do+this.xo()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,n-i);r>0&&Y("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Do} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.vo=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.Do*=this.So,this.Do<this.wo&&(this.Do=this.wo),this.Do>this.bo&&(this.Do=this.bo)}Oo(){this.vo!==null&&(this.vo.skipDelay(),this.vo=null)}cancel(){this.vo!==null&&(this.vo.cancel(),this.vo=null)}xo(){return(Math.random()-.5)*this.Do}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n,i,r,s,o,l,a){this.ii=e,this.No=i,this.Bo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=a,this.state=0,this.Lo=0,this.ko=null,this.qo=null,this.stream=null,this.Qo=new _c(e,n)}Ko(){return this.state===1||this.state===5||this.$o()}$o(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Uo()}async stop(){this.Ko()&&await this.close(0)}Wo(){this.state=0,this.Qo.reset()}Go(){this.$o()&&this.ko===null&&(this.ko=this.ii.enqueueAfterDelay(this.No,6e4,()=>this.zo()))}jo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.$o())return this.close(0)}Ho(){this.ko&&(this.ko.cancel(),this.ko=null)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}async close(e,n){this.Ho(),this.Jo(),this.Qo.cancel(),this.Lo++,e!==4?this.Qo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(kt(n.toString()),kt("Using maximum backoff delay to prevent overloading the backend."),this.Qo.Fo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.uo(n)}Yo(){}auth(){this.state=1;const e=this.Zo(this.Lo),n=this.Lo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Lo===n&&this.Xo(i,r)},i=>{e(()=>{const r=new Z(M.UNKNOWN,"Fetching auth token failed: "+i.message);return this.e_(r)})})}Xo(e,n){const i=this.Zo(this.Lo);this.stream=this.t_(e,n),this.stream._o(()=>{i(()=>(this.state=2,this.qo=this.ii.enqueueAfterDelay(this.Bo,1e4,()=>(this.$o()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(r=>{i(()=>this.e_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Uo(){this.state=5,this.Qo.Mo(async()=>{this.state=0,this.start()})}e_(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Zo(e){return n=>{this.ii.enqueueAndForget(()=>this.Lo===e?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F0 extends bc{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}t_(e,n){return this.connection.yo("Listen",e,n)}onMessage(e){this.Qo.reset();const n=Z1(this.serializer,e),i=function(s){if(!("targetChange"in s))return de.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?Et(o.readTime):de.min()}(e);return this.listener.n_(n,i)}r_(e){const n={};n.database=Eo(this.serializer),n.addTarget=function(s,o){let l;const a=o.target;if(l=ao(a)?{documents:e0(s,a)}:{query:t0(s,a)},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=rc(s,o.resumeToken);const u=bo(s,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(de.min())>0){l.readTime=Cr(s,o.snapshotVersion.toTimestamp());const u=bo(s,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const i=i0(this.serializer,e);i&&(n.labels=i),this.jo(n)}i_(e){const n={};n.database=Eo(this.serializer),n.removeTarget=e,this.jo(n)}}class B0 extends bc{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.s_=!1}get o_(){return this.s_}start(){this.s_=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.s_&&this.__([])}t_(e,n){return this.connection.yo("Write",e,n)}onMessage(e){if(De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.s_){this.Qo.reset();const n=$1(e.writeResults,e.commitTime),i=Et(e.commitTime);return this.listener.a_(i,n)}return De(!e.writeResults||e.writeResults.length===0),this.s_=!0,this.listener.u_()}c_(){const e={};e.database=Eo(this.serializer),this.jo(e)}__(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>x1(this.serializer,i))};this.jo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0 extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.l_=!1}h_(){if(this.l_)throw new Z(M.FAILED_PRECONDITION,"The client has already been terminated.")}Ro(e,n,i){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Ro(e,n,i,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Z(M.UNKNOWN,r.toString())})}po(e,n,i,r){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.po(e,n,i,s,o,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(M.UNKNOWN,s.toString())})}terminate(){this.l_=!0}}class z0{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.I_=0,this.T_=null,this.E_=!0}d_(){this.I_===0&&(this.A_("Unknown"),this.T_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.T_=null,this.R_("Backend didn't respond within 10 seconds."),this.A_("Offline"),Promise.resolve())))}V_(e){this.state==="Online"?this.A_("Unknown"):(this.I_++,this.I_>=1&&(this.m_(),this.R_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.A_("Offline")))}set(e){this.m_(),this.I_=0,e==="Online"&&(this.E_=!1),this.A_(e)}A_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}R_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.E_?(kt(n),this.E_=!1):Y("OnlineStateTracker",n)}m_(){this.T_!==null&&(this.T_.cancel(),this.T_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.f_=[],this.g_=new Map,this.p_=new Set,this.y_=[],this.w_=s,this.w_.Ys(o=>{i.enqueueAndForget(async()=>{tn(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),await async function(a){const u=me(a);u.p_.add(4),await Ei(u),u.S_.set("Unknown"),u.p_.delete(4),await Vr(u)}(this))})}),this.S_=new z0(i,r)}}async function Vr(t){if(tn(t))for(const e of t.y_)await e(!0)}async function Ei(t){for(const e of t.y_)await e(!1)}function pc(t,e){const n=me(t);n.g_.has(e.targetId)||(n.g_.set(e.targetId,e),Vo(n)?So(n):An(n).$o()&&Po(n,e))}function yc(t,e){const n=me(t),i=An(n);n.g_.delete(e),i.$o()&&vc(n,e),n.g_.size===0&&(i.$o()?i.Go():tn(n)&&n.S_.set("Unknown"))}function Po(t,e){if(t.b_.Be(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}An(t).r_(e)}function vc(t,e){t.b_.Be(e),An(t).i_(e)}function So(t){t.b_=new W1({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.g_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),An(t).start(),t.S_.d_()}function Vo(t){return tn(t)&&!An(t).Ko()&&t.g_.size>0}function tn(t){return me(t).p_.size===0}function Tc(t){t.b_=void 0}async function q0(t){t.g_.forEach((e,n)=>{Po(t,e)})}async function H0(t,e){Tc(t),Vo(t)?(t.S_.V_(e),So(t)):t.S_.set("Unknown")}async function W0(t,e,n){if(t.S_.set("Online"),e instanceof ec&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const l of s.targetIds)r.g_.has(l)&&(await r.remoteSyncer.rejectListen(l,o),r.g_.delete(l),r.b_.removeTarget(l))}(t,e)}catch(i){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Dr(t,i)}else if(e instanceof Rr?t.b_.We(e):e instanceof $u?t.b_.Ze(e):t.b_.je(e),!n.isEqual(de.min()))try{const i=await fc(t.localStore);n.compareTo(i)>=0&&await function(s,o){const l=s.b_.st(o);return l.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=s.g_.get(u);c&&s.g_.set(u,c.withResumeToken(a.resumeToken,o))}}),l.targetMismatches.forEach((a,u)=>{const c=s.g_.get(a);if(!c)return;s.g_.set(a,c.withResumeToken(et.EMPTY_BYTE_STRING,c.snapshotVersion)),vc(s,a);const d=new Ft(c.target,a,u,c.sequenceNumber);Po(s,d)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){Y("RemoteStore","Failed to raise snapshot:",i),await Dr(t,i)}}async function Dr(t,e,n){if(!ai(e))throw e;t.p_.add(1),await Ei(t),t.S_.set("Offline"),n||(n=()=>fc(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y("RemoteStore","Retrying IndexedDB access"),await n(),t.p_.delete(1),await Vr(t)})}function Ec(t,e){return e().catch(n=>Dr(t,n,e))}async function Mr(t){const e=me(t),n=Bt(e);let i=e.f_.length>0?e.f_[e.f_.length-1].batchId:-1;for(;K0(e);)try{const r=await P0(e.localStore,i);if(r===null){e.f_.length===0&&n.Go();break}i=r.batchId,G0(e,r)}catch(r){await Dr(e,r)}Ic(e)&&Ac(e)}function K0(t){return tn(t)&&t.f_.length<10}function G0(t,e){t.f_.push(e);const n=Bt(t);n.$o()&&n.o_&&n.__(e.mutations)}function Ic(t){return tn(t)&&!Bt(t).Ko()&&t.f_.length>0}function Ac(t){Bt(t).start()}async function Q0(t){Bt(t).c_()}async function Y0(t){const e=Bt(t);for(const n of t.f_)e.__(n.mutations)}async function X0(t,e,n){const i=t.f_.shift(),r=mo.from(i,e,n);await Ec(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Mr(t)}async function J0(t,e){e&&Bt(t).o_&&await async function(i,r){if(function(o){return j1(o)&&o!==M.ABORTED}(r.code)){const s=i.f_.shift();Bt(i).Wo(),await Ec(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Mr(i)}}(t,e),Ic(t)&&Ac(t)}async function kc(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const i=tn(n);n.p_.add(3),await Ei(n),i&&n.S_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.p_.delete(3),await Vr(n)}async function Z0(t,e){const n=me(t);e?(n.p_.delete(2),await Vr(n)):e||(n.p_.add(2),await Ei(n),n.S_.set("Unknown"))}function An(t){return t.D_||(t.D_=function(n,i,r){const s=me(n);return s.h_(),new F0(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{_o:q0.bind(null,t),uo:H0.bind(null,t),n_:W0.bind(null,t)}),t.y_.push(async e=>{e?(t.D_.Wo(),Vo(t)?So(t):t.S_.set("Unknown")):(await t.D_.stop(),Tc(t))})),t.D_}function Bt(t){return t.v_||(t.v_=function(n,i,r){const s=me(n);return s.h_(),new B0(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{_o:Q0.bind(null,t),uo:J0.bind(null,t),u_:Y0.bind(null,t),a_:X0.bind(null,t)}),t.y_.push(async e=>{e?(t.v_.Wo(),await Mr(t)):(await t.v_.stop(),t.f_.length>0&&(Y("RemoteStore",`Stopping write stream with ${t.f_.length} pending writes`),t.f_=[]))})),t.v_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Jt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,l=new Do(e,n,o,r,s);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mo(t,e){if(kt("AsyncQueue",`${e}: ${t}`),ai(t))return new Z(M.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.comparator=e?(n,i)=>e(n,i)||$.comparator(n.key,i.key):(n,i)=>$.comparator(n.key,i.key),this.keyedMap=mi(),this.sortedSet=new Ne(this.comparator)}static emptySet(e){return new kn(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof kn)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new kn;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this.C_=new Ne($.comparator)}track(e){const n=e.doc.key,i=this.C_.get(n);i?e.type!==0&&i.type===3?this.C_=this.C_.insert(n,e):e.type===3&&i.type!==1?this.C_=this.C_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.C_=this.C_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.C_=this.C_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.C_=this.C_.remove(n):e.type===1&&i.type===2?this.C_=this.C_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.C_=this.C_.insert(n,{type:2,doc:e.doc}):ce():this.C_=this.C_.insert(n,e)}F_(){const e=[];return this.C_.inorderTraversal((n,i)=>{e.push(i)}),e}}class wn{constructor(e,n,i,r,s,o,l,a,u){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=a,this.hasCachedResults=u}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new wn(e,n,kn.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pr(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(){this.M_=void 0,this.listeners=[]}}class $0{constructor(){this.queries=new vn(e=>Mu(e),pr),this.onlineState="Unknown",this.x_=new Set}}async function eb(t,e){const n=me(t),i=e.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new x0),r)try{s.M_=await n.onListen(i)}catch(o){const l=Mo(o,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.listeners.push(e),e.O_(n.onlineState),s.M_&&e.N_(s.M_)&&No(n)}async function tb(t,e){const n=me(t),i=e.query;let r=!1;const s=n.queries.get(i);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),r=s.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function nb(t,e){const n=me(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const l of o.listeners)l.N_(r)&&(i=!0);o.M_=r}}i&&No(n)}function ib(t,e,n){const i=me(t),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(e)}function No(t){t.x_.forEach(e=>{e.next()})}class rb{constructor(e,n,i){this.query=e,this.B_=n,this.L_=!1,this.k_=null,this.onlineState="Unknown",this.options=i||{}}N_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new wn(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.L_?this.q_(e)&&(this.B_.next(e),n=!0):this.Q_(e,this.onlineState)&&(this.K_(e),n=!0),this.k_=e,n}onError(e){this.B_.error(e)}O_(e){this.onlineState=e;let n=!1;return this.k_&&!this.L_&&this.Q_(this.k_,e)&&(this.K_(this.k_),n=!0),n}Q_(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.U_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}q_(e){if(e.docChanges.length>0)return!0;const n=this.k_&&this.k_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}K_(e){e=wn.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.L_=!0,this.B_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e){this.key=e}}class Cc{constructor(e){this.key=e}}class sb{constructor(e,n){this.query=e,this.Z_=n,this.X_=null,this.hasCachedResults=!1,this.current=!1,this.ea=ye(),this.mutatedKeys=ye(),this.ta=Nu(e),this.na=new kn(this.ta)}get ra(){return this.Z_}ia(e,n){const i=n?n.sa:new wc,r=n?n.na:this.na;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,l=!1;const a=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((c,d)=>{const h=r.get(c),f=yr(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),p=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let b=!1;h&&f?h.data.isEqual(f.data)?g!==p&&(i.track({type:3,doc:f}),b=!0):this.oa(h,f)||(i.track({type:2,doc:f}),b=!0,(a&&this.ta(f,a)>0||u&&this.ta(f,u)<0)&&(l=!0)):!h&&f?(i.track({type:0,doc:f}),b=!0):h&&!f&&(i.track({type:1,doc:h}),b=!0,(a||u)&&(l=!0)),b&&(f?(o=o.add(f),s=p?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),i.track({type:1,doc:c})}return{na:o,sa:i,zi:l,mutatedKeys:s}}oa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const r=this.na;this.na=e.na,this.mutatedKeys=e.mutatedKeys;const s=e.sa.F_();s.sort((u,c)=>function(h,f){const g=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return g(h)-g(f)}(u.type,c.type)||this.ta(u.doc,c.doc)),this._a(i);const o=n?this.aa():[],l=this.ea.size===0&&this.current?1:0,a=l!==this.X_;return this.X_=l,s.length!==0||a?{snapshot:new wn(this.query,e.na,r,s,e.mutatedKeys,l===0,a,!1,!!i&&i.resumeToken.approximateByteSize()>0),ua:o}:{ua:o}}O_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({na:this.na,sa:new wc,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ua:[]}}ca(e){return!this.Z_.has(e)&&!!this.na.has(e)&&!this.na.get(e).hasLocalMutations}_a(e){e&&(e.addedDocuments.forEach(n=>this.Z_=this.Z_.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Z_=this.Z_.delete(n)),this.current=e.current)}aa(){if(!this.current)return[];const e=this.ea;this.ea=ye(),this.na.forEach(i=>{this.ca(i.key)&&(this.ea=this.ea.add(i.key))});const n=[];return e.forEach(i=>{this.ea.has(i)||n.push(new Cc(i))}),this.ea.forEach(i=>{e.has(i)||n.push(new Rc(i))}),n}la(e){this.Z_=e.ss,this.ea=ye();const n=this.ia(e.documents);return this.applyChanges(n,!0)}ha(){return wn.fromInitialDocuments(this.query,this.na,this.mutatedKeys,this.X_===0,this.hasCachedResults)}}class ob{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class lb{constructor(e){this.key=e,this.Pa=!1}}class ab{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ia={},this.Ta=new vn(l=>Mu(l),pr),this.Ea=new Map,this.da=new Set,this.Aa=new Ne($.comparator),this.Ra=new Map,this.Va=new Io,this.ma={},this.fa=new Map,this.ga=In.On(),this.onlineState="Unknown",this.pa=void 0}get isPrimaryClient(){return this.pa===!0}}async function ub(t,e){const n=yb(t);let i,r;const s=n.Ta.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.ha();else{const o=await S0(n.localStore,wt(e)),l=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=await cb(n,e,i,l==="current",o.resumeToken),n.isPrimaryClient&&pc(n.remoteStore,o)}return r}async function cb(t,e,n,i,r){t.ya=(d,h,f)=>async function(p,b,T,I){let E=b.view.ia(T);E.zi&&(E=await dc(p.localStore,b.query,!1).then(({documents:O})=>b.view.ia(O,E)));const C=I&&I.targetChanges.get(b.targetId),m=b.view.applyChanges(E,p.isPrimaryClient,C);return Nc(p,b.targetId,m.ua),m.snapshot}(t,d,h,f);const s=await dc(t.localStore,e,!0),o=new sb(e,s.ss),l=o.ia(s.documents),a=Ti.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),u=o.applyChanges(l,t.isPrimaryClient,a);Nc(t,n,u.ua);const c=new ob(e,n,o);return t.Ta.set(e,c),t.Ea.has(n)?t.Ea.get(n).push(e):t.Ea.set(n,[e]),u.snapshot}async function hb(t,e){const n=me(t),i=n.Ta.get(e),r=n.Ea.get(i.targetId);if(r.length>1)return n.Ea.set(i.targetId,r.filter(s=>!pr(s,e))),void n.Ta.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await wo(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),yc(n.remoteStore,i.targetId),Lo(n,i.targetId)}).catch(li)):(Lo(n,i.targetId),await wo(n.localStore,i.targetId,!0))}async function fb(t,e,n){const i=vb(t);try{const r=await function(o,l){const a=me(o),u=Ue.now(),c=l.reduce((f,g)=>f.add(g.key),ye());let d,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=Rt(),p=ye();return a.Xi.getEntries(f,c).next(b=>{g=b,g.forEach((T,I)=>{I.isValidDocument()||(p=p.add(T))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,g)).next(b=>{d=b;const T=[];for(const I of l){const E=O1(I,d.get(I.key).overlayedDocument);E!=null&&T.push(new Ot(I.key,E,Eu(E.value.mapValue),ht.exists(!0)))}return a.mutationQueue.addMutationBatch(f,u,T,l)}).next(b=>{h=b;const T=b.applyToLocalDocumentSet(d,p);return a.documentOverlayCache.saveOverlays(f,b.batchId,T)})}).then(()=>({batchId:h.batchId,changes:Ou(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,l,a){let u=o.ma[o.currentUser.toKey()];u||(u=new Ne(Ie)),u=u.insert(l,a),o.ma[o.currentUser.toKey()]=u}(i,r.batchId,n),await Ii(i,r.changes),await Mr(i.remoteStore)}catch(r){const s=Mo(r,"Failed to persist write");n.reject(s)}}async function Pc(t,e){const n=me(t);try{const i=await R0(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.Ra.get(s);o&&(De(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Pa=!0:r.modifiedDocuments.size>0?De(o.Pa):r.removedDocuments.size>0&&(De(o.Pa),o.Pa=!1))}),await Ii(n,i,e)}catch(i){await li(i)}}function Sc(t,e,n){const i=me(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Ta.forEach((s,o)=>{const l=o.view.O_(e);l.snapshot&&r.push(l.snapshot)}),function(o,l){const a=me(o);a.onlineState=l;let u=!1;a.queries.forEach((c,d)=>{for(const h of d.listeners)h.O_(l)&&(u=!0)}),u&&No(a)}(i.eventManager,e),r.length&&i.Ia.n_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function db(t,e,n){const i=me(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Ra.get(e),s=r&&r.key;if(s){let o=new Ne($.comparator);o=o.insert(s,tt.newNoDocument(s,de.min()));const l=ye().add(s),a=new wr(de.min(),new Map,new Ne(Ie),o,l);await Pc(i,a),i.Aa=i.Aa.remove(s),i.Ra.delete(e),Oo(i)}else await wo(i.localStore,e,!1).then(()=>Lo(i,e,n)).catch(li)}async function mb(t,e){const n=me(t),i=e.batch.batchId;try{const r=await w0(n.localStore,e);Dc(n,i,null),Vc(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ii(n,r)}catch(r){await li(r)}}async function gb(t,e,n){const i=me(t);try{const r=await function(o,l){const a=me(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,l).next(d=>(De(d!==null),c=d.keys(),a.mutationQueue.removeMutationBatch(u,d))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,l)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(i.localStore,e);Dc(i,e,n),Vc(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Ii(i,r)}catch(r){await li(r)}}function Vc(t,e){(t.fa.get(e)||[]).forEach(n=>{n.resolve()}),t.fa.delete(e)}function Dc(t,e,n){const i=me(t);let r=i.ma[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.ma[i.currentUser.toKey()]=r}}function Lo(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ea.get(e))t.Ta.delete(i),n&&t.Ia.wa(i,n);t.Ea.delete(e),t.isPrimaryClient&&t.Va.Ar(e).forEach(i=>{t.Va.containsKey(i)||Mc(t,i)})}function Mc(t,e){t.da.delete(e.path.canonicalString());const n=t.Aa.get(e);n!==null&&(yc(t.remoteStore,n),t.Aa=t.Aa.remove(e),t.Ra.delete(n),Oo(t))}function Nc(t,e,n){for(const i of n)i instanceof Rc?(t.Va.addReference(i.key,e),_b(t,i)):i instanceof Cc?(Y("SyncEngine","Document no longer in limbo: "+i.key),t.Va.removeReference(i.key,e),t.Va.containsKey(i.key)||Mc(t,i.key)):ce()}function _b(t,e){const n=e.key,i=n.path.canonicalString();t.Aa.get(n)||t.da.has(i)||(Y("SyncEngine","New document in limbo: "+n),t.da.add(i),Oo(t))}function Oo(t){for(;t.da.size>0&&t.Aa.size<t.maxConcurrentLimboResolutions;){const e=t.da.values().next().value;t.da.delete(e);const n=new $(Me.fromString(e)),i=t.ga.next();t.Ra.set(i,new lb(n)),t.Aa=t.Aa.insert(n,i),pc(t.remoteStore,new Ft(wt(uo(n.path)),i,"TargetPurposeLimboResolution",$s.ae))}}async function Ii(t,e,n){const i=me(t),r=[],s=[],o=[];i.Ta.isEmpty()||(i.Ta.forEach((l,a)=>{o.push(i.ya(a,e,n).then(u=>{if((u||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,(u==null?void 0:u.fromCache)?"not-current":"current"),u){r.push(u);const c=ko.qi(a.targetId,u);s.push(c)}}))}),await Promise.all(o),i.Ia.n_(r),await async function(a,u){const c=me(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>N.forEach(u,h=>N.forEach(h.Li,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>N.forEach(h.ki,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ai(d))throw d;Y("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.Ji.get(h),g=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(g);c.Ji=c.Ji.insert(h,p)}}}(i.localStore,s))}async function bb(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());const i=await hc(n.localStore,e);n.currentUser=e,function(s,o){s.fa.forEach(l=>{l.forEach(a=>{a.reject(new Z(M.CANCELLED,o))})}),s.fa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ii(n,i.ts)}}function pb(t,e){const n=me(t),i=n.Ra.get(e);if(i&&i.Pa)return ye().add(i.key);{let r=ye();const s=n.Ea.get(e);if(!s)return r;for(const o of s){const l=n.Ta.get(o);r=r.unionWith(l.view.ra)}return r}}function yb(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pc.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=db.bind(null,e),e.Ia.n_=nb.bind(null,e.eventManager),e.Ia.wa=ib.bind(null,e.eventManager),e}function vb(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gb.bind(null,e),e}class Lc{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Sr(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return k0(this.persistence,new I0,e.initialUser,this.serializer)}createPersistence(e){return new T0(Ao.zr,this.serializer)}createSharedClientState(e){return new D0}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Tb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Sc(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=bb.bind(null,this.syncEngine),await Z0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $0}()}createDatastore(e){const n=Sr(e.databaseInfo.databaseId),i=function(s){return new O0(s)}(e.databaseInfo);return function(s,o,l,a){return new U0(s,o,l,a)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,l){return new j0(i,r,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Sc(this.syncEngine,n,0),function(){return gc.v()?new gc:new M0}())}createSyncEngine(e,n){return function(r,s,o,l,a,u,c){const d=new ab(r,s,o,l,a,u);return c&&(d.pa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const i=me(n);Y("RemoteStore","RemoteStore shutting down."),i.p_.add(5),await Ei(i),i.w_.shutdown(),i.S_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Da(this.observer.next,e)}error(e){this.observer.error?this.Da(this.observer.error,e):kt("Uncaught Error in snapshot listener:",e.toString())}va(){this.muted=!0}Da(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Ze.UNAUTHENTICATED,this.clientId=mu.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{Y("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(Y("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Mo(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Fo(t,e){t.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await hc(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Oc(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kb(t);Y("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(r=>kc(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>kc(e.remoteStore,s)),t._onlineComponents=e}function Ab(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function kb(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{await Fo(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Ab(n))throw n;gn("Error using user provided cache. Falling back to memory cache: "+n),await Fo(t,new Lc)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),await Fo(t,new Lc);return t._offlineComponents}async function Fc(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),await Oc(t,t._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),await Oc(t,new Tb))),t._onlineComponents}function wb(t){return Fc(t).then(e=>e.syncEngine)}async function Bc(t){const e=await Fc(t),n=e.eventManager;return n.onListen=ub.bind(null,e.syncEngine),n.onUnlisten=hb.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t,e,n){if(!n)throw new Z(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Rb(t,e,n,i){if(e===!0&&i===!0)throw new Z(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qc(t){if(!$.isDocumentKey(t))throw new Z(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Hc(t){if($.isDocumentKey(t))throw new Z(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bo(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function nn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bo(t);throw new Z(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Uc((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Z(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Z(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Z(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nr{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wc({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Z(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wc(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new K_;switch(i.type){case"firstParty":return new X_(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Z(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=zc.get(n);i&&(Y("ComponentProvider","Removing Datastore"),zc.delete(n),i.terminate())}(this),Promise.resolve()}}function Cb(t,e,n,i={}){var r;const s=(t=nn(t,Nr))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&gn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let l,a;if(typeof i.mockUserToken=="string")l=i.mockUserToken,a=Ze.MOCK_USER;else{l=Im(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Z(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Ze(u)}t._authCredentials=new G_(new du(l,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Lr(this.firestore,e,this._query)}}class ut{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ut(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ut(this.firestore,e,this._key)}}class Ut extends Lr{constructor(e,n,i){super(e,n,uo(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new $(e))}withConverter(e){return new Ut(this.firestore,e,this._path)}}function Lv(t,e,...n){if(t=mt(t),jc("collection","path",e),t instanceof Nr){const i=Me.fromString(e,...n);return Hc(i),new Ut(t,null,i)}{if(!(t instanceof ut||t instanceof Ut))throw new Z(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Me.fromString(e,...n));return Hc(i),new Ut(t.firestore,null,i)}}function Ov(t,e,...n){if(t=mt(t),arguments.length===1&&(e=mu.V()),jc("doc","path",e),t instanceof Nr){const i=Me.fromString(e,...n);return qc(i),new ut(t,null,new $(i))}{if(!(t instanceof ut||t instanceof Ut))throw new Z(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Me.fromString(e,...n));return qc(i),new ut(t.firestore,t instanceof Ut?t.converter:null,new $(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this.Ua=Promise.resolve(),this.Wa=[],this.Ga=!1,this.za=[],this.ja=null,this.Ha=!1,this.Ja=!1,this.Ya=[],this.Qo=new _c(this,"async_queue_retry"),this.Za=()=>{const n=Co();n&&Y("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Qo.Oo()};const e=Co();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Za)}get isShuttingDown(){return this.Ga}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xa(),this.eu(e)}enterRestrictedMode(e){if(!this.Ga){this.Ga=!0,this.Ja=e||!1;const n=Co();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Za)}}enqueue(e){if(this.Xa(),this.Ga)return new Promise(()=>{});const n=new Jt;return this.eu(()=>this.Ga&&this.Ja?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Wa.push(e),this.tu()))}async tu(){if(this.Wa.length!==0){try{await this.Wa[0](),this.Wa.shift(),this.Qo.reset()}catch(e){if(!ai(e))throw e;Y("AsyncQueue","Operation failed with retryable error: "+e)}this.Wa.length>0&&this.Qo.Mo(()=>this.tu())}}eu(e){const n=this.Ua.then(()=>(this.Ha=!0,e().catch(i=>{this.ja=i,this.Ha=!1;const r=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(i);throw kt("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Ha=!1,i))));return this.Ua=n,n}enqueueAfterDelay(e,n,i){this.Xa(),this.Ya.indexOf(e)>-1&&(n=0);const r=Do.createAndSchedule(this,e,n,i,s=>this.nu(s));return this.za.push(r),r}Xa(){this.ja&&ce()}verifyOperationInProgress(){}async ru(){let e;do e=this.Ua,await e;while(e!==this.Ua)}iu(e){for(const n of this.za)if(n.timerId===e)return!0;return!1}su(e){return this.ru().then(()=>{this.za.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.za)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ru()})}ou(e){this.Ya.push(e)}nu(e){const n=this.za.indexOf(e);this.za.splice(n,1)}}function Kc(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ai extends Nr{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new Pb}(),this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gc(this),this._firestoreClient.terminate()}}function Fv(t,e){const n=typeof t=="object"?t:Cg(),i=typeof t=="string"?t:e||"(default)",r=Ig(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=Tm("firestore");s&&Cb(r,...s)}return r}function Uo(t){return t._firestoreClient||Gc(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Gc(t){var e,n,i;const r=t._freezeSettings(),s=function(l,a,u,c){return new l1(l,a,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Uc(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new Ib(t._authCredentials,t._appCheckCredentials,t._queue,s),((n=r.localCache)===null||n===void 0?void 0:n._offlineComponentProvider)&&((i=r.localCache)===null||i===void 0?void 0:i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rn(et.fromBase64String(e))}catch(n){throw new Z(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rn(et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=/^__.*__$/;class Vb{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ot(e,this.data,this.fieldMask,n,this.fieldTransforms):new yi(e,this.data,n,this.fieldTransforms)}}class Qc{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ot(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Yc(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class qo{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this._u(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get au(){return this.settings.au}uu(e){return new qo(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}cu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.uu({path:i,lu:!1});return r.hu(e),r}Pu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.uu({path:i,lu:!1});return r._u(),r}Iu(e){return this.uu({path:void 0,lu:!0})}Tu(e){return Br(e,this.settings.methodName,this.settings.Eu||!1,this.path,this.settings.du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_u(){if(this.path)for(let e=0;e<this.path.length;e++)this.hu(this.path.get(e))}hu(e){if(e.length===0)throw this.Tu("Document fields must not be empty");if(Yc(this.au)&&Sb.test(e))throw this.Tu('Document fields cannot begin and end with "__"')}}class Db{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Sr(e)}Au(e,n,i,r=!1){return new qo({au:e,methodName:n,du:i,path:xe.emptyPath(),lu:!1,Eu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xc(t){const e=t._freezeSettings(),n=Sr(t._databaseId);return new Db(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Mb(t,e,n,i,r,s={}){const o=t.Au(s.merge||s.mergeFields?2:0,e,n,r);Ho("Data must be an object, but it was:",o,i);const l=xc(i,o);let a,u;if(s.merge)a=new at(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=Wo(e,d,n);if(!o.contains(h))throw new Z(M.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);eh(c,h)||c.push(h)}a=new at(c),u=o.fieldTransforms.filter(d=>a.covers(d.field))}else a=null,u=o.fieldTransforms;return new Vb(new ot(l),a,u)}class Or extends zo{_toFieldTransform(e){if(e.au!==2)throw e.au===1?e.Tu(`${this._methodName}() can only appear at the top level of your update data`):e.Tu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Or}}function Jc(t,e,n,i){const r=t.Au(1,e,n);Ho("Data must be an object, but it was:",r,i);const s=[],o=ot.empty();Zt(i,(a,u)=>{const c=Ko(e,a,n);u=mt(u);const d=r.Pu(c);if(u instanceof Or)s.push(c);else{const h=Fr(u,d);h!=null&&(s.push(c),o.set(c,h))}});const l=new at(s);return new Qc(o,l,r.fieldTransforms)}function Zc(t,e,n,i,r,s){const o=t.Au(1,e,n),l=[Wo(e,i,n)],a=[r];if(s.length%2!=0)throw new Z(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)l.push(Wo(e,s[h])),a.push(s[h+1]);const u=[],c=ot.empty();for(let h=l.length-1;h>=0;--h)if(!eh(u,l[h])){const f=l[h];let g=a[h];g=mt(g);const p=o.Pu(f);if(g instanceof Or)u.push(f);else{const b=Fr(g,p);b!=null&&(u.push(f),c.set(f,b))}}const d=new at(u);return new Qc(c,d,o.fieldTransforms)}function Fr(t,e){if($c(t=mt(t)))return Ho("Unsupported field value:",e,t),xc(t,e);if(t instanceof zo)return function(i,r){if(!Yc(r.au))throw r.Tu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Tu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.lu&&e.au!==4)throw e.Tu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const l of i){let a=Fr(l,r.Iu(o));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=mt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return S1(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Ue.fromDate(i);return{timestampValue:Cr(r.serializer,s)}}if(i instanceof Ue){const s=new Ue(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Cr(r.serializer,s)}}if(i instanceof jo)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Rn)return{bytesValue:rc(r.serializer,i._byteString)};if(i instanceof ut){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Tu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:po(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Tu(`Unsupported field value: ${Bo(i)}`)}(t,e)}function xc(t,e){const n={};return _u(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zt(t,(i,r)=>{const s=Fr(r,e.cu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function $c(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ue||t instanceof jo||t instanceof Rn||t instanceof ut||t instanceof zo)}function Ho(t,e,n){if(!$c(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=Bo(n);throw i==="an object"?e.Tu(t+" a custom object"):e.Tu(t+" "+i)}}function Wo(t,e,n){if((e=mt(e))instanceof ki)return e._internalPath;if(typeof e=="string")return Ko(t,e);throw Br("Field path arguments must be of type string or ",t,!1,void 0,n)}const Nb=new RegExp("[~\\*/\\[\\]]");function Ko(t,e,n){if(e.search(Nb)>=0)throw Br(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ki(...e.split("."))._internalPath}catch(i){throw Br(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Br(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let a="";return(s||o)&&(a+=" (found",s&&(a+=` in field ${i}`),o&&(a+=` in document ${r}`),a+=")"),new Z(M.INVALID_ARGUMENT,l+t+a)}function eh(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Lb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Lb extends th{data(){return super.data()}}function nh(t,e){return typeof e=="string"?Ko(t,e):e instanceof ki?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fb{convertValue(e,n="none"){switch($t(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Zt(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new jo(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=to(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ui(e));default:return null}}convertTimestamp(e){const n=Lt(e);return new Ue(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Me.fromString(e);De(cc(i));const r=new ci(i.get(1),i.get(3)),s=new $(i.popFirst(5));return r.isEqual(n)||kt(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ih extends th{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ur(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(nh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Ur extends ih{data(e={}){return super.data(e)}}class Ub{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new wi(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Ur(this._firestore,this._userDataWriter,i.key,i,new wi(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(l=>{const a=new Ur(r._firestore,r._userDataWriter,l.doc.key,l.doc,new wi(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const a=new Ur(r._firestore,r._userDataWriter,l.doc.key,l.doc,new wi(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),c=o.indexOf(l.doc.key)),{type:zb(l.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zb(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}class rh extends Fb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}function Bv(t,e,n,...i){t=nn(t,ut);const r=nn(t.firestore,Ai),s=Xc(r);let o;return o=typeof(e=mt(e))=="string"||e instanceof ki?Zc(s,"updateDoc",t._key,e,n,i):Jc(s,"updateDoc",t._key,e),sh(r,[o.toMutation(t._key,ht.exists(!0))])}function Uv(t,...e){var n,i,r;t=mt(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Kc(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges};if(Kc(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(i=d.error)===null||i===void 0?void 0:i.bind(d),e[o+2]=(r=d.complete)===null||r===void 0?void 0:r.bind(d)}let a,u,c;if(t instanceof ut)u=nn(t.firestore,Ai),c=uo(t._key.path),a={next:d=>{e[o]&&e[o](jb(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=nn(t,Lr);u=nn(d.firestore,Ai),c=d._query;const h=new rh(u);a={next:f=>{e[o]&&e[o](new Ub(u,h,d,f))},error:e[o+1],complete:e[o+2]},Ob(t._query)}return function(h,f,g,p){const b=new Eb(p),T=new rb(f,b,g);return h.asyncQueue.enqueueAndForget(async()=>eb(await Bc(h),T)),()=>{b.va(),h.asyncQueue.enqueueAndForget(async()=>tb(await Bc(h),T))}}(Uo(u),c,l,a)}function sh(t,e){return function(i,r){const s=new Jt;return i.asyncQueue.enqueueAndForget(async()=>fb(await wb(i),r,s)),s.promise}(Uo(t),e)}function jb(t,e,n){const i=n.docs.get(e._key),r=new rh(t);return new ih(t,r,e._key,i,new wi(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Xc(e)}set(e,n,i){this._verifyNotCommitted();const r=Go(e,this._firestore),s=Bb(r.converter,n,i),o=Mb(this._dataReader,"WriteBatch.set",r._key,s,r.converter!==null,i);return this._mutations.push(o.toMutation(r._key,ht.none())),this}update(e,n,i,...r){this._verifyNotCommitted();const s=Go(e,this._firestore);let o;return o=typeof(n=mt(n))=="string"||n instanceof ki?Zc(this._dataReader,"WriteBatch.update",s._key,n,i,r):Jc(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,ht.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Go(e,this._firestore);return this._mutations=this._mutations.concat(new fo(n._key,ht.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Z(M.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Go(t,e){if((t=mt(t)).firestore!==e)throw new Z(M.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t){return Uo(t=nn(t,Ai)),new qb(t,e=>sh(t,e))}(function(e,n=!0){(function(r){mn=r})(wg),Fi(new On("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),l=new Ai(new Q_(i.getProvider("auth-internal")),new Z_(i.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Z(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ci(u.options.projectId,c)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),on(hu,"4.0.0",e),on(hu,"4.0.0","esm2017")})();var Hb="firebase",Wb="10.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on(Hb,Wb,"app");function Kb(t){let e,n,i,r,s=[t[0]],o={};for(let l=0;l<s.length;l+=1)o=k(o,s[l]);return{c(){e=F("div"),n=F("span"),_(n,"bx--checkbox-label-text",!0),_(n,"bx--skeleton",!0),H(e,o),_(e,"bx--form-item",!0),_(e,"bx--checkbox-wrapper",!0),_(e,"bx--checkbox-label",!0)},m(l,a){P(l,e,a),S(e,n),i||(r=[y(e,"click",t[1]),y(e,"mouseover",t[2]),y(e,"mouseenter",t[3]),y(e,"mouseleave",t[4])],i=!0)},p(l,[a]){H(e,o=x(s,[a&1&&l[0]])),_(e,"bx--form-item",!0),_(e,"bx--checkbox-wrapper",!0),_(e,"bx--checkbox-label",!0)},i:it,o:it,d(l){l&&R(e),i=!1,se(r)}}}function Gb(t,e,n){const i=[];let r=X(e,i);function s(u){v.call(this,t,u)}function o(u){v.call(this,t,u)}function l(u){v.call(this,t,u)}function a(u){v.call(this,t,u)}return t.$$set=u=>{e=k(k({},e),Q(u)),n(0,r=X(e,i))},[r,s,o,l,a]}class Qb extends ue{constructor(e){super();ae(this,e,Gb,Kb,oe,{})}}var Yb=Qb;const Xb=t=>({}),oh=t=>({});function Jb(t){let e,n,i,r,s,o,l,a;const u=t[13].labelText,c=ee(u,t,t[12],oh),d=c||xb(t);let h=[t[11]],f={};for(let g=0;g<h.length;g+=1)f=k(f,h[g]);return{c(){e=F("div"),n=F("input"),i=fe(),r=F("label"),s=F("span"),d&&d.c(),V(n,"type","checkbox"),n.checked=t[0],n.disabled=t[5],V(n,"id",t[10]),n.indeterminate=t[2],V(n,"name",t[8]),n.readOnly=t[4],_(n,"bx--checkbox",!0),_(s,"bx--checkbox-label-text",!0),_(s,"bx--visually-hidden",t[7]),V(r,"for",t[10]),V(r,"title",t[9]),_(r,"bx--checkbox-label",!0),H(e,f),_(e,"bx--form-item",!0),_(e,"bx--checkbox-wrapper",!0)},m(g,p){P(g,e,p),S(e,n),t[24](n),S(e,i),S(e,r),S(r,s),d&&d.m(s,null),o=!0,l||(a=[y(n,"change",t[18]),y(n,"change",t[25]),y(n,"blur",t[19]),y(e,"click",t[14]),y(e,"mouseover",t[15]),y(e,"mouseenter",t[16]),y(e,"mouseleave",t[17])],l=!0)},p(g,p){(!o||p&1)&&(n.checked=g[0]),(!o||p&32)&&(n.disabled=g[5]),(!o||p&1024)&&V(n,"id",g[10]),(!o||p&4)&&(n.indeterminate=g[2]),(!o||p&256)&&V(n,"name",g[8]),(!o||p&16)&&(n.readOnly=g[4]),c?c.p&&(!o||p&4096)&&ne(c,u,g,g[12],o?te(u,g[12],p,Xb):ie(g[12]),oh):d&&d.p&&(!o||p&64)&&d.p(g,o?p:-1),p&128&&_(s,"bx--visually-hidden",g[7]),(!o||p&1024)&&V(r,"for",g[10]),(!o||p&512)&&V(r,"title",g[9]),H(e,f=x(h,[p&2048&&g[11]])),_(e,"bx--form-item",!0),_(e,"bx--checkbox-wrapper",!0)},i(g){o||(A(d,g),o=!0)},o(g){w(d,g),o=!1},d(g){g&&R(e),t[24](null),d&&d.d(g),l=!1,se(a)}}}function Zb(t){let e,n;const i=[t[11]];let r={};for(let s=0;s<i.length;s+=1)r=k(r,i[s]);return e=new Yb({props:r}),e.$on("click",t[20]),e.$on("mouseover",t[21]),e.$on("mouseenter",t[22]),e.$on("mouseleave",t[23]),{c(){pe(e.$$.fragment)},m(s,o){_e(e,s,o),n=!0},p(s,o){const l=o&2048?x(i,[Nn(s[11])]):{};e.$set(l)},i(s){n||(A(e.$$.fragment,s),n=!0)},o(s){w(e.$$.fragment,s),n=!1},d(s){be(e,s)}}}function xb(t){let e;return{c(){e=le(t[6])},m(n,i){P(n,e,i)},p(n,i){i&64&&ge(e,n[6])},d(n){n&&R(e)}}}function $b(t){let e,n,i,r;const s=[Zb,Jb],o=[];function l(a,u){return a[3]?0:1}return e=l(t),n=o[e]=s[e](t),{c(){n.c(),i=we()},m(a,u){o[e].m(a,u),P(a,i,u),r=!0},p(a,[u]){let c=e;e=l(a),e===c?o[e].p(a,u):(Te(),w(o[c],1,1,()=>{o[c]=null}),Ee(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),A(n,1),n.m(i.parentNode,i))},i(a){r||(A(n),r=!0)},o(a){w(n),r=!1},d(a){o[e].d(a),a&&R(i)}}}function ep(t,e,n){const i=["checked","indeterminate","skeleton","readonly","disabled","labelText","hideLabel","name","title","id","ref"];let r=X(e,i),{$$slots:s={},$$scope:o}=e,{checked:l=!1}=e,{indeterminate:a=!1}=e,{skeleton:u=!1}=e,{readonly:c=!1}=e,{disabled:d=!1}=e,{labelText:h=""}=e,{hideLabel:f=!1}=e,{name:g=""}=e,{title:p=void 0}=e,{id:b="ccs-"+Math.random().toString(36)}=e,{ref:T=null}=e;const I=Pt();function E(q){v.call(this,t,q)}function C(q){v.call(this,t,q)}function m(q){v.call(this,t,q)}function O(q){v.call(this,t,q)}function D(q){v.call(this,t,q)}function J(q){v.call(this,t,q)}function G(q){v.call(this,t,q)}function Ce(q){v.call(this,t,q)}function j(q){v.call(this,t,q)}function Ae(q){v.call(this,t,q)}function Oe(q){rt[q?"unshift":"push"](()=>{T=q,n(1,T)})}const Se=()=>{n(0,l=!l)};return t.$$set=q=>{e=k(k({},e),Q(q)),n(11,r=X(e,i)),"checked"in q&&n(0,l=q.checked),"indeterminate"in q&&n(2,a=q.indeterminate),"skeleton"in q&&n(3,u=q.skeleton),"readonly"in q&&n(4,c=q.readonly),"disabled"in q&&n(5,d=q.disabled),"labelText"in q&&n(6,h=q.labelText),"hideLabel"in q&&n(7,f=q.hideLabel),"name"in q&&n(8,g=q.name),"title"in q&&n(9,p=q.title),"id"in q&&n(10,b=q.id),"ref"in q&&n(1,T=q.ref),"$$scope"in q&&n(12,o=q.$$scope)},t.$$.update=()=>{t.$$.dirty&1&&I("check",l)},[l,T,a,u,c,d,h,f,g,p,b,r,o,s,E,C,m,O,D,J,G,Ce,j,Ae,Oe,Se]}class tp extends ue{constructor(e){super();ae(this,e,ep,$b,oe,{checked:0,indeterminate:2,skeleton:3,readonly:4,disabled:5,labelText:6,hideLabel:7,name:8,title:9,id:10,ref:1})}}var jv=tp;function lh(t){let e,n;return{c(){e=re("title"),n=le(t[2])},m(i,r){P(i,e,r),S(e,n)},p(i,r){r&4&&ge(n,i[2])},d(i){i&&R(e)}}}function np(t){let e,n=t[2]&&lh(t);return{c(){n&&n.c(),e=we()},m(i,r){n&&n.m(i,r),P(i,e,r)},p(i,r){i[2]?n?n.p(i,r):(n=lh(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&R(e)}}}function ip(t){let e,n,i,r,s,o;const l=t[11].default,a=ee(l,t,t[10],null),u=a||np(t);let c=[{"data-carbon-icon":"WarningFilled16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 16 16"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],d={};for(let h=0;h<c.length;h+=1)d=k(d,c[h]);return{c(){e=re("svg"),n=re("path"),i=re("path"),u&&u.c(),V(n,"d","M8,1C4.2,1,1,4.2,1,8s3.2,7,7,7s7-3.1,7-7S11.9,1,8,1z M7.5,4h1v5h-1C7.5,9,7.5,4,7.5,4z M8,12.2	c-0.4,0-0.8-0.4-0.8-0.8s0.3-0.8,0.8-0.8c0.4,0,0.8,0.4,0.8,0.8S8.4,12.2,8,12.2z"),V(i,"d","M7.5,4h1v5h-1C7.5,9,7.5,4,7.5,4z M8,12.2c-0.4,0-0.8-0.4-0.8-0.8s0.3-0.8,0.8-0.8	c0.4,0,0.8,0.4,0.8,0.8S8.4,12.2,8,12.2z"),V(i,"data-icon-path","inner-path"),V(i,"opacity","0"),Pe(e,d)},m(h,f){P(h,e,f),S(e,n),S(e,i),u&&u.m(e,null),r=!0,s||(o=[y(e,"click",t[12]),y(e,"mouseover",t[13]),y(e,"mouseenter",t[14]),y(e,"mouseleave",t[15]),y(e,"keyup",t[16]),y(e,"keydown",t[17])],s=!0)},p(h,[f]){a?a.p&&(!r||f&1024)&&ne(a,l,h,h[10],r?te(l,h[10],f,null):ie(h[10]),null):u&&u.p&&(!r||f&4)&&u.p(h,r?f:-1),Pe(e,d=x(c,[{"data-carbon-icon":"WarningFilled16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 16 16"},{fill:"currentColor"},{width:"16"},{height:"16"},(!r||f&1)&&{class:h[0]},{preserveAspectRatio:"xMidYMid meet"},(!r||f&8)&&{style:h[3]},(!r||f&2)&&{id:h[1]},f&16&&h[4]]))},i(h){r||(A(u,h),r=!0)},o(h){w(u,h),r=!1},d(h){h&&R(e),u&&u.d(h),s=!1,se(o)}}}function rp(t,e,n){let i,r,s,o,{$$slots:l={},$$scope:a}=e,{class:u=void 0}=e,{id:c=void 0}=e,{tabindex:d=void 0}=e,{focusable:h=!1}=e,{title:f=void 0}=e,{style:g=void 0}=e;function p(m){v.call(this,t,m)}function b(m){v.call(this,t,m)}function T(m){v.call(this,t,m)}function I(m){v.call(this,t,m)}function E(m){v.call(this,t,m)}function C(m){v.call(this,t,m)}return t.$$set=m=>{n(18,e=k(k({},e),Q(m))),"class"in m&&n(0,u=m.class),"id"in m&&n(1,c=m.id),"tabindex"in m&&n(5,d=m.tabindex),"focusable"in m&&n(6,h=m.focusable),"title"in m&&n(2,f=m.title),"style"in m&&n(3,g=m.style),"$$scope"in m&&n(10,a=m.$$scope)},t.$$.update=()=>{n(9,i=e["aria-label"]),n(8,r=e["aria-labelledby"]),t.$$.dirty&772&&n(7,s=i||r||f),t.$$.dirty&992&&n(4,o={"aria-label":i,"aria-labelledby":r,"aria-hidden":s?void 0:!0,role:s?"img":void 0,focusable:d==="0"?!0:h,tabindex:d})},e=Q(e),[u,c,f,g,o,d,h,s,r,i,a,l,p,b,T,I,E,C]}class sp extends ue{constructor(e){super();ae(this,e,rp,ip,oe,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}}var op=sp;function ah(t){let e,n;return{c(){e=re("title"),n=le(t[2])},m(i,r){P(i,e,r),S(e,n)},p(i,r){r&4&&ge(n,i[2])},d(i){i&&R(e)}}}function lp(t){let e,n=t[2]&&ah(t);return{c(){n&&n.c(),e=we()},m(i,r){n&&n.m(i,r),P(i,e,r)},p(i,r){i[2]?n?n.p(i,r):(n=ah(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&R(e)}}}function ap(t){let e,n,i,r,s,o,l;const a=t[11].default,u=ee(a,t,t[10],null),c=u||lp(t);let d=[{"data-carbon-icon":"WarningAltFilled16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],h={};for(let f=0;f<d.length;f+=1)h=k(h,d[f]);return{c(){e=re("svg"),n=re("path"),i=re("path"),r=re("path"),c&&c.c(),V(n,"fill","none"),V(n,"d","M16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Zm-1.125-5h2.25V12h-2.25Z"),V(n,"data-icon-path","inner-path"),V(i,"d","M16.002,6.1714h-.004L4.6487,27.9966,4.6506,28H27.3494l.0019-.0034ZM14.875,12h2.25v9h-2.25ZM16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Z"),V(r,"d","M29,30H3a1,1,0,0,1-.8872-1.4614l13-25a1,1,0,0,1,1.7744,0l13,25A1,1,0,0,1,29,30ZM4.6507,28H27.3493l.002-.0033L16.002,6.1714h-.004L4.6487,27.9967Z"),Pe(e,h)},m(f,g){P(f,e,g),S(e,n),S(e,i),S(e,r),c&&c.m(e,null),s=!0,o||(l=[y(e,"click",t[12]),y(e,"mouseover",t[13]),y(e,"mouseenter",t[14]),y(e,"mouseleave",t[15]),y(e,"keyup",t[16]),y(e,"keydown",t[17])],o=!0)},p(f,[g]){u?u.p&&(!s||g&1024)&&ne(u,a,f,f[10],s?te(a,f[10],g,null):ie(f[10]),null):c&&c.p&&(!s||g&4)&&c.p(f,s?g:-1),Pe(e,h=x(d,[{"data-carbon-icon":"WarningAltFilled16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},(!s||g&1)&&{class:f[0]},{preserveAspectRatio:"xMidYMid meet"},(!s||g&8)&&{style:f[3]},(!s||g&2)&&{id:f[1]},g&16&&f[4]]))},i(f){s||(A(c,f),s=!0)},o(f){w(c,f),s=!1},d(f){f&&R(e),c&&c.d(f),o=!1,se(l)}}}function up(t,e,n){let i,r,s,o,{$$slots:l={},$$scope:a}=e,{class:u=void 0}=e,{id:c=void 0}=e,{tabindex:d=void 0}=e,{focusable:h=!1}=e,{title:f=void 0}=e,{style:g=void 0}=e;function p(m){v.call(this,t,m)}function b(m){v.call(this,t,m)}function T(m){v.call(this,t,m)}function I(m){v.call(this,t,m)}function E(m){v.call(this,t,m)}function C(m){v.call(this,t,m)}return t.$$set=m=>{n(18,e=k(k({},e),Q(m))),"class"in m&&n(0,u=m.class),"id"in m&&n(1,c=m.id),"tabindex"in m&&n(5,d=m.tabindex),"focusable"in m&&n(6,h=m.focusable),"title"in m&&n(2,f=m.title),"style"in m&&n(3,g=m.style),"$$scope"in m&&n(10,a=m.$$scope)},t.$$.update=()=>{n(9,i=e["aria-label"]),n(8,r=e["aria-labelledby"]),t.$$.dirty&772&&n(7,s=i||r||f),t.$$.dirty&992&&n(4,o={"aria-label":i,"aria-labelledby":r,"aria-hidden":s?void 0:!0,role:s?"img":void 0,focusable:d==="0"?!0:h,tabindex:d})},e=Q(e),[u,c,f,g,o,d,h,s,r,i,a,l,p,b,T,I,E,C]}class cp extends ue{constructor(e){super();ae(this,e,up,ap,oe,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}}var hp=cp;function uh(t){let e,n;return{c(){e=F("div"),n=le(t[6]),_(e,"bx--form-requirement",!0)},m(i,r){P(i,e,r),S(e,n)},p(i,r){r&64&&ge(n,i[6])},d(i){i&&R(e)}}}function ch(t){let e,n;return{c(){e=F("div"),n=le(t[8]),_(e,"bx--form-requirement",!0)},m(i,r){P(i,e,r),S(e,n)},p(i,r){r&256&&ge(n,i[8])},d(i){i&&R(e)}}}function fp(t){let e,n,i,r,s,o,l,a;const u=t[11].default,c=ee(u,t,t[10],null);let d=[{role:"listbox"},{tabindex:"-1"},{"data-invalid":n=t[5]||void 0},t[9]],h={};for(let p=0;p<d.length;p+=1)h=k(h,d[p]);let f=t[5]&&uh(t),g=!t[5]&&t[7]&&ch(t);return{c(){e=F("div"),c&&c.c(),i=fe(),f&&f.c(),r=fe(),g&&g.c(),s=we(),H(e,h),_(e,"bx--list-box",!0),_(e,"bx--list-box--sm",t[0]==="sm"),_(e,"bx--list-box--xl",t[0]==="xl"),_(e,"bx--list-box--inline",t[1]==="inline"),_(e,"bx--list-box--disabled",t[4]),_(e,"bx--list-box--expanded",t[2]),_(e,"bx--list-box--light",t[3]),_(e,"bx--list-box--warning",!t[5]&&t[7])},m(p,b){P(p,e,b),c&&c.m(e,null),P(p,i,b),f&&f.m(p,b),P(p,r,b),g&&g.m(p,b),P(p,s,b),o=!0,l||(a=[y(e,"keydown",t[12]),y(e,"keydown",dp),y(e,"click",qr(t[13]))],l=!0)},p(p,[b]){c&&c.p&&(!o||b&1024)&&ne(c,u,p,p[10],o?te(u,p[10],b,null):ie(p[10]),null),H(e,h=x(d,[{role:"listbox"},{tabindex:"-1"},(!o||b&32&&n!==(n=p[5]||void 0))&&{"data-invalid":n},b&512&&p[9]])),_(e,"bx--list-box",!0),_(e,"bx--list-box--sm",p[0]==="sm"),_(e,"bx--list-box--xl",p[0]==="xl"),_(e,"bx--list-box--inline",p[1]==="inline"),_(e,"bx--list-box--disabled",p[4]),_(e,"bx--list-box--expanded",p[2]),_(e,"bx--list-box--light",p[3]),_(e,"bx--list-box--warning",!p[5]&&p[7]),p[5]?f?f.p(p,b):(f=uh(p),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null),!p[5]&&p[7]?g?g.p(p,b):(g=ch(p),g.c(),g.m(s.parentNode,s)):g&&(g.d(1),g=null)},i(p){o||(A(c,p),o=!0)},o(p){w(c,p),o=!1},d(p){p&&R(e),c&&c.d(p),p&&R(i),f&&f.d(p),p&&R(r),g&&g.d(p),p&&R(s),l=!1,se(a)}}}const dp=t=>{t.key==="Escape"&&t.stopPropagation()};function mp(t,e,n){const i=["size","type","open","light","disabled","invalid","invalidText","warn","warnText"];let r=X(e,i),{$$slots:s={},$$scope:o}=e,{size:l=void 0}=e,{type:a="default"}=e,{open:u=!1}=e,{light:c=!1}=e,{disabled:d=!1}=e,{invalid:h=!1}=e,{invalidText:f=""}=e,{warn:g=!1}=e,{warnText:p=""}=e;function b(I){v.call(this,t,I)}function T(I){v.call(this,t,I)}return t.$$set=I=>{e=k(k({},e),Q(I)),n(9,r=X(e,i)),"size"in I&&n(0,l=I.size),"type"in I&&n(1,a=I.type),"open"in I&&n(2,u=I.open),"light"in I&&n(3,c=I.light),"disabled"in I&&n(4,d=I.disabled),"invalid"in I&&n(5,h=I.invalid),"invalidText"in I&&n(6,f=I.invalidText),"warn"in I&&n(7,g=I.warn),"warnText"in I&&n(8,p=I.warnText),"$$scope"in I&&n(10,o=I.$$scope)},[l,a,u,c,d,h,f,g,p,r,o,s,b,T]}class gp extends ue{constructor(e){super();ae(this,e,mp,fp,oe,{size:0,type:1,open:2,light:3,disabled:4,invalid:5,invalidText:6,warn:7,warnText:8})}}var _p=gp;function bp(t){let e,n,i,r,s;const o=t[4].default,l=ee(o,t,t[3],null);let a=[{role:"listbox"},{id:n="menu-"+t[1]},t[2]],u={};for(let c=0;c<a.length;c+=1)u=k(u,a[c]);return{c(){e=F("div"),l&&l.c(),H(e,u),_(e,"bx--list-box__menu",!0)},m(c,d){P(c,e,d),l&&l.m(e,null),t[6](e),i=!0,r||(s=y(e,"scroll",t[5]),r=!0)},p(c,[d]){l&&l.p&&(!i||d&8)&&ne(l,o,c,c[3],i?te(o,c[3],d,null):ie(c[3]),null),H(e,u=x(a,[{role:"listbox"},(!i||d&2&&n!==(n="menu-"+c[1]))&&{id:n},d&4&&c[2]])),_(e,"bx--list-box__menu",!0)},i(c){i||(A(l,c),i=!0)},o(c){w(l,c),i=!1},d(c){c&&R(e),l&&l.d(c),t[6](null),r=!1,s()}}}function pp(t,e,n){const i=["id","ref"];let r=X(e,i),{$$slots:s={},$$scope:o}=e,{id:l="ccs-"+Math.random().toString(36)}=e,{ref:a=null}=e;function u(d){v.call(this,t,d)}function c(d){rt[d?"unshift":"push"](()=>{a=d,n(0,a)})}return t.$$set=d=>{e=k(k({},e),Q(d)),n(2,r=X(e,i)),"id"in d&&n(1,l=d.id),"ref"in d&&n(0,a=d.ref),"$$scope"in d&&n(3,o=d.$$scope)},[a,l,r,o,s,u,c]}class yp extends ue{constructor(e){super();ae(this,e,pp,bp,oe,{id:1,ref:0})}}var vp=yp;function hh(t){let e,n;return{c(){e=re("title"),n=le(t[2])},m(i,r){P(i,e,r),S(e,n)},p(i,r){r&4&&ge(n,i[2])},d(i){i&&R(e)}}}function Tp(t){let e,n=t[2]&&hh(t);return{c(){n&&n.c(),e=we()},m(i,r){n&&n.m(i,r),P(i,e,r)},p(i,r){i[2]?n?n.p(i,r):(n=hh(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&R(e)}}}function Ep(t){let e,n,i,r,s;const o=t[11].default,l=ee(o,t,t[10],null),a=l||Tp(t);let u=[{"data-carbon-icon":"ChevronDown16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 16 16"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],c={};for(let d=0;d<u.length;d+=1)c=k(c,u[d]);return{c(){e=re("svg"),n=re("path"),a&&a.c(),V(n,"d","M8 11L3 6 3.7 5.3 8 9.6 12.3 5.3 13 6z"),Pe(e,c)},m(d,h){P(d,e,h),S(e,n),a&&a.m(e,null),i=!0,r||(s=[y(e,"click",t[12]),y(e,"mouseover",t[13]),y(e,"mouseenter",t[14]),y(e,"mouseleave",t[15]),y(e,"keyup",t[16]),y(e,"keydown",t[17])],r=!0)},p(d,[h]){l?l.p&&(!i||h&1024)&&ne(l,o,d,d[10],i?te(o,d[10],h,null):ie(d[10]),null):a&&a.p&&(!i||h&4)&&a.p(d,i?h:-1),Pe(e,c=x(u,[{"data-carbon-icon":"ChevronDown16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 16 16"},{fill:"currentColor"},{width:"16"},{height:"16"},(!i||h&1)&&{class:d[0]},{preserveAspectRatio:"xMidYMid meet"},(!i||h&8)&&{style:d[3]},(!i||h&2)&&{id:d[1]},h&16&&d[4]]))},i(d){i||(A(a,d),i=!0)},o(d){w(a,d),i=!1},d(d){d&&R(e),a&&a.d(d),r=!1,se(s)}}}function Ip(t,e,n){let i,r,s,o,{$$slots:l={},$$scope:a}=e,{class:u=void 0}=e,{id:c=void 0}=e,{tabindex:d=void 0}=e,{focusable:h=!1}=e,{title:f=void 0}=e,{style:g=void 0}=e;function p(m){v.call(this,t,m)}function b(m){v.call(this,t,m)}function T(m){v.call(this,t,m)}function I(m){v.call(this,t,m)}function E(m){v.call(this,t,m)}function C(m){v.call(this,t,m)}return t.$$set=m=>{n(18,e=k(k({},e),Q(m))),"class"in m&&n(0,u=m.class),"id"in m&&n(1,c=m.id),"tabindex"in m&&n(5,d=m.tabindex),"focusable"in m&&n(6,h=m.focusable),"title"in m&&n(2,f=m.title),"style"in m&&n(3,g=m.style),"$$scope"in m&&n(10,a=m.$$scope)},t.$$.update=()=>{n(9,i=e["aria-label"]),n(8,r=e["aria-labelledby"]),t.$$.dirty&772&&n(7,s=i||r||f),t.$$.dirty&992&&n(4,o={"aria-label":i,"aria-labelledby":r,"aria-hidden":s?void 0:!0,role:s?"img":void 0,focusable:d==="0"?!0:h,tabindex:d})},e=Q(e),[u,c,f,g,o,d,h,s,r,i,a,l,p,b,T,I,E,C]}class Ap extends ue{constructor(e){super();ae(this,e,Ip,Ep,oe,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}}var kp=Ap;function wp(t){let e,n,i,r,s;n=new kp({props:{"aria-label":t[1],title:t[1]}});let o=[t[2]],l={};for(let a=0;a<o.length;a+=1)l=k(l,o[a]);return{c(){e=F("div"),pe(n.$$.fragment),H(e,l),_(e,"bx--list-box__menu-icon",!0),_(e,"bx--list-box__menu-icon--open",t[0])},m(a,u){P(a,e,u),_e(n,e,null),i=!0,r||(s=y(e,"click",qr(t[5])),r=!0)},p(a,[u]){const c={};u&2&&(c["aria-label"]=a[1]),u&2&&(c.title=a[1]),n.$set(c),H(e,l=x(o,[u&4&&a[2]])),_(e,"bx--list-box__menu-icon",!0),_(e,"bx--list-box__menu-icon--open",a[0])},i(a){i||(A(n.$$.fragment,a),i=!0)},o(a){w(n.$$.fragment,a),i=!1},d(a){a&&R(e),be(n),r=!1,s()}}}function Rp(t,e,n){let i;const r=["open","translationIds","translateWithId"];let s=X(e,r),{open:o=!1}=e;const l={close:"close",open:"open"};let{translateWithId:a=d=>u[d]}=e;const u={[l.close]:"Close menu",[l.open]:"Open menu"};function c(d){v.call(this,t,d)}return t.$$set=d=>{e=k(k({},e),Q(d)),n(2,s=X(e,r)),"open"in d&&n(0,o=d.open),"translateWithId"in d&&n(4,a=d.translateWithId)},t.$$.update=()=>{t.$$.dirty&17&&n(1,i=a(o?"close":"open"))},[o,i,s,l,a,c]}class Cp extends ue{constructor(e){super();ae(this,e,Rp,wp,oe,{open:0,translationIds:3,translateWithId:4})}get translationIds(){return this.$$.ctx[3]}}var Pp=Cp;function Sp(t){let e,n,i,r,s;const o=t[4].default,l=ee(o,t,t[3],null);let a=[t[2]],u={};for(let c=0;c<a.length;c+=1)u=k(u,a[c]);return{c(){e=F("div"),n=F("div"),l&&l.c(),_(n,"bx--list-box__menu-item__option",!0),H(e,u),_(e,"bx--list-box__menu-item",!0),_(e,"bx--list-box__menu-item--active",t[0]),_(e,"bx--list-box__menu-item--highlighted",t[1])},m(c,d){P(c,e,d),S(e,n),l&&l.m(n,null),i=!0,r||(s=[y(e,"click",t[5]),y(e,"mouseenter",t[6]),y(e,"mouseleave",t[7])],r=!0)},p(c,[d]){l&&l.p&&(!i||d&8)&&ne(l,o,c,c[3],i?te(o,c[3],d,null):ie(c[3]),null),H(e,u=x(a,[d&4&&c[2]])),_(e,"bx--list-box__menu-item",!0),_(e,"bx--list-box__menu-item--active",c[0]),_(e,"bx--list-box__menu-item--highlighted",c[1])},i(c){i||(A(l,c),i=!0)},o(c){w(l,c),i=!1},d(c){c&&R(e),l&&l.d(c),r=!1,se(s)}}}function Vp(t,e,n){const i=["active","highlighted"];let r=X(e,i),{$$slots:s={},$$scope:o}=e,{active:l=!1}=e,{highlighted:a=!1}=e;function u(h){v.call(this,t,h)}function c(h){v.call(this,t,h)}function d(h){v.call(this,t,h)}return t.$$set=h=>{e=k(k({},e),Q(h)),n(2,r=X(e,i)),"active"in h&&n(0,l=h.active),"highlighted"in h&&n(1,a=h.highlighted),"$$scope"in h&&n(3,o=h.$$scope)},[l,a,r,o,s,u,c,d]}class Dp extends ue{constructor(e){super();ae(this,e,Vp,Sp,oe,{active:0,highlighted:1})}}var Mp=Dp;function fh(t){let e,n;return{c(){e=re("title"),n=le(t[2])},m(i,r){P(i,e,r),S(e,n)},p(i,r){r&4&&ge(n,i[2])},d(i){i&&R(e)}}}function Np(t){let e,n=t[2]&&fh(t);return{c(){n&&n.c(),e=we()},m(i,r){n&&n.m(i,r),P(i,e,r)},p(i,r){i[2]?n?n.p(i,r):(n=fh(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&R(e)}}}function Lp(t){let e,n,i,r,s;const o=t[11].default,l=ee(o,t,t[10],null),a=l||Np(t);let u=[{"data-carbon-icon":"Close16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],c={};for(let d=0;d<u.length;d+=1)c=k(c,u[d]);return{c(){e=re("svg"),n=re("path"),a&&a.c(),V(n,"d","M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4z"),Pe(e,c)},m(d,h){P(d,e,h),S(e,n),a&&a.m(e,null),i=!0,r||(s=[y(e,"click",t[12]),y(e,"mouseover",t[13]),y(e,"mouseenter",t[14]),y(e,"mouseleave",t[15]),y(e,"keyup",t[16]),y(e,"keydown",t[17])],r=!0)},p(d,[h]){l?l.p&&(!i||h&1024)&&ne(l,o,d,d[10],i?te(o,d[10],h,null):ie(d[10]),null):a&&a.p&&(!i||h&4)&&a.p(d,i?h:-1),Pe(e,c=x(u,[{"data-carbon-icon":"Close16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},(!i||h&1)&&{class:d[0]},{preserveAspectRatio:"xMidYMid meet"},(!i||h&8)&&{style:d[3]},(!i||h&2)&&{id:d[1]},h&16&&d[4]]))},i(d){i||(A(a,d),i=!0)},o(d){w(a,d),i=!1},d(d){d&&R(e),a&&a.d(d),r=!1,se(s)}}}function Op(t,e,n){let i,r,s,o,{$$slots:l={},$$scope:a}=e,{class:u=void 0}=e,{id:c=void 0}=e,{tabindex:d=void 0}=e,{focusable:h=!1}=e,{title:f=void 0}=e,{style:g=void 0}=e;function p(m){v.call(this,t,m)}function b(m){v.call(this,t,m)}function T(m){v.call(this,t,m)}function I(m){v.call(this,t,m)}function E(m){v.call(this,t,m)}function C(m){v.call(this,t,m)}return t.$$set=m=>{n(18,e=k(k({},e),Q(m))),"class"in m&&n(0,u=m.class),"id"in m&&n(1,c=m.id),"tabindex"in m&&n(5,d=m.tabindex),"focusable"in m&&n(6,h=m.focusable),"title"in m&&n(2,f=m.title),"style"in m&&n(3,g=m.style),"$$scope"in m&&n(10,a=m.$$scope)},t.$$.update=()=>{n(9,i=e["aria-label"]),n(8,r=e["aria-labelledby"]),t.$$.dirty&772&&n(7,s=i||r||f),t.$$.dirty&992&&n(4,o={"aria-label":i,"aria-labelledby":r,"aria-hidden":s?void 0:!0,role:s?"img":void 0,focusable:d==="0"?!0:h,tabindex:d})},e=Q(e),[u,c,f,g,o,d,h,s,r,i,a,l,p,b,T,I,E,C]}class Fp extends ue{constructor(e){super();ae(this,e,Op,Lp,oe,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}}var Bp=Fp;function dh(t,e,n){const i=t.slice();return i[35]=e[n],i[37]=n,i}function mh(t){let e,n;return{c(){e=F("label"),n=le(t[11]),V(e,"for",t[20]),_(e,"bx--label",!0),_(e,"bx--label--disabled",t[10]),_(e,"bx--visually-hidden",t[18])},m(i,r){P(i,e,r),S(e,n)},p(i,r){r[0]&2048&&ge(n,i[11]),r[0]&1048576&&V(e,"for",i[20]),r[0]&1024&&_(e,"bx--label--disabled",i[10]),r[0]&262144&&_(e,"bx--visually-hidden",i[18])},d(i){i&&R(e)}}}function gh(t){let e,n;return e=new op({props:{class:"bx--list-box__invalid-icon"}}),{c(){pe(e.$$.fragment)},m(i,r){_e(e,i,r),n=!0},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){w(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function _h(t){let e,n;return e=new hp({props:{class:"bx--list-box__invalid-icon bx--list-box__invalid-icon--warning"}}),{c(){pe(e.$$.fragment)},m(i,r){_e(e,i,r),n=!0},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){w(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function Up(t){let e;return{c(){e=le(t[17])},m(n,i){P(n,e,i)},p(n,i){i[0]&131072&&ge(e,n[17])},d(n){n&&R(e)}}}function zp(t){let e=t[5](t[23])+"",n;return{c(){n=le(e)},m(i,r){P(i,n,r)},p(i,r){r[0]&8388640&&e!==(e=i[5](i[23])+"")&&ge(n,e)},d(i){i&&R(n)}}}function bh(t){let e,n;return e=new vp({props:{"aria-labelledby":t[20],id:t[20],$$slots:{default:[qp]},$$scope:{ctx:t}}}),{c(){pe(e.$$.fragment)},m(i,r){_e(e,i,r),n=!0},p(i,r){const s={};r[0]&1048576&&(s["aria-labelledby"]=i[20]),r[0]&1048576&&(s.id=i[20]),r[0]&20971577|r[1]&128&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){w(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function jp(t){let e=t[5](t[35])+"",n,i;return{c(){n=le(e),i=fe()},m(r,s){P(r,n,s),P(r,i,s)},p(r,s){s[0]&48&&e!==(e=r[5](r[35])+"")&&ge(n,e)},d(r){r&&R(n),r&&R(i)}}}function ph(t,e){let n,i,r;function s(){return e[31](e[35],e[37])}function o(){return e[32](e[37])}return i=new Mp({props:{id:e[35].id,active:e[0]===e[37]||e[22]===e[35].id,highlighted:e[24]===e[37]||e[0]===e[37],$$slots:{default:[jp]},$$scope:{ctx:e}}}),i.$on("click",s),i.$on("mouseenter",o),{key:t,first:null,c(){n=we(),pe(i.$$.fragment),this.first=n},m(l,a){P(l,n,a),_e(i,l,a),r=!0},p(l,a){e=l;const u={};a[0]&16&&(u.id=e[35].id),a[0]&4194321&&(u.active=e[0]===e[37]||e[22]===e[35].id),a[0]&16777233&&(u.highlighted=e[24]===e[37]||e[0]===e[37]),a[0]&48|a[1]&128&&(u.$$scope={dirty:a,ctx:e}),i.$set(u)},i(l){r||(A(i.$$.fragment,l),r=!0)},o(l){w(i.$$.fragment,l),r=!1},d(l){l&&R(n),be(i,l)}}}function qp(t){let e=[],n=new Map,i,r,s=t[4];const o=l=>l[35].id;for(let l=0;l<s.length;l+=1){let a=dh(t,s,l),u=o(a);n.set(u,e[l]=ph(u,a))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();i=we()},m(l,a){for(let u=0;u<e.length;u+=1)e[u].m(l,a);P(l,i,a),r=!0},p(l,a){a[0]&20971577&&(s=l[4],Te(),e=vf(e,a,o,1,l,s,n,i.parentNode,yf,ph,i,dh),Ee())},i(l){if(!r){for(let a=0;a<s.length;a+=1)A(e[a]);r=!0}},o(l){for(let a=0;a<e.length;a+=1)w(e[a]);r=!1},d(l){for(let a=0;a<e.length;a+=1)e[a].d(l);l&&R(i)}}}function Hp(t){let e,n,i,r,s,o,l,a,u,c,d,h=t[12]&&gh(),f=!t[12]&&t[14]&&_h();function g(I,E){return I[23]?zp:Up}let p=g(t),b=p(t);o=new Pp({props:{open:t[1],translateWithId:t[19]}});let T=t[1]&&bh(t);return{c(){h&&h.c(),e=fe(),f&&f.c(),n=fe(),i=F("button"),r=F("span"),b.c(),s=fe(),pe(o.$$.fragment),l=fe(),T&&T.c(),a=we(),V(r,"class","bx--list-box__label"),V(i,"tabindex","0"),V(i,"role","button"),V(i,"aria-expanded",t[1]),i.disabled=t[10],V(i,"translatewithid",t[19]),V(i,"id",t[20]),_(i,"bx--list-box__field",!0)},m(I,E){h&&h.m(I,E),P(I,e,E),f&&f.m(I,E),P(I,n,E),P(I,i,E),S(i,r),b.m(r,null),S(i,s),_e(o,i,null),t[29](i),P(I,l,E),T&&T.m(I,E),P(I,a,E),u=!0,c||(d=y(i,"keydown",t[30]),c=!0)},p(I,E){I[12]?h?E[0]&4096&&A(h,1):(h=gh(),h.c(),A(h,1),h.m(e.parentNode,e)):h&&(Te(),w(h,1,1,()=>{h=null}),Ee()),!I[12]&&I[14]?f?E[0]&20480&&A(f,1):(f=_h(),f.c(),A(f,1),f.m(n.parentNode,n)):f&&(Te(),w(f,1,1,()=>{f=null}),Ee()),p===(p=g(I))&&b?b.p(I,E):(b.d(1),b=p(I),b&&(b.c(),b.m(r,null)));const C={};E[0]&2&&(C.open=I[1]),E[0]&524288&&(C.translateWithId=I[19]),o.$set(C),(!u||E[0]&2)&&V(i,"aria-expanded",I[1]),(!u||E[0]&1024)&&(i.disabled=I[10]),(!u||E[0]&524288)&&V(i,"translatewithid",I[19]),(!u||E[0]&1048576)&&V(i,"id",I[20]),I[1]?T?(T.p(I,E),E[0]&2&&A(T,1)):(T=bh(I),T.c(),A(T,1),T.m(a.parentNode,a)):T&&(Te(),w(T,1,1,()=>{T=null}),Ee())},i(I){u||(A(h),A(f),A(o.$$.fragment,I),A(T),u=!0)},o(I){w(h),w(f),w(o.$$.fragment,I),w(T),u=!1},d(I){h&&h.d(I),I&&R(e),f&&f.d(I),I&&R(n),I&&R(i),b.d(),be(o),t[29](null),I&&R(l),T&&T.d(I),I&&R(a),c=!1,d()}}}function yh(t){let e,n;return{c(){e=F("div"),n=le(t[16]),_(e,"bx--form__helper-text",!0),_(e,"bx--form__helper-text--disabled",t[10])},m(i,r){P(i,e,r),S(e,n)},p(i,r){r[0]&65536&&ge(n,i[16]),r[0]&1024&&_(e,"bx--form__helper-text--disabled",i[10])},d(i){i&&R(e)}}}function Wp(t){let e,n,i,r,s,o,l,a=t[11]&&mh(t);i=new _p({props:{type:t[6],size:t[8],id:t[20],name:t[21],"aria-label":t[27]["aria-label"],class:"bx--dropdown "+(t[7]==="top"&&"bx--list-box--up")+" "+(t[12]&&"bx--dropdown--invalid")+" "+(!t[12]&&t[14]&&"bx--dropdown--warning")+" "+(t[1]&&"bx--dropdown--open")+`
      `+(t[8]==="sm"&&"bx--dropdown--sm")+`
      `+(t[8]==="xl"&&"bx--dropdown--xl")+`
      `+(t[2]&&"bx--dropdown--inline")+`
      `+(t[10]&&"bx--dropdown--disabled")+`
      `+(t[9]&&"bx--dropdown--light"),disabled:t[10],open:t[1],invalid:t[12],invalidText:t[13],light:t[9],warn:t[14],warnText:t[15],$$slots:{default:[Hp]},$$scope:{ctx:t}}}),i.$on("click",t[33]);let u=!t[2]&&!t[12]&&!t[14]&&t[16]&&yh(t),c=[t[26]],d={};for(let h=0;h<c.length;h+=1)d=k(d,c[h]);return{c(){e=F("div"),a&&a.c(),n=fe(),pe(i.$$.fragment),r=fe(),u&&u.c(),H(e,d),_(e,"bx--dropdown__wrapper",!0),_(e,"bx--list-box__wrapper",!0),_(e,"bx--dropdown__wrapper--inline",t[2]),_(e,"bx--list-box__wrapper--inline",t[2]),_(e,"bx--dropdown__wrapper--inline--invalid",t[2]&&t[12])},m(h,f){P(h,e,f),a&&a.m(e,null),S(e,n),_e(i,e,null),S(e,r),u&&u.m(e,null),s=!0,o||(l=y(window,"click",t[28]),o=!0)},p(h,f){h[11]?a?a.p(h,f):(a=mh(h),a.c(),a.m(e,n)):a&&(a.d(1),a=null);const g={};f[0]&64&&(g.type=h[6]),f[0]&256&&(g.size=h[8]),f[0]&1048576&&(g.id=h[20]),f[0]&2097152&&(g.name=h[21]),f[0]&134217728&&(g["aria-label"]=h[27]["aria-label"]),f[0]&22406&&(g.class="bx--dropdown "+(h[7]==="top"&&"bx--list-box--up")+" "+(h[12]&&"bx--dropdown--invalid")+" "+(!h[12]&&h[14]&&"bx--dropdown--warning")+" "+(h[1]&&"bx--dropdown--open")+`
      `+(h[8]==="sm"&&"bx--dropdown--sm")+`
      `+(h[8]==="xl"&&"bx--dropdown--xl")+`
      `+(h[2]&&"bx--dropdown--inline")+`
      `+(h[10]&&"bx--dropdown--disabled")+`
      `+(h[9]&&"bx--dropdown--light")),f[0]&1024&&(g.disabled=h[10]),f[0]&2&&(g.open=h[1]),f[0]&4096&&(g.invalid=h[12]),f[0]&8192&&(g.invalidText=h[13]),f[0]&512&&(g.light=h[9]),f[0]&16384&&(g.warn=h[14]),f[0]&32768&&(g.warnText=h[15]),f[0]&31085627|f[1]&128&&(g.$$scope={dirty:f,ctx:h}),i.$set(g),!h[2]&&!h[12]&&!h[14]&&h[16]?u?u.p(h,f):(u=yh(h),u.c(),u.m(e,null)):u&&(u.d(1),u=null),H(e,d=x(c,[f[0]&67108864&&h[26]])),_(e,"bx--dropdown__wrapper",!0),_(e,"bx--list-box__wrapper",!0),_(e,"bx--dropdown__wrapper--inline",h[2]),_(e,"bx--list-box__wrapper--inline",h[2]),_(e,"bx--dropdown__wrapper--inline--invalid",h[2]&&h[12])},i(h){s||(A(i.$$.fragment,h),s=!0)},o(h){w(i.$$.fragment,h),s=!1},d(h){h&&R(e),a&&a.d(),be(i),u&&u.d(),o=!1,l()}}}function Kp(t,e,n){let i;const r=["items","itemToString","selectedIndex","type","direction","size","open","inline","light","disabled","titleText","invalid","invalidText","warn","warnText","helperText","label","hideLabel","translateWithId","id","name","ref"];let s=X(e,r),{items:o=[]}=e,{itemToString:l=W=>W.text||W.id}=e,{selectedIndex:a=-1}=e,{type:u="default"}=e,{direction:c="bottom"}=e,{size:d=void 0}=e,{open:h=!1}=e,{inline:f=!1}=e,{light:g=!1}=e,{disabled:p=!1}=e,{titleText:b=""}=e,{invalid:T=!1}=e,{invalidText:I=""}=e,{warn:E=!1}=e,{warnText:C=""}=e,{helperText:m=""}=e,{label:O=void 0}=e,{hideLabel:D=!1}=e,{translateWithId:J=void 0}=e,{id:G="ccs-"+Math.random().toString(36)}=e,{name:Ce=void 0}=e,{ref:j=null}=e;const Ae=Pt();let Oe,Se=-1;function q(W){let Ke=Se+W;Ke<0?Ke=o.length-1:Ke>=o.length&&(Ke=0),n(24,Se=Ke)}const We=({target:W})=>{h&&j&&!j.contains(W)&&n(1,h=!1)};function z(W){rt[W?"unshift":"push"](()=>{j=W,n(3,j)})}const L=W=>{const{key:Ke}=W;["Enter","ArrowDown","ArrowUp"].includes(Ke)&&W.preventDefault(),Ke==="Enter"?(n(1,h=!h),Se>-1&&Se!==a&&(n(0,a=Se),n(1,h=!1))):Ke==="Tab"?(n(1,h=!1),j.blur()):Ke==="ArrowDown"?q(1):Ke==="ArrowUp"&&q(-1)},Ct=(W,Ke)=>{n(22,Oe=W.id),n(0,a=Ke),j.focus()},Cn=W=>{n(24,Se=W)},ft=({target:W})=>{n(1,h=j.contains(W)?!h:!1)};return t.$$set=W=>{n(27,e=k(k({},e),Q(W))),n(26,s=X(e,r)),"items"in W&&n(4,o=W.items),"itemToString"in W&&n(5,l=W.itemToString),"selectedIndex"in W&&n(0,a=W.selectedIndex),"type"in W&&n(6,u=W.type),"direction"in W&&n(7,c=W.direction),"size"in W&&n(8,d=W.size),"open"in W&&n(1,h=W.open),"inline"in W&&n(2,f=W.inline),"light"in W&&n(9,g=W.light),"disabled"in W&&n(10,p=W.disabled),"titleText"in W&&n(11,b=W.titleText),"invalid"in W&&n(12,T=W.invalid),"invalidText"in W&&n(13,I=W.invalidText),"warn"in W&&n(14,E=W.warn),"warnText"in W&&n(15,C=W.warnText),"helperText"in W&&n(16,m=W.helperText),"label"in W&&n(17,O=W.label),"hideLabel"in W&&n(18,D=W.hideLabel),"translateWithId"in W&&n(19,J=W.translateWithId),"id"in W&&n(20,G=W.id),"name"in W&&n(21,Ce=W.name),"ref"in W&&n(3,j=W.ref)},t.$$.update=()=>{t.$$.dirty[0]&17&&n(22,Oe=o[a]?o[a].id:void 0),t.$$.dirty[0]&17&&n(23,i=o[a]),t.$$.dirty[0]&12582913&&a>-1&&Ae("select",{selectedId:Oe,selectedIndex:a,selectedItem:i}),t.$$.dirty[0]&64&&n(2,f=u==="inline"),t.$$.dirty[0]&2&&(h||n(24,Se=-1))},e=Q(e),[a,h,f,j,o,l,u,c,d,g,p,b,T,I,E,C,m,O,D,J,G,Ce,Oe,i,Se,q,s,e,We,z,L,Ct,Cn,ft]}class Gp extends ue{constructor(e){super();ae(this,e,Kp,Wp,oe,{items:4,itemToString:5,selectedIndex:0,type:6,direction:7,size:8,open:1,inline:2,light:9,disabled:10,titleText:11,invalid:12,invalidText:13,warn:14,warnText:15,helperText:16,label:17,hideLabel:18,translateWithId:19,id:20,name:21,ref:3},null,[-1,-1])}}var qv=Gp;function Qp(t){let e,n,i,r;const s=t[2].default,o=ee(s,t,t[1],null);let l=[t[0]],a={};for(let u=0;u<l.length;u+=1)a=k(a,l[u]);return{c(){e=F("form"),o&&o.c(),H(e,a),_(e,"bx--form",!0)},m(u,c){P(u,e,c),o&&o.m(e,null),n=!0,i||(r=[y(e,"click",t[3]),y(e,"keydown",t[4]),y(e,"mouseover",t[5]),y(e,"mouseenter",t[6]),y(e,"mouseleave",t[7]),y(e,"submit",qr(t[8]))],i=!0)},p(u,[c]){o&&o.p&&(!n||c&2)&&ne(o,s,u,u[1],n?te(s,u[1],c,null):ie(u[1]),null),H(e,a=x(l,[c&1&&u[0]])),_(e,"bx--form",!0)},i(u){n||(A(o,u),n=!0)},o(u){w(o,u),n=!1},d(u){u&&R(e),o&&o.d(u),i=!1,se(r)}}}function Yp(t,e,n){const i=[];let r=X(e,i),{$$slots:s={},$$scope:o}=e;function l(f){v.call(this,t,f)}function a(f){v.call(this,t,f)}function u(f){v.call(this,t,f)}function c(f){v.call(this,t,f)}function d(f){v.call(this,t,f)}function h(f){v.call(this,t,f)}return t.$$set=f=>{e=k(k({},e),Q(f)),n(0,r=X(e,i)),"$$scope"in f&&n(1,o=f.$$scope)},[r,o,s,l,a,u,c,d,h]}class Xp extends ue{constructor(e){super();ae(this,e,Yp,Qp,oe,{})}}var Hv=Xp;function vh(t){let e,n,i;return{c(){e=F("legend"),n=le(t[4]),V(e,"id",i=t[5]||t[6]["aria-labelledby"]),_(e,"bx--label",!0)},m(r,s){P(r,e,s),S(e,n)},p(r,s){s&16&&ge(n,r[4]),s&96&&i!==(i=r[5]||r[6]["aria-labelledby"])&&V(e,"id",i)},d(r){r&&R(e)}}}function Th(t){let e,n;return{c(){e=F("div"),n=le(t[3]),_(e,"bx--form__requirement",!0)},m(i,r){P(i,e,r),S(e,n)},p(i,r){r&8&&ge(n,i[3])},d(i){i&&R(e)}}}function Jp(t){let e,n,i,r,s,o,l,a,u=t[4]&&vh(t);const c=t[8].default,d=ee(c,t,t[7],null);let h=t[2]&&Th(t),f=[{"data-invalid":r=t[1]||void 0},{"aria-labelledby":s=t[6]["aria-labelledby"]||t[5]},t[6]],g={};for(let p=0;p<f.length;p+=1)g=k(g,f[p]);return{c(){e=F("fieldset"),u&&u.c(),n=fe(),d&&d.c(),i=fe(),h&&h.c(),H(e,g),_(e,"bx--fieldset",!0),_(e,"bx--fieldset--no-margin",t[0])},m(p,b){P(p,e,b),u&&u.m(e,null),S(e,n),d&&d.m(e,null),S(e,i),h&&h.m(e,null),o=!0,l||(a=[y(e,"click",t[9]),y(e,"mouseover",t[10]),y(e,"mouseenter",t[11]),y(e,"mouseleave",t[12])],l=!0)},p(p,[b]){p[4]?u?u.p(p,b):(u=vh(p),u.c(),u.m(e,n)):u&&(u.d(1),u=null),d&&d.p&&(!o||b&128)&&ne(d,c,p,p[7],o?te(c,p[7],b,null):ie(p[7]),null),p[2]?h?h.p(p,b):(h=Th(p),h.c(),h.m(e,null)):h&&(h.d(1),h=null),H(e,g=x(f,[(!o||b&2&&r!==(r=p[1]||void 0))&&{"data-invalid":r},(!o||b&96&&s!==(s=p[6]["aria-labelledby"]||p[5]))&&{"aria-labelledby":s},b&64&&p[6]])),_(e,"bx--fieldset",!0),_(e,"bx--fieldset--no-margin",p[0])},i(p){o||(A(d,p),o=!0)},o(p){w(d,p),o=!1},d(p){p&&R(e),u&&u.d(),d&&d.d(p),h&&h.d(),l=!1,se(a)}}}function Zp(t,e,n){const i=["noMargin","invalid","message","messageText","legendText","legendId"];let r=X(e,i),{$$slots:s={},$$scope:o}=e,{noMargin:l=!1}=e,{invalid:a=!1}=e,{message:u=!1}=e,{messageText:c=""}=e,{legendText:d=""}=e,{legendId:h=""}=e;function f(T){v.call(this,t,T)}function g(T){v.call(this,t,T)}function p(T){v.call(this,t,T)}function b(T){v.call(this,t,T)}return t.$$set=T=>{e=k(k({},e),Q(T)),n(6,r=X(e,i)),"noMargin"in T&&n(0,l=T.noMargin),"invalid"in T&&n(1,a=T.invalid),"message"in T&&n(2,u=T.message),"messageText"in T&&n(3,c=T.messageText),"legendText"in T&&n(4,d=T.legendText),"legendId"in T&&n(5,h=T.legendId),"$$scope"in T&&n(7,o=T.$$scope)},[l,a,u,c,d,h,r,o,s,f,g,p,b]}class xp extends ue{constructor(e){super();ae(this,e,Zp,Jp,oe,{noMargin:0,invalid:1,message:2,messageText:3,legendText:4,legendId:5})}}var Wv=xp;function $p(t){let e,n,i,r=[t[3]],s={};for(let o=0;o<r.length;o+=1)s=k(s,r[o]);return{c(){e=F("div"),H(e,s),_(e,"bx--skeleton",!0),_(e,"bx--btn",!0),_(e,"bx--btn--field",t[1]==="field"),_(e,"bx--btn--sm",t[1]==="small"||t[2]),_(e,"bx--btn--lg",t[1]==="lg"),_(e,"bx--btn--xl",t[1]==="xl")},m(o,l){P(o,e,l),n||(i=[y(e,"click",t[8]),y(e,"mouseover",t[9]),y(e,"mouseenter",t[10]),y(e,"mouseleave",t[11])],n=!0)},p(o,l){H(e,s=x(r,[l&8&&o[3]])),_(e,"bx--skeleton",!0),_(e,"bx--btn",!0),_(e,"bx--btn--field",o[1]==="field"),_(e,"bx--btn--sm",o[1]==="small"||o[2]),_(e,"bx--btn--lg",o[1]==="lg"),_(e,"bx--btn--xl",o[1]==="xl")},d(o){o&&R(e),n=!1,se(i)}}}function ey(t){let e,n="",i,r,s,o,l=[{href:t[0]},{rel:r=t[3].target==="_blank"?"noopener noreferrer":void 0},{role:"button"},t[3]],a={};for(let u=0;u<l.length;u+=1)a=k(a,l[u]);return{c(){e=F("a"),i=le(n),H(e,a),_(e,"bx--skeleton",!0),_(e,"bx--btn",!0),_(e,"bx--btn--field",t[1]==="field"),_(e,"bx--btn--sm",t[1]==="small"||t[2]),_(e,"bx--btn--lg",t[1]==="lg"),_(e,"bx--btn--xl",t[1]==="xl")},m(u,c){P(u,e,c),S(e,i),s||(o=[y(e,"click",t[4]),y(e,"mouseover",t[5]),y(e,"mouseenter",t[6]),y(e,"mouseleave",t[7])],s=!0)},p(u,c){H(e,a=x(l,[c&1&&{href:u[0]},c&8&&r!==(r=u[3].target==="_blank"?"noopener noreferrer":void 0)&&{rel:r},{role:"button"},c&8&&u[3]])),_(e,"bx--skeleton",!0),_(e,"bx--btn",!0),_(e,"bx--btn--field",u[1]==="field"),_(e,"bx--btn--sm",u[1]==="small"||u[2]),_(e,"bx--btn--lg",u[1]==="lg"),_(e,"bx--btn--xl",u[1]==="xl")},d(u){u&&R(e),s=!1,se(o)}}}function ty(t){let e;function n(s,o){return s[0]?ey:$p}let i=n(t),r=i(t);return{c(){r.c(),e=we()},m(s,o){r.m(s,o),P(s,e,o)},p(s,[o]){i===(i=n(s))&&r?r.p(s,o):(r.d(1),r=i(s),r&&(r.c(),r.m(e.parentNode,e)))},i:it,o:it,d(s){r.d(s),s&&R(e)}}}function ny(t,e,n){const i=["href","size","small"];let r=X(e,i),{href:s=void 0}=e,{size:o="default"}=e,{small:l=!1}=e;function a(b){v.call(this,t,b)}function u(b){v.call(this,t,b)}function c(b){v.call(this,t,b)}function d(b){v.call(this,t,b)}function h(b){v.call(this,t,b)}function f(b){v.call(this,t,b)}function g(b){v.call(this,t,b)}function p(b){v.call(this,t,b)}return t.$$set=b=>{e=k(k({},e),Q(b)),n(3,r=X(e,i)),"href"in b&&n(0,s=b.href),"size"in b&&n(1,o=b.size),"small"in b&&n(2,l=b.small)},[s,o,l,r,a,u,c,d,h,f,g,p]}class iy extends ue{constructor(e){super();ae(this,e,ny,ty,oe,{href:0,size:1,small:2})}}var ry=iy;const sy=t=>({props:t[0]&512}),Eh=t=>({props:t[9]});function oy(t){let e,n,i,r,s,o,l=t[0]&&Ih(t);const a=t[19].default,u=ee(a,t,t[18],null);var c=t[3];function d(g){return{props:{"aria-hidden":"true",class:"bx--btn__icon","aria-label":g[4]}}}c&&(i=new c(d(t)));let h=[t[9]],f={};for(let g=0;g<h.length;g+=1)f=k(f,h[g]);return{c(){e=F("button"),l&&l.c(),n=fe(),u&&u.c(),i&&pe(i.$$.fragment),H(e,f)},m(g,p){P(g,e,p),l&&l.m(e,null),S(e,n),u&&u.m(e,null),i&&_e(i,e,null),e.autofocus&&e.focus(),t[33](e),r=!0,s||(o=[y(e,"click",t[24]),y(e,"mouseover",t[25]),y(e,"mouseenter",t[26]),y(e,"mouseleave",t[27])],s=!0)},p(g,p){g[0]?l?l.p(g,p):(l=Ih(g),l.c(),l.m(e,n)):l&&(l.d(1),l=null),u&&u.p&&(!r||p[0]&262144)&&ne(u,a,g,g[18],r?te(a,g[18],p,null):ie(g[18]),null);const b={};if(p[0]&16&&(b["aria-label"]=g[4]),c!==(c=g[3])){if(i){Te();const T=i;w(T.$$.fragment,1,0,()=>{be(T,1)}),Ee()}c?(i=new c(d(g)),pe(i.$$.fragment),A(i.$$.fragment,1),_e(i,e,null)):i=null}else c&&i.$set(b);H(e,f=x(h,[p[0]&512&&g[9]]))},i(g){r||(A(u,g),i&&A(i.$$.fragment,g),r=!0)},o(g){w(u,g),i&&w(i.$$.fragment,g),r=!1},d(g){g&&R(e),l&&l.d(),u&&u.d(g),i&&be(i),t[33](null),s=!1,se(o)}}}function ly(t){let e,n,i,r,s,o,l=t[0]&&Ah(t);const a=t[19].default,u=ee(a,t,t[18],null);var c=t[3];function d(g){return{props:{"aria-hidden":"true",class:"bx--btn__icon","aria-label":g[4]}}}c&&(i=new c(d(t)));let h=[t[9]],f={};for(let g=0;g<h.length;g+=1)f=k(f,h[g]);return{c(){e=F("a"),l&&l.c(),n=fe(),u&&u.c(),i&&pe(i.$$.fragment),H(e,f)},m(g,p){P(g,e,p),l&&l.m(e,null),S(e,n),u&&u.m(e,null),i&&_e(i,e,null),t[32](e),r=!0,s||(o=[y(e,"click",t[20]),y(e,"mouseover",t[21]),y(e,"mouseenter",t[22]),y(e,"mouseleave",t[23])],s=!0)},p(g,p){g[0]?l?l.p(g,p):(l=Ah(g),l.c(),l.m(e,n)):l&&(l.d(1),l=null),u&&u.p&&(!r||p[0]&262144)&&ne(u,a,g,g[18],r?te(a,g[18],p,null):ie(g[18]),null);const b={};if(p[0]&16&&(b["aria-label"]=g[4]),c!==(c=g[3])){if(i){Te();const T=i;w(T.$$.fragment,1,0,()=>{be(T,1)}),Ee()}c?(i=new c(d(g)),pe(i.$$.fragment),A(i.$$.fragment,1),_e(i,e,null)):i=null}else c&&i.$set(b);H(e,f=x(h,[p[0]&512&&g[9]]))},i(g){r||(A(u,g),i&&A(i.$$.fragment,g),r=!0)},o(g){w(u,g),i&&w(i.$$.fragment,g),r=!1},d(g){g&&R(e),l&&l.d(),u&&u.d(g),i&&be(i),t[32](null),s=!1,se(o)}}}function ay(t){let e;const n=t[19].default,i=ee(n,t,t[18],Eh);return{c(){i&&i.c()},m(r,s){i&&i.m(r,s),e=!0},p(r,s){i&&i.p&&(!e||s[0]&262656)&&ne(i,n,r,r[18],e?te(n,r[18],s,sy):ie(r[18]),Eh)},i(r){e||(A(i,r),e=!0)},o(r){w(i,r),e=!1},d(r){i&&i.d(r)}}}function uy(t){let e,n;const i=[{href:t[8]},{size:t[2]},t[10],{style:t[0]&&"width: 3rem;"}];let r={};for(let s=0;s<i.length;s+=1)r=k(r,i[s]);return e=new ry({props:r}),e.$on("click",t[28]),e.$on("mouseover",t[29]),e.$on("mouseenter",t[30]),e.$on("mouseleave",t[31]),{c(){pe(e.$$.fragment)},m(s,o){_e(e,s,o),n=!0},p(s,o){const l=o[0]&1285?x(i,[o[0]&256&&{href:s[8]},o[0]&4&&{size:s[2]},o[0]&1024&&Nn(s[10]),o[0]&1&&{style:s[0]&&"width: 3rem;"}]):{};e.$set(l)},i(s){n||(A(e.$$.fragment,s),n=!0)},o(s){w(e.$$.fragment,s),n=!1},d(s){be(e,s)}}}function Ih(t){let e,n;return{c(){e=F("span"),n=le(t[4]),_(e,"bx--assistive-text",!0)},m(i,r){P(i,e,r),S(e,n)},p(i,r){r[0]&16&&ge(n,i[4])},d(i){i&&R(e)}}}function Ah(t){let e,n;return{c(){e=F("span"),n=le(t[4]),_(e,"bx--assistive-text",!0)},m(i,r){P(i,e,r),S(e,n)},p(i,r){r[0]&16&&ge(n,i[4])},d(i){i&&R(e)}}}function cy(t){let e,n,i,r;const s=[uy,ay,ly,oy],o=[];function l(a,u){return a[6]?0:a[5]?1:a[8]&&!a[7]?2:3}return e=l(t),n=o[e]=s[e](t),{c(){n.c(),i=we()},m(a,u){o[e].m(a,u),P(a,i,u),r=!0},p(a,u){let c=e;e=l(a),e===c?o[e].p(a,u):(Te(),w(o[c],1,1,()=>{o[c]=null}),Ee(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),A(n,1),n.m(i.parentNode,i))},i(a){r||(A(n),r=!0)},o(a){w(n),r=!1},d(a){o[e].d(a),a&&R(i)}}}function hy(t,e,n){let i;const r=["kind","size","expressive","isSelected","hasIconOnly","icon","iconDescription","tooltipAlignment","tooltipPosition","as","skeleton","disabled","href","tabindex","type","ref"];let s=X(e,r),{$$slots:o={},$$scope:l}=e;const a=jr(o);let{kind:u="primary"}=e,{size:c="default"}=e,{expressive:d=!1}=e,{isSelected:h=!1}=e,{hasIconOnly:f=!1}=e,{icon:g=void 0}=e,{iconDescription:p=void 0}=e,{tooltipAlignment:b="center"}=e,{tooltipPosition:T="bottom"}=e,{as:I=!1}=e,{skeleton:E=!1}=e,{disabled:C=!1}=e,{href:m=void 0}=e,{tabindex:O="0"}=e,{type:D="button"}=e,{ref:J=null}=e;const G=jt("ComposedModal");function Ce(K){v.call(this,t,K)}function j(K){v.call(this,t,K)}function Ae(K){v.call(this,t,K)}function Oe(K){v.call(this,t,K)}function Se(K){v.call(this,t,K)}function q(K){v.call(this,t,K)}function We(K){v.call(this,t,K)}function z(K){v.call(this,t,K)}function L(K){v.call(this,t,K)}function Ct(K){v.call(this,t,K)}function Cn(K){v.call(this,t,K)}function ft(K){v.call(this,t,K)}function W(K){rt[K?"unshift":"push"](()=>{J=K,n(1,J)})}function Ke(K){rt[K?"unshift":"push"](()=>{J=K,n(1,J)})}return t.$$set=K=>{e=k(k({},e),Q(K)),n(10,s=X(e,r)),"kind"in K&&n(11,u=K.kind),"size"in K&&n(2,c=K.size),"expressive"in K&&n(12,d=K.expressive),"isSelected"in K&&n(13,h=K.isSelected),"hasIconOnly"in K&&n(0,f=K.hasIconOnly),"icon"in K&&n(3,g=K.icon),"iconDescription"in K&&n(4,p=K.iconDescription),"tooltipAlignment"in K&&n(14,b=K.tooltipAlignment),"tooltipPosition"in K&&n(15,T=K.tooltipPosition),"as"in K&&n(5,I=K.as),"skeleton"in K&&n(6,E=K.skeleton),"disabled"in K&&n(7,C=K.disabled),"href"in K&&n(8,m=K.href),"tabindex"in K&&n(16,O=K.tabindex),"type"in K&&n(17,D=K.type),"ref"in K&&n(1,J=K.ref),"$$scope"in K&&n(18,l=K.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&2&&G&&J&&G.declareRef(J),t.$$.dirty[0]&8&&n(0,f=g&&!a.default),n(9,i=Vn(Sn({type:m&&!C?void 0:D,tabindex:O,disabled:C===!0?!0:void 0,href:m,"aria-pressed":f&&u==="ghost"?h:void 0},s),{class:["bx--btn",d&&"bx--btn--expressive",(c==="small"&&!d||c==="sm"&&!d||c==="small"&&!d)&&"bx--btn--sm",c==="field"&&!d||c==="md"&&!d&&"bx--btn--md",c==="field"&&"bx--btn--field",c==="small"&&"bx--btn--sm",c==="lg"&&"bx--btn--lg",c==="xl"&&"bx--btn--xl",u&&`bx--btn--${u}`,C&&"bx--btn--disabled",f&&"bx--btn--icon-only",f&&"bx--tooltip__trigger",f&&"bx--tooltip--a11y",f&&T&&`bx--btn--icon-only--${T}`,f&&b&&`bx--tooltip--align-${b}`,f&&h&&u==="ghost"&&"bx--btn--selected",s.class].filter(Boolean).join(" ")}))},[f,J,c,g,p,I,E,C,m,i,s,u,d,h,b,T,O,D,l,o,Ce,j,Ae,Oe,Se,q,We,z,L,Ct,Cn,ft,W,Ke]}class fy extends ue{constructor(e){super();ae(this,e,hy,cy,oe,{kind:11,size:2,expressive:12,isSelected:13,hasIconOnly:0,icon:3,iconDescription:4,tooltipAlignment:14,tooltipPosition:15,as:5,skeleton:6,disabled:7,href:8,tabindex:16,type:17,ref:1},null,[-1,-1])}}var Qo=fy;function kh(t,e,n){const i=t.slice();return i[53]=e[n],i}const dy=t=>({}),wh=t=>({}),my=t=>({}),Rh=t=>({});function Ch(t){let e,n,i,r,s;return n=new Ln({props:{"aria-label":t[7],class:"bx--modal-close__icon"}}),{c(){e=F("button"),pe(n.$$.fragment),V(e,"type","button"),V(e,"aria-label",t[7]),V(e,"title",t[7]),_(e,"bx--modal-close",!0)},m(o,l){P(o,e,l),_e(n,e,null),t[36](e),i=!0,r||(s=y(e,"click",t[37]),r=!0)},p(o,l){const a={};l[0]&128&&(a["aria-label"]=o[7]),n.$set(a),(!i||l[0]&128)&&V(e,"aria-label",o[7]),(!i||l[0]&128)&&V(e,"title",o[7])},i(o){i||(A(n.$$.fragment,o),i=!0)},o(o){w(n.$$.fragment,o),i=!1},d(o){o&&R(e),be(n),t[36](null),r=!1,s()}}}function Ph(t){let e,n;const i=t[30].label,r=ee(i,t,t[49],Rh),s=r||gy(t);return{c(){e=F("h2"),s&&s.c(),V(e,"id",t[24]),_(e,"bx--modal-header__label",!0)},m(o,l){P(o,e,l),s&&s.m(e,null),n=!0},p(o,l){r?r.p&&(!n||l[1]&262144)&&ne(r,i,o,o[49],n?te(i,o[49],l,my):ie(o[49]),Rh):s&&s.p&&(!n||l[0]&64)&&s.p(o,n?l:[-1,-1]),(!n||l[0]&16777216)&&V(e,"id",o[24])},i(o){n||(A(s,o),n=!0)},o(o){w(s,o),n=!1},d(o){o&&R(e),s&&s.d(o)}}}function gy(t){let e;return{c(){e=le(t[6])},m(n,i){P(n,e,i)},p(n,i){i[0]&64&&ge(e,n[6])},d(n){n&&R(e)}}}function _y(t){let e;return{c(){e=le(t[5])},m(n,i){P(n,e,i)},p(n,i){i[0]&32&&ge(e,n[5])},d(n){n&&R(e)}}}function Sh(t){let e,n,i,r,s;return n=new Ln({props:{"aria-label":t[7],class:"bx--modal-close__icon"}}),{c(){e=F("button"),pe(n.$$.fragment),V(e,"type","button"),V(e,"aria-label",t[7]),V(e,"title",t[7]),_(e,"bx--modal-close",!0)},m(o,l){P(o,e,l),_e(n,e,null),t[38](e),i=!0,r||(s=y(e,"click",t[39]),r=!0)},p(o,l){const a={};l[0]&128&&(a["aria-label"]=o[7]),n.$set(a),(!i||l[0]&128)&&V(e,"aria-label",o[7]),(!i||l[0]&128)&&V(e,"title",o[7])},i(o){i||(A(n.$$.fragment,o),i=!0)},o(o){w(n.$$.fragment,o),i=!1},d(o){o&&R(e),be(n),t[38](null),r=!1,s()}}}function Vh(t){let e;return{c(){e=F("div"),_(e,"bx--modal-content--overflow-indicator",!0)},m(n,i){P(n,e,i)},d(n){n&&R(e)}}}function Dh(t){let e,n,i,r,s,o;const l=[py,by],a=[];function u(c,d){return c[14].length>0?0:c[13]?1:-1}return~(n=u(t))&&(i=a[n]=l[n](t)),s=new Qo({props:{kind:t[3]?"danger":"primary",disabled:t[11],$$slots:{default:[Ty]},$$scope:{ctx:t}}}),s.$on("click",t[42]),{c(){e=F("div"),i&&i.c(),r=fe(),pe(s.$$.fragment),_(e,"bx--modal-footer",!0),_(e,"bx--modal-footer--three-button",t[14].length===2)},m(c,d){P(c,e,d),~n&&a[n].m(e,null),S(e,r),_e(s,e,null),o=!0},p(c,d){let h=n;n=u(c),n===h?~n&&a[n].p(c,d):(i&&(Te(),w(a[h],1,1,()=>{a[h]=null}),Ee()),~n?(i=a[n],i?i.p(c,d):(i=a[n]=l[n](c),i.c()),A(i,1),i.m(e,r)):i=null);const f={};d[0]&8&&(f.kind=c[3]?"danger":"primary"),d[0]&2048&&(f.disabled=c[11]),d[0]&1024|d[1]&262144&&(f.$$scope={dirty:d,ctx:c}),s.$set(f),d[0]&16384&&_(e,"bx--modal-footer--three-button",c[14].length===2)},i(c){o||(A(i),A(s.$$.fragment,c),o=!0)},o(c){w(i),w(s.$$.fragment,c),o=!1},d(c){c&&R(e),~n&&a[n].d(),be(s)}}}function by(t){let e,n;return e=new Qo({props:{kind:"secondary",$$slots:{default:[yy]},$$scope:{ctx:t}}}),e.$on("click",t[41]),{c(){pe(e.$$.fragment)},m(i,r){_e(e,i,r),n=!0},p(i,r){const s={};r[0]&8192|r[1]&262144&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){w(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function py(t){let e,n,i=t[14],r=[];for(let o=0;o<i.length;o+=1)r[o]=Mh(kh(t,i,o));const s=o=>w(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=we()},m(o,l){for(let a=0;a<r.length;a+=1)r[a].m(o,l);P(o,e,l),n=!0},p(o,l){if(l[0]&33570816){i=o[14];let a;for(a=0;a<i.length;a+=1){const u=kh(o,i,a);r[a]?(r[a].p(u,l),A(r[a],1)):(r[a]=Mh(u),r[a].c(),A(r[a],1),r[a].m(e.parentNode,e))}for(Te(),a=i.length;a<r.length;a+=1)s(a);Ee()}},i(o){if(!n){for(let l=0;l<i.length;l+=1)A(r[l]);n=!0}},o(o){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)w(r[l]);n=!1},d(o){uf(r,o),o&&R(e)}}}function yy(t){let e;return{c(){e=le(t[13])},m(n,i){P(n,e,i)},p(n,i){i[0]&8192&&ge(e,n[13])},d(n){n&&R(e)}}}function vy(t){let e=t[53].text+"",n,i;return{c(){n=le(e),i=fe()},m(r,s){P(r,n,s),P(r,i,s)},p(r,s){s[0]&16384&&e!==(e=r[53].text+"")&&ge(n,e)},d(r){r&&R(n),r&&R(i)}}}function Mh(t){let e,n;function i(){return t[40](t[53])}return e=new Qo({props:{kind:"secondary",$$slots:{default:[vy]},$$scope:{ctx:t}}}),e.$on("click",i),{c(){pe(e.$$.fragment)},m(r,s){_e(e,r,s),n=!0},p(r,s){t=r;const o={};s[0]&16384|s[1]&262144&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){w(e.$$.fragment,r),n=!1},d(r){be(e,r)}}}function Ty(t){let e;return{c(){e=le(t[10])},m(n,i){P(n,e,i)},p(n,i){i[0]&1024&&ge(e,n[10])},d(n){n&&R(e)}}}function Ey(t){let e,n,i,r,s,o,l,a,u,c,d,h,f,g,p,b,T,I,E=t[4]&&Ch(t),C=t[6]&&Ph(t);const m=t[30].heading,O=ee(m,t,t[49],wh),D=O||_y(t);let J=!t[4]&&Sh(t);const G=t[30].default,Ce=ee(G,t,t[49],null);let j=t[9]&&Vh(),Ae=!t[4]&&Dh(t),Oe=[{role:"dialog"},{tabindex:"-1"},t[21],{"aria-modal":"true"},{"aria-label":t[22]}],Se={};for(let z=0;z<Oe.length;z+=1)Se=k(Se,Oe[z]);let q=[{role:"presentation"},{id:t[16]},t[26]],We={};for(let z=0;z<q.length;z+=1)We=k(We,q[z]);return{c(){e=F("div"),n=F("div"),i=F("div"),E&&E.c(),r=fe(),C&&C.c(),s=fe(),o=F("h3"),D&&D.c(),l=fe(),J&&J.c(),a=fe(),u=F("div"),Ce&&Ce.c(),g=fe(),j&&j.c(),p=fe(),Ae&&Ae.c(),V(o,"id",t[23]),_(o,"bx--modal-header__heading",!0),_(i,"bx--modal-header",!0),V(u,"id",t[17]),V(u,"tabindex",c=t[9]?"0":void 0),V(u,"role",d=t[9]?"region":void 0),V(u,"aria-label",h=t[9]?t[22]:void 0),V(u,"aria-labelledby",f=t[6]?t[24]:t[23]),_(u,"bx--modal-content",!0),_(u,"bx--modal-content--with-form",t[8]),_(u,"bx--modal-scroll-content",t[9]),H(n,Se),_(n,"bx--modal-container",!0),_(n,"bx--modal-container--xs",t[2]==="xs"),_(n,"bx--modal-container--sm",t[2]==="sm"),_(n,"bx--modal-container--lg",t[2]==="lg"),H(e,We),_(e,"bx--modal",!0),_(e,"bx--modal-tall",!t[4]),_(e,"is-visible",t[0]),_(e,"bx--modal--danger",t[3])},m(z,L){P(z,e,L),S(e,n),S(n,i),E&&E.m(i,null),S(i,r),C&&C.m(i,null),S(i,s),S(i,o),D&&D.m(o,null),S(i,l),J&&J.m(i,null),S(n,a),S(n,u),Ce&&Ce.m(u,null),S(n,g),j&&j.m(n,null),S(n,p),Ae&&Ae.m(n,null),t[43](n),t[45](e),b=!0,T||(I=[y(n,"click",t[44]),y(e,"keydown",t[31]),y(e,"keydown",t[46]),y(e,"click",t[32]),y(e,"click",t[47]),y(e,"mouseover",t[33]),y(e,"mouseenter",t[34]),y(e,"mouseleave",t[35]),y(e,"transitionend",t[48])],T=!0)},p(z,L){z[4]?E?(E.p(z,L),L[0]&16&&A(E,1)):(E=Ch(z),E.c(),A(E,1),E.m(i,r)):E&&(Te(),w(E,1,1,()=>{E=null}),Ee()),z[6]?C?(C.p(z,L),L[0]&64&&A(C,1)):(C=Ph(z),C.c(),A(C,1),C.m(i,s)):C&&(Te(),w(C,1,1,()=>{C=null}),Ee()),O?O.p&&(!b||L[1]&262144)&&ne(O,m,z,z[49],b?te(m,z[49],L,dy):ie(z[49]),wh):D&&D.p&&(!b||L[0]&32)&&D.p(z,b?L:[-1,-1]),(!b||L[0]&8388608)&&V(o,"id",z[23]),z[4]?J&&(Te(),w(J,1,1,()=>{J=null}),Ee()):J?(J.p(z,L),L[0]&16&&A(J,1)):(J=Sh(z),J.c(),A(J,1),J.m(i,null)),Ce&&Ce.p&&(!b||L[1]&262144)&&ne(Ce,G,z,z[49],b?te(G,z[49],L,null):ie(z[49]),null),(!b||L[0]&131072)&&V(u,"id",z[17]),(!b||L[0]&512&&c!==(c=z[9]?"0":void 0))&&V(u,"tabindex",c),(!b||L[0]&512&&d!==(d=z[9]?"region":void 0))&&V(u,"role",d),(!b||L[0]&4194816&&h!==(h=z[9]?z[22]:void 0))&&V(u,"aria-label",h),(!b||L[0]&25165888&&f!==(f=z[6]?z[24]:z[23]))&&V(u,"aria-labelledby",f),L[0]&256&&_(u,"bx--modal-content--with-form",z[8]),L[0]&512&&_(u,"bx--modal-scroll-content",z[9]),z[9]?j||(j=Vh(),j.c(),j.m(n,p)):j&&(j.d(1),j=null),z[4]?Ae&&(Te(),w(Ae,1,1,()=>{Ae=null}),Ee()):Ae?(Ae.p(z,L),L[0]&16&&A(Ae,1)):(Ae=Dh(z),Ae.c(),A(Ae,1),Ae.m(n,null)),H(n,Se=x(Oe,[{role:"dialog"},{tabindex:"-1"},L[0]&2097152&&z[21],{"aria-modal":"true"},(!b||L[0]&4194304)&&{"aria-label":z[22]}])),_(n,"bx--modal-container",!0),_(n,"bx--modal-container--xs",z[2]==="xs"),_(n,"bx--modal-container--sm",z[2]==="sm"),_(n,"bx--modal-container--lg",z[2]==="lg"),H(e,We=x(q,[{role:"presentation"},(!b||L[0]&65536)&&{id:z[16]},L[0]&67108864&&z[26]])),_(e,"bx--modal",!0),_(e,"bx--modal-tall",!z[4]),_(e,"is-visible",z[0]),_(e,"bx--modal--danger",z[3])},i(z){b||(A(E),A(C),A(D,z),A(J),A(Ce,z),A(Ae),b=!0)},o(z){w(E),w(C),w(D,z),w(J),w(Ce,z),w(Ae),b=!1},d(z){z&&R(e),E&&E.d(),C&&C.d(),D&&D.d(z),J&&J.d(),Ce&&Ce.d(z),j&&j.d(),Ae&&Ae.d(),t[43](null),t[45](null),T=!1,se(I)}}}function Iy(t,e,n){let i,r,s,o;const l=["size","open","danger","alert","passiveModal","modalHeading","modalLabel","modalAriaLabel","iconDescription","hasForm","hasScrollingContent","primaryButtonText","primaryButtonDisabled","shouldSubmitOnEnter","secondaryButtonText","secondaryButtons","selectorPrimaryFocus","preventCloseOnClickOutside","id","ref"];let a=X(e,l),{$$slots:u={},$$scope:c}=e,{size:d=void 0}=e,{open:h=!1}=e,{danger:f=!1}=e,{alert:g=!1}=e,{passiveModal:p=!1}=e,{modalHeading:b=void 0}=e,{modalLabel:T=void 0}=e,{modalAriaLabel:I=void 0}=e,{iconDescription:E="Close the modal"}=e,{hasForm:C=!1}=e,{hasScrollingContent:m=!1}=e,{primaryButtonText:O=""}=e,{primaryButtonDisabled:D=!1}=e,{shouldSubmitOnEnter:J=!0}=e,{secondaryButtonText:G=""}=e,{secondaryButtons:Ce=[]}=e,{selectorPrimaryFocus:j="[data-modal-primary-focus]"}=e,{preventCloseOnClickOutside:Ae=!1}=e,{id:Oe="ccs-"+Math.random().toString(36)}=e,{ref:Se=null}=e;const q=Pt();let We=null,z=null,L=!1,Ct=!1;function Cn(B){((B||z).querySelector(j)||We).focus()}Vi(()=>()=>{document.body.classList.remove("bx--body--with-modal-open")}),df(()=>{L?h||(L=!1,q("close"),document.body.classList.remove("bx--body--with-modal-open")):h&&(L=!0,Cn(),q("open"),document.body.classList.add("bx--body--with-modal-open"))});let ft={};function W(B){v.call(this,t,B)}function Ke(B){v.call(this,t,B)}function K(B){v.call(this,t,B)}function Hh(B){v.call(this,t,B)}function Wh(B){v.call(this,t,B)}function Kh(B){rt[B?"unshift":"push"](()=>{We=B,n(18,We)})}const Gh=()=>{n(0,h=!1)};function Qh(B){rt[B?"unshift":"push"](()=>{We=B,n(18,We)})}const Yh=()=>{n(0,h=!1)},Xh=B=>{q("click:button--secondary",{text:B.text})},Jh=()=>{q("click:button--secondary",{text:G})},Zh=()=>{q("submit"),q("click:button--primary")};function xh(B){rt[B?"unshift":"push"](()=>{z=B,n(19,z)})}const $h=()=>{n(20,Ct=!0)};function ef(B){rt[B?"unshift":"push"](()=>{Se=B,n(1,Se)})}const tf=B=>{if(h)if(B.key==="Escape")n(0,h=!1);else if(B.key==="Tab"){const Yo=`
  a[href], area[href], input:not([disabled]):not([tabindex='-1']),
  button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),
  textarea:not([disabled]):not([tabindex='-1']),
  iframe, object, embed, *[tabindex]:not([tabindex='-1']):not([disabled]), *[contenteditable=true]
`,Ri=Array.from(Se.querySelectorAll(Yo));let Pn=Ri.indexOf(document.activeElement);Pn===-1&&B.shiftKey&&(Pn=0),Pn+=Ri.length+(B.shiftKey?-1:1),Pn%=Ri.length,Ri[Pn].focus(),B.preventDefault()}else J&&B.key==="Enter"&&q("submit")},nf=()=>{!Ct&&!Ae&&n(0,h=!1),n(20,Ct=!1)},rf=B=>{B.propertyName==="transform"&&q("transitionend",{open:h})};return t.$$set=B=>{n(52,e=k(k({},e),Q(B))),n(26,a=X(e,l)),"size"in B&&n(2,d=B.size),"open"in B&&n(0,h=B.open),"danger"in B&&n(3,f=B.danger),"alert"in B&&n(27,g=B.alert),"passiveModal"in B&&n(4,p=B.passiveModal),"modalHeading"in B&&n(5,b=B.modalHeading),"modalLabel"in B&&n(6,T=B.modalLabel),"modalAriaLabel"in B&&n(28,I=B.modalAriaLabel),"iconDescription"in B&&n(7,E=B.iconDescription),"hasForm"in B&&n(8,C=B.hasForm),"hasScrollingContent"in B&&n(9,m=B.hasScrollingContent),"primaryButtonText"in B&&n(10,O=B.primaryButtonText),"primaryButtonDisabled"in B&&n(11,D=B.primaryButtonDisabled),"shouldSubmitOnEnter"in B&&n(12,J=B.shouldSubmitOnEnter),"secondaryButtonText"in B&&n(13,G=B.secondaryButtonText),"secondaryButtons"in B&&n(14,Ce=B.secondaryButtons),"selectorPrimaryFocus"in B&&n(29,j=B.selectorPrimaryFocus),"preventCloseOnClickOutside"in B&&n(15,Ae=B.preventCloseOnClickOutside),"id"in B&&n(16,Oe=B.id),"ref"in B&&n(1,Se=B.ref),"$$scope"in B&&n(49,c=B.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&65536&&n(24,i=`bx--modal-header__label--modal-${Oe}`),t.$$.dirty[0]&65536&&n(23,r=`bx--modal-header__heading--modal-${Oe}`),t.$$.dirty[0]&65536&&n(17,s=`bx--modal-body--${Oe}`),n(22,o=T||e["aria-label"]||I||b),t.$$.dirty[0]&134348816&&g&&(p&&n(21,ft.role="alert",ft),p||(n(21,ft.role="alertdialog",ft),n(21,ft["aria-describedby"]=s,ft)))},e=Q(e),[h,Se,d,f,p,b,T,E,C,m,O,D,J,G,Ce,Ae,Oe,s,We,z,Ct,ft,o,r,i,q,a,g,I,j,u,W,Ke,K,Hh,Wh,Kh,Gh,Qh,Yh,Xh,Jh,Zh,xh,$h,ef,tf,nf,rf,c]}class Ay extends ue{constructor(e){super();ae(this,e,Iy,Ey,oe,{size:2,open:0,danger:3,alert:27,passiveModal:4,modalHeading:5,modalLabel:6,modalAriaLabel:28,iconDescription:7,hasForm:8,hasScrollingContent:9,primaryButtonText:10,primaryButtonDisabled:11,shouldSubmitOnEnter:12,secondaryButtonText:13,secondaryButtons:14,selectorPrimaryFocus:29,preventCloseOnClickOutside:15,id:16,ref:1},null,[-1,-1])}}var Kv=Ay;const ky=t=>({}),Nh=t=>({});function Lh(t){let e,n;const i=t[15].labelText,r=ee(i,t,t[14],Nh),s=r||wy(t);return{c(){e=F("span"),s&&s.c(),_(e,"bx--visually-hidden",t[6])},m(o,l){P(o,e,l),s&&s.m(e,null),n=!0},p(o,l){r?r.p&&(!n||l&16384)&&ne(r,i,o,o[14],n?te(i,o[14],l,ky):ie(o[14]),Nh):s&&s.p&&(!n||l&32)&&s.p(o,n?l:-1),l&64&&_(e,"bx--visually-hidden",o[6])},i(o){n||(A(s,o),n=!0)},o(o){w(s,o),n=!1},d(o){o&&R(e),s&&s.d(o)}}}function wy(t){let e;return{c(){e=le(t[5])},m(n,i){P(n,e,i)},p(n,i){i&32&&ge(e,n[5])},d(n){n&&R(e)}}}function Ry(t){let e,n,i,r,s,o,l,a,u,c=(t[5]||t[12].labelText)&&Lh(t),d=[t[11]],h={};for(let f=0;f<d.length;f+=1)h=k(h,d[f]);return{c(){e=F("div"),n=F("input"),i=fe(),r=F("label"),s=F("span"),o=fe(),c&&c.c(),V(n,"type","radio"),V(n,"id",t[7]),V(n,"name",t[8]),n.checked=t[0],n.disabled=t[3],n.value=t[2],_(n,"bx--radio-button",!0),_(s,"bx--radio-button__appearance",!0),V(r,"for",t[7]),_(r,"bx--radio-button__label",!0),H(e,h),_(e,"bx--radio-button-wrapper",!0),_(e,"bx--radio-button-wrapper--label-left",t[4]==="left")},m(f,g){P(f,e,g),S(e,n),t[17](n),S(e,i),S(e,r),S(r,s),S(r,o),c&&c.m(r,null),l=!0,a||(u=[y(n,"change",t[16]),y(n,"change",t[18])],a=!0)},p(f,[g]){(!l||g&128)&&V(n,"id",f[7]),(!l||g&256)&&V(n,"name",f[8]),(!l||g&1)&&(n.checked=f[0]),(!l||g&8)&&(n.disabled=f[3]),(!l||g&4)&&(n.value=f[2]),f[5]||f[12].labelText?c?(c.p(f,g),g&4128&&A(c,1)):(c=Lh(f),c.c(),A(c,1),c.m(r,null)):c&&(Te(),w(c,1,1,()=>{c=null}),Ee()),(!l||g&128)&&V(r,"for",f[7]),H(e,h=x(d,[g&2048&&f[11]])),_(e,"bx--radio-button-wrapper",!0),_(e,"bx--radio-button-wrapper--label-left",f[4]==="left")},i(f){l||(A(c),l=!0)},o(f){w(c),l=!1},d(f){f&&R(e),t[17](null),c&&c.d(),a=!1,se(u)}}}function Cy(t,e,n){const i=["value","checked","disabled","labelPosition","labelText","hideLabel","id","name","ref"];let r=X(e,i),s,{$$slots:o={},$$scope:l}=e;const a=jr(o);let{value:u=""}=e,{checked:c=!1}=e,{disabled:d=!1}=e,{labelPosition:h="right"}=e,{labelText:f=""}=e,{hideLabel:g=!1}=e,{id:p="ccs-"+Math.random().toString(36)}=e,{name:b=""}=e,{ref:T=null}=e;const I=jt("RadioButtonGroup"),E=I?I.selectedValue:_t(c?u:void 0);dt(t,E,D=>n(13,s=D)),I&&I.add({id:p,checked:c,disabled:d,value:u});function C(D){v.call(this,t,D)}function m(D){rt[D?"unshift":"push"](()=>{T=D,n(1,T)})}const O=()=>{I&&I.update(u)};return t.$$set=D=>{e=k(k({},e),Q(D)),n(11,r=X(e,i)),"value"in D&&n(2,u=D.value),"checked"in D&&n(0,c=D.checked),"disabled"in D&&n(3,d=D.disabled),"labelPosition"in D&&n(4,h=D.labelPosition),"labelText"in D&&n(5,f=D.labelText),"hideLabel"in D&&n(6,g=D.hideLabel),"id"in D&&n(7,p=D.id),"name"in D&&n(8,b=D.name),"ref"in D&&n(1,T=D.ref),"$$scope"in D&&n(14,l=D.$$scope)},t.$$.update=()=>{t.$$.dirty&8196&&n(0,c=s===u)},[c,T,u,d,h,f,g,p,b,I,E,r,a,s,l,o,C,m,O]}class Py extends ue{constructor(e){super();ae(this,e,Cy,Ry,oe,{value:2,checked:0,disabled:3,labelPosition:4,labelText:5,hideLabel:6,id:7,name:8,ref:1})}}var Gv=Py;const Sy=t=>({}),Oh=t=>({});function Fh(t){let e,n;const i=t[10].legendText,r=ee(i,t,t[9],Oh),s=r||Vy(t);return{c(){e=F("legend"),s&&s.c(),_(e,"bx--label",!0)},m(o,l){P(o,e,l),s&&s.m(e,null),n=!0},p(o,l){r?r.p&&(!n||l&512)&&ne(r,i,o,o[9],n?te(i,o[9],l,Sy):ie(o[9]),Oh):s&&s.p&&(!n||l&2)&&s.p(o,n?l:-1)},i(o){n||(A(s,o),n=!0)},o(o){w(s,o),n=!1},d(o){o&&R(e),s&&s.d(o)}}}function Vy(t){let e;return{c(){e=le(t[1])},m(n,i){P(n,e,i)},p(n,i){i&2&&ge(e,n[1])},d(n){n&&R(e)}}}function Dy(t){let e,n,i,r,s,o,l=(t[1]||t[7].legendText)&&Fh(t);const a=t[10].default,u=ee(a,t,t[9],null);let c=[{id:t[4]},t[6]],d={};for(let h=0;h<c.length;h+=1)d=k(d,c[h]);return{c(){e=F("div"),n=F("fieldset"),l&&l.c(),i=fe(),u&&u.c(),n.disabled=t[0],_(n,"bx--radio-button-group",!0),_(n,"bx--radio-button-group--vertical",t[3]==="vertical"),_(n,"bx--radio-button-group--label-left",t[2]==="left"),_(n,"bx--radio-button-group--label-right",t[2]==="right"),H(e,d),_(e,"bx--form-item",!0)},m(h,f){P(h,e,f),S(e,n),l&&l.m(n,null),S(n,i),u&&u.m(n,null),r=!0,s||(o=[y(e,"click",t[11]),y(e,"mouseover",t[12]),y(e,"mouseenter",t[13]),y(e,"mouseleave",t[14])],s=!0)},p(h,[f]){h[1]||h[7].legendText?l?(l.p(h,f),f&130&&A(l,1)):(l=Fh(h),l.c(),A(l,1),l.m(n,i)):l&&(Te(),w(l,1,1,()=>{l=null}),Ee()),u&&u.p&&(!r||f&512)&&ne(u,a,h,h[9],r?te(a,h[9],f,null):ie(h[9]),null),(!r||f&1)&&(n.disabled=h[0]),f&8&&_(n,"bx--radio-button-group--vertical",h[3]==="vertical"),f&4&&_(n,"bx--radio-button-group--label-left",h[2]==="left"),f&4&&_(n,"bx--radio-button-group--label-right",h[2]==="right"),H(e,d=x(c,[(!r||f&16)&&{id:h[4]},f&64&&h[6]])),_(e,"bx--form-item",!0)},i(h){r||(A(l),A(u,h),r=!0)},o(h){w(l),w(u,h),r=!1},d(h){h&&R(e),l&&l.d(),u&&u.d(h),s=!1,se(o)}}}function My(t,e,n){const i=["selected","disabled","legendText","labelPosition","orientation","id"];let r=X(e,i),s,{$$slots:o={},$$scope:l}=e;const a=jr(o);let{selected:u=void 0}=e,{disabled:c=!1}=e,{legendText:d=""}=e,{labelPosition:h="right"}=e,{orientation:f="horizontal"}=e,{id:g=void 0}=e;const p=Pt(),b=_t(u);dt(t,b,m=>n(15,s=m)),Dn("RadioButtonGroup",{selectedValue:b,add:({checked:m,value:O})=>{m&&b.set(O)},update:m=>{n(8,u=m)}}),Vi(()=>{il(b,s=u,s)}),ff(()=>{il(b,s=u,s)}),b.subscribe(m=>{n(8,u=m),p("change",m)});function T(m){v.call(this,t,m)}function I(m){v.call(this,t,m)}function E(m){v.call(this,t,m)}function C(m){v.call(this,t,m)}return t.$$set=m=>{e=k(k({},e),Q(m)),n(6,r=X(e,i)),"selected"in m&&n(8,u=m.selected),"disabled"in m&&n(0,c=m.disabled),"legendText"in m&&n(1,d=m.legendText),"labelPosition"in m&&n(2,h=m.labelPosition),"orientation"in m&&n(3,f=m.orientation),"id"in m&&n(4,g=m.id),"$$scope"in m&&n(9,l=m.$$scope)},[c,d,h,f,g,b,r,a,u,l,o,T,I,E,C]}class Ny extends ue{constructor(e){super();ae(this,e,My,Dy,oe,{selected:8,disabled:0,legendText:1,labelPosition:2,orientation:3,id:4})}}var Qv=Ny;function Bh(t){let e,n;return{c(){e=re("title"),n=le(t[2])},m(i,r){P(i,e,r),S(e,n)},p(i,r){r&4&&ge(n,i[2])},d(i){i&&R(e)}}}function Ly(t){let e,n=t[2]&&Bh(t);return{c(){n&&n.c(),e=we()},m(i,r){n&&n.m(i,r),P(i,e,r)},p(i,r){i[2]?n?n.p(i,r):(n=Bh(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&R(e)}}}function Oy(t){let e,n,i,r,s,o;const l=t[11].default,a=ee(l,t,t[10],null),u=a||Ly(t);let c=[{"data-carbon-icon":"CheckmarkFilled16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 16 16"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],d={};for(let h=0;h<c.length;h+=1)d=k(d,c[h]);return{c(){e=re("svg"),n=re("path"),i=re("path"),u&&u.c(),V(n,"d","M8,1C4.1,1,1,4.1,1,8c0,3.9,3.1,7,7,7s7-3.1,7-7C15,4.1,11.9,1,8,1z M7,11L4.3,8.3l0.9-0.8L7,9.3l4-3.9l0.9,0.8L7,11z"),V(i,"d","M7,11L4.3,8.3l0.9-0.8L7,9.3l4-3.9l0.9,0.8L7,11z"),V(i,"data-icon-path","inner-path"),V(i,"opacity","0"),Pe(e,d)},m(h,f){P(h,e,f),S(e,n),S(e,i),u&&u.m(e,null),r=!0,s||(o=[y(e,"click",t[12]),y(e,"mouseover",t[13]),y(e,"mouseenter",t[14]),y(e,"mouseleave",t[15]),y(e,"keyup",t[16]),y(e,"keydown",t[17])],s=!0)},p(h,[f]){a?a.p&&(!r||f&1024)&&ne(a,l,h,h[10],r?te(l,h[10],f,null):ie(h[10]),null):u&&u.p&&(!r||f&4)&&u.p(h,r?f:-1),Pe(e,d=x(c,[{"data-carbon-icon":"CheckmarkFilled16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 16 16"},{fill:"currentColor"},{width:"16"},{height:"16"},(!r||f&1)&&{class:h[0]},{preserveAspectRatio:"xMidYMid meet"},(!r||f&8)&&{style:h[3]},(!r||f&2)&&{id:h[1]},f&16&&h[4]]))},i(h){r||(A(u,h),r=!0)},o(h){w(u,h),r=!1},d(h){h&&R(e),u&&u.d(h),s=!1,se(o)}}}function Fy(t,e,n){let i,r,s,o,{$$slots:l={},$$scope:a}=e,{class:u=void 0}=e,{id:c=void 0}=e,{tabindex:d=void 0}=e,{focusable:h=!1}=e,{title:f=void 0}=e,{style:g=void 0}=e;function p(m){v.call(this,t,m)}function b(m){v.call(this,t,m)}function T(m){v.call(this,t,m)}function I(m){v.call(this,t,m)}function E(m){v.call(this,t,m)}function C(m){v.call(this,t,m)}return t.$$set=m=>{n(18,e=k(k({},e),Q(m))),"class"in m&&n(0,u=m.class),"id"in m&&n(1,c=m.id),"tabindex"in m&&n(5,d=m.tabindex),"focusable"in m&&n(6,h=m.focusable),"title"in m&&n(2,f=m.title),"style"in m&&n(3,g=m.style),"$$scope"in m&&n(10,a=m.$$scope)},t.$$.update=()=>{n(9,i=e["aria-label"]),n(8,r=e["aria-labelledby"]),t.$$.dirty&772&&n(7,s=i||r||f),t.$$.dirty&992&&n(4,o={"aria-label":i,"aria-labelledby":r,"aria-hidden":s?void 0:!0,role:s?"img":void 0,focusable:d==="0"?!0:h,tabindex:d})},e=Q(e),[u,c,f,g,o,d,h,s,r,i,a,l,p,b,T,I,E,C]}class By extends ue{constructor(e){super();ae(this,e,Fy,Oy,oe,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}}var Uy=By;function zy(t){let e,n,i,r,s,o,l,a,u,c,d;o=new Uy({props:{"aria-label":t[5],title:t[5]}});const h=t[13].default,f=ee(h,t,t[12],null);let g=[{for:t[6]},t[10]],p={};for(let b=0;b<g.length;b+=1)p=k(p,g[b]);return{c(){e=F("input"),i=fe(),r=F("label"),s=F("span"),pe(o.$$.fragment),l=fe(),a=F("span"),f&&f.c(),V(e,"type","radio"),V(e,"id",t[6]),V(e,"name",t[7]),e.value=t[3],e.checked=t[0],V(e,"tabindex",n=t[2]?void 0:t[4]),e.disabled=t[2],_(e,"bx--tile-input",!0),_(s,"bx--tile__checkmark",!0),_(a,"bx--tile-content",!0),H(r,p),_(r,"bx--tile",!0),_(r,"bx--tile--selectable",!0),_(r,"bx--tile--is-selected",t[0]),_(r,"bx--tile--light",t[1]),_(r,"bx--tile--disabled",t[2])},m(b,T){P(b,e,T),P(b,i,T),P(b,r,T),S(r,s),_e(o,s,null),S(r,l),S(r,a),f&&f.m(a,null),u=!0,c||(d=[y(e,"change",t[18]),y(e,"change",t[20]),y(e,"keydown",t[19]),y(e,"keydown",t[21]),y(r,"click",t[14]),y(r,"mouseover",t[15]),y(r,"mouseenter",t[16]),y(r,"mouseleave",t[17])],c=!0)},p(b,[T]){(!u||T&64)&&V(e,"id",b[6]),(!u||T&128)&&V(e,"name",b[7]),(!u||T&8)&&(e.value=b[3]),(!u||T&1)&&(e.checked=b[0]),(!u||T&20&&n!==(n=b[2]?void 0:b[4]))&&V(e,"tabindex",n),(!u||T&4)&&(e.disabled=b[2]);const I={};T&32&&(I["aria-label"]=b[5]),T&32&&(I.title=b[5]),o.$set(I),f&&f.p&&(!u||T&4096)&&ne(f,h,b,b[12],u?te(h,b[12],T,null):ie(b[12]),null),H(r,p=x(g,[(!u||T&64)&&{for:b[6]},T&1024&&b[10]])),_(r,"bx--tile",!0),_(r,"bx--tile--selectable",!0),_(r,"bx--tile--is-selected",b[0]),_(r,"bx--tile--light",b[1]),_(r,"bx--tile--disabled",b[2])},i(b){u||(A(o.$$.fragment,b),A(f,b),u=!0)},o(b){w(o.$$.fragment,b),w(f,b),u=!1},d(b){b&&R(e),b&&R(i),b&&R(r),be(o),f&&f.d(b),c=!1,se(d)}}}function jy(t,e,n){const i=["checked","light","disabled","value","tabindex","iconDescription","id","name"];let r=X(e,i),s,{$$slots:o={},$$scope:l}=e,{checked:a=!1}=e,{light:u=!1}=e,{disabled:c=!1}=e,{value:d=""}=e,{tabindex:h="0"}=e,{iconDescription:f="Tile checkmark"}=e,{id:g="ccs-"+Math.random().toString(36)}=e,{name:p=""}=e;const{add:b,update:T,selectedValue:I}=jt("TileGroup");dt(t,I,j=>n(11,s=j)),b({value:d,checked:a});function E(j){v.call(this,t,j)}function C(j){v.call(this,t,j)}function m(j){v.call(this,t,j)}function O(j){v.call(this,t,j)}function D(j){v.call(this,t,j)}function J(j){v.call(this,t,j)}const G=()=>{c||T(d)},Ce=j=>{c||(j.key===" "||j.key==="Enter")&&(j.preventDefault(),T(d))};return t.$$set=j=>{e=k(k({},e),Q(j)),n(10,r=X(e,i)),"checked"in j&&n(0,a=j.checked),"light"in j&&n(1,u=j.light),"disabled"in j&&n(2,c=j.disabled),"value"in j&&n(3,d=j.value),"tabindex"in j&&n(4,h=j.tabindex),"iconDescription"in j&&n(5,f=j.iconDescription),"id"in j&&n(6,g=j.id),"name"in j&&n(7,p=j.name),"$$scope"in j&&n(12,l=j.$$scope)},t.$$.update=()=>{t.$$.dirty&2056&&n(0,a=d===s)},[a,u,c,d,h,f,g,p,T,I,r,s,l,o,E,C,m,O,D,J,G,Ce]}class qy extends ue{constructor(e){super();ae(this,e,jy,zy,oe,{checked:0,light:1,disabled:2,value:3,tabindex:4,iconDescription:5,id:6,name:7})}}var Yv=qy;function Uh(t){let e,n;return{c(){e=F("legend"),n=le(t[1]),_(e,"bx--label",!0)},m(i,r){P(i,e,r),S(e,n)},p(i,r){r&2&&ge(n,i[1])},d(i){i&&R(e)}}}function Hy(t){let e,n,i,r,s=t[1]&&Uh(t);const o=t[7].default,l=ee(o,t,t[6],null);let a=[{disabled:t[0]},t[3]],u={};for(let c=0;c<a.length;c+=1)u=k(u,a[c]);return{c(){e=F("fieldset"),s&&s.c(),n=fe(),i=F("div"),l&&l.c(),H(e,u),_(e,"bx--tile-group",!0)},m(c,d){P(c,e,d),s&&s.m(e,null),S(e,n),S(e,i),l&&l.m(i,null),r=!0},p(c,[d]){c[1]?s?s.p(c,d):(s=Uh(c),s.c(),s.m(e,n)):s&&(s.d(1),s=null),l&&l.p&&(!r||d&64)&&ne(l,o,c,c[6],r?te(o,c[6],d,null):ie(c[6]),null),H(e,u=x(a,[(!r||d&1)&&{disabled:c[0]},d&8&&c[3]])),_(e,"bx--tile-group",!0)},i(c){r||(A(l,c),r=!0)},o(c){w(l,c),r=!1},d(c){c&&R(e),s&&s.d(),l&&l.d(c)}}}function Wy(t,e,n){const i=["selected","disabled","legend"];let r=X(e,i),s,{$$slots:o={},$$scope:l}=e,{selected:a=void 0}=e,{disabled:u=!1}=e,{legend:c=""}=e;const d=Pt(),h=_t(a);return dt(t,h,f=>n(5,s=f)),Dn("TileGroup",{selectedValue:h,add:({checked:f,value:g})=>{f&&h.set(g)},update:f=>{h.set(f)}}),t.$$set=f=>{e=k(k({},e),Q(f)),n(3,r=X(e,i)),"selected"in f&&n(4,a=f.selected),"disabled"in f&&n(0,u=f.disabled),"legend"in f&&n(1,c=f.legend),"$$scope"in f&&n(6,l=f.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&n(4,a=s),t.$$.dirty&32&&d("select",s)},[u,c,h,r,a,s,l,o]}class Ky extends ue{constructor(e){super();ae(this,e,Wy,Hy,oe,{selected:4,disabled:0,legend:1})}}var Xv=Ky;function Gy(t){let e,n,i,r=[t[1]],s={};for(let o=0;o<r.length;o+=1)s=k(s,r[o]);return{c(){e=F("span"),H(e,s),_(e,"bx--tag",!0),_(e,"bx--tag--sm",t[0]==="sm"),_(e,"bx--skeleton",!0)},m(o,l){P(o,e,l),n||(i=[y(e,"click",t[2]),y(e,"mouseover",t[3]),y(e,"mouseenter",t[4]),y(e,"mouseleave",t[5])],n=!0)},p(o,[l]){H(e,s=x(r,[l&2&&o[1]])),_(e,"bx--tag",!0),_(e,"bx--tag--sm",o[0]==="sm"),_(e,"bx--skeleton",!0)},i:it,o:it,d(o){o&&R(e),n=!1,se(i)}}}function Qy(t,e,n){const i=["size"];let r=X(e,i),{size:s="default"}=e;function o(c){v.call(this,t,c)}function l(c){v.call(this,t,c)}function a(c){v.call(this,t,c)}function u(c){v.call(this,t,c)}return t.$$set=c=>{e=k(k({},e),Q(c)),n(1,r=X(e,i)),"size"in c&&n(0,s=c.size)},[s,r,o,l,a,u]}class Yy extends ue{constructor(e){super();ae(this,e,Qy,Gy,oe,{size:0})}}var Xy=Yy;const Jy=t=>({}),zh=t=>({props:{class:"bx--tag__label"}});function Zy(t){let e,n,i,r,s,o,l=t[7]&&jh(t);const a=t[12].default,u=ee(a,t,t[11],null);let c=[{id:t[8]},t[10]],d={};for(let h=0;h<c.length;h+=1)d=k(d,c[h]);return{c(){e=F("div"),l&&l.c(),n=fe(),i=F("span"),u&&u.c(),H(e,d),_(e,"bx--tag",!0),_(e,"bx--tag--disabled",t[3]),_(e,"bx--tag--sm",t[1]==="sm"),_(e,"bx--tag--red",t[0]==="red"),_(e,"bx--tag--magenta",t[0]==="magenta"),_(e,"bx--tag--purple",t[0]==="purple"),_(e,"bx--tag--blue",t[0]==="blue"),_(e,"bx--tag--cyan",t[0]==="cyan"),_(e,"bx--tag--teal",t[0]==="teal"),_(e,"bx--tag--green",t[0]==="green"),_(e,"bx--tag--gray",t[0]==="gray"),_(e,"bx--tag--cool-gray",t[0]==="cool-gray"),_(e,"bx--tag--warm-gray",t[0]==="warm-gray"),_(e,"bx--tag--high-contrast",t[0]==="high-contrast")},m(h,f){P(h,e,f),l&&l.m(e,null),S(e,n),S(e,i),u&&u.m(i,null),r=!0,s||(o=[y(e,"click",t[21]),y(e,"mouseover",t[22]),y(e,"mouseenter",t[23]),y(e,"mouseleave",t[24])],s=!0)},p(h,f){h[7]?l?(l.p(h,f),f&128&&A(l,1)):(l=jh(h),l.c(),A(l,1),l.m(e,n)):l&&(Te(),w(l,1,1,()=>{l=null}),Ee()),u&&u.p&&(!r||f&2048)&&ne(u,a,h,h[11],r?te(a,h[11],f,null):ie(h[11]),null),H(e,d=x(c,[(!r||f&256)&&{id:h[8]},f&1024&&h[10]])),_(e,"bx--tag",!0),_(e,"bx--tag--disabled",h[3]),_(e,"bx--tag--sm",h[1]==="sm"),_(e,"bx--tag--red",h[0]==="red"),_(e,"bx--tag--magenta",h[0]==="magenta"),_(e,"bx--tag--purple",h[0]==="purple"),_(e,"bx--tag--blue",h[0]==="blue"),_(e,"bx--tag--cyan",h[0]==="cyan"),_(e,"bx--tag--teal",h[0]==="teal"),_(e,"bx--tag--green",h[0]==="green"),_(e,"bx--tag--gray",h[0]==="gray"),_(e,"bx--tag--cool-gray",h[0]==="cool-gray"),_(e,"bx--tag--warm-gray",h[0]==="warm-gray"),_(e,"bx--tag--high-contrast",h[0]==="high-contrast")},i(h){r||(A(l),A(u,h),r=!0)},o(h){w(l),w(u,h),r=!1},d(h){h&&R(e),l&&l.d(),u&&u.d(h),s=!1,se(o)}}}function xy(t){let e,n,i,r,s,o,l,a=t[7]&&qh(t);const u=t[12].default,c=ee(u,t,t[11],null);let d=[{id:t[8]},{disabled:t[3]},{"aria-disabled":t[3]},{tabindex:r=t[3]?"-1":void 0},t[10]],h={};for(let f=0;f<d.length;f+=1)h=k(h,d[f]);return{c(){e=F("button"),a&&a.c(),n=fe(),i=F("span"),c&&c.c(),H(e,h),_(e,"bx--tag",!0),_(e,"bx--tag--interactive",!0),_(e,"bx--tag--disabled",t[3]),_(e,"bx--tag--sm",t[1]==="sm"),_(e,"bx--tag--red",t[0]==="red"),_(e,"bx--tag--magenta",t[0]==="magenta"),_(e,"bx--tag--purple",t[0]==="purple"),_(e,"bx--tag--blue",t[0]==="blue"),_(e,"bx--tag--cyan",t[0]==="cyan"),_(e,"bx--tag--teal",t[0]==="teal"),_(e,"bx--tag--green",t[0]==="green"),_(e,"bx--tag--gray",t[0]==="gray"),_(e,"bx--tag--cool-gray",t[0]==="cool-gray"),_(e,"bx--tag--warm-gray",t[0]==="warm-gray"),_(e,"bx--tag--high-contrast",t[0]==="high-contrast")},m(f,g){P(f,e,g),a&&a.m(e,null),S(e,n),S(e,i),c&&c.m(i,null),e.autofocus&&e.focus(),s=!0,o||(l=[y(e,"click",t[17]),y(e,"mouseover",t[18]),y(e,"mouseenter",t[19]),y(e,"mouseleave",t[20])],o=!0)},p(f,g){f[7]?a?(a.p(f,g),g&128&&A(a,1)):(a=qh(f),a.c(),A(a,1),a.m(e,n)):a&&(Te(),w(a,1,1,()=>{a=null}),Ee()),c&&c.p&&(!s||g&2048)&&ne(c,u,f,f[11],s?te(u,f[11],g,null):ie(f[11]),null),H(e,h=x(d,[(!s||g&256)&&{id:f[8]},(!s||g&8)&&{disabled:f[3]},(!s||g&8)&&{"aria-disabled":f[3]},(!s||g&8&&r!==(r=f[3]?"-1":void 0))&&{tabindex:r},g&1024&&f[10]])),_(e,"bx--tag",!0),_(e,"bx--tag--interactive",!0),_(e,"bx--tag--disabled",f[3]),_(e,"bx--tag--sm",f[1]==="sm"),_(e,"bx--tag--red",f[0]==="red"),_(e,"bx--tag--magenta",f[0]==="magenta"),_(e,"bx--tag--purple",f[0]==="purple"),_(e,"bx--tag--blue",f[0]==="blue"),_(e,"bx--tag--cyan",f[0]==="cyan"),_(e,"bx--tag--teal",f[0]==="teal"),_(e,"bx--tag--green",f[0]==="green"),_(e,"bx--tag--gray",f[0]==="gray"),_(e,"bx--tag--cool-gray",f[0]==="cool-gray"),_(e,"bx--tag--warm-gray",f[0]==="warm-gray"),_(e,"bx--tag--high-contrast",f[0]==="high-contrast")},i(f){s||(A(a),A(c,f),s=!0)},o(f){w(a),w(c,f),s=!1},d(f){f&&R(e),a&&a.d(),c&&c.d(f),o=!1,se(l)}}}function $y(t){let e,n,i,r,s,o,l;const a=t[12].default,u=ee(a,t,t[11],zh),c=u||tv(t);r=new Bp({});let d=[{"aria-label":t[6]},{id:t[8]},t[10]],h={};for(let f=0;f<d.length;f+=1)h=k(h,d[f]);return{c(){e=F("div"),c&&c.c(),n=fe(),i=F("button"),pe(r.$$.fragment),V(i,"aria-labelledby",t[8]),i.disabled=t[3],V(i,"title",t[6]),_(i,"bx--tag__close-icon",!0),H(e,h),_(e,"bx--tag",!0),_(e,"bx--tag--disabled",t[3]),_(e,"bx--tag--filter",t[2]),_(e,"bx--tag--sm",t[1]==="sm"),_(e,"bx--tag--red",t[0]==="red"),_(e,"bx--tag--magenta",t[0]==="magenta"),_(e,"bx--tag--purple",t[0]==="purple"),_(e,"bx--tag--blue",t[0]==="blue"),_(e,"bx--tag--cyan",t[0]==="cyan"),_(e,"bx--tag--teal",t[0]==="teal"),_(e,"bx--tag--green",t[0]==="green"),_(e,"bx--tag--gray",t[0]==="gray"),_(e,"bx--tag--cool-gray",t[0]==="cool-gray"),_(e,"bx--tag--warm-gray",t[0]==="warm-gray"),_(e,"bx--tag--high-contrast",t[0]==="high-contrast")},m(f,g){P(f,e,g),c&&c.m(e,null),S(e,n),S(e,i),_e(r,i,null),s=!0,o||(l=[y(i,"click",rl(t[13])),y(i,"click",rl(t[29])),y(i,"mouseover",t[14]),y(i,"mouseenter",t[15]),y(i,"mouseleave",t[16])],o=!0)},p(f,g){u?u.p&&(!s||g&2048)&&ne(u,a,f,f[11],s?te(a,f[11],g,Jy):ie(f[11]),zh):c&&c.p&&(!s||g&1)&&c.p(f,s?g:-1),(!s||g&256)&&V(i,"aria-labelledby",f[8]),(!s||g&8)&&(i.disabled=f[3]),(!s||g&64)&&V(i,"title",f[6]),H(e,h=x(d,[(!s||g&64)&&{"aria-label":f[6]},(!s||g&256)&&{id:f[8]},g&1024&&f[10]])),_(e,"bx--tag",!0),_(e,"bx--tag--disabled",f[3]),_(e,"bx--tag--filter",f[2]),_(e,"bx--tag--sm",f[1]==="sm"),_(e,"bx--tag--red",f[0]==="red"),_(e,"bx--tag--magenta",f[0]==="magenta"),_(e,"bx--tag--purple",f[0]==="purple"),_(e,"bx--tag--blue",f[0]==="blue"),_(e,"bx--tag--cyan",f[0]==="cyan"),_(e,"bx--tag--teal",f[0]==="teal"),_(e,"bx--tag--green",f[0]==="green"),_(e,"bx--tag--gray",f[0]==="gray"),_(e,"bx--tag--cool-gray",f[0]==="cool-gray"),_(e,"bx--tag--warm-gray",f[0]==="warm-gray"),_(e,"bx--tag--high-contrast",f[0]==="high-contrast")},i(f){s||(A(c,f),A(r.$$.fragment,f),s=!0)},o(f){w(c,f),w(r.$$.fragment,f),s=!1},d(f){f&&R(e),c&&c.d(f),be(r),o=!1,se(l)}}}function ev(t){let e,n;const i=[{size:t[1]},t[10]];let r={};for(let s=0;s<i.length;s+=1)r=k(r,i[s]);return e=new Xy({props:r}),e.$on("click",t[25]),e.$on("mouseover",t[26]),e.$on("mouseenter",t[27]),e.$on("mouseleave",t[28]),{c(){pe(e.$$.fragment)},m(s,o){_e(e,s,o),n=!0},p(s,o){const l=o&1026?x(i,[o&2&&{size:s[1]},o&1024&&Nn(s[10])]):{};e.$set(l)},i(s){n||(A(e.$$.fragment,s),n=!0)},o(s){w(e.$$.fragment,s),n=!1},d(s){be(e,s)}}}function jh(t){let e,n,i;var r=t[7];function s(o){return{}}return r&&(n=new r(s())),{c(){e=F("div"),n&&pe(n.$$.fragment),_(e,"bx--tag__custom-icon",!0)},m(o,l){P(o,e,l),n&&_e(n,e,null),i=!0},p(o,l){if(r!==(r=o[7])){if(n){Te();const a=n;w(a.$$.fragment,1,0,()=>{be(a,1)}),Ee()}r?(n=new r(s()),pe(n.$$.fragment),A(n.$$.fragment,1),_e(n,e,null)):n=null}},i(o){i||(n&&A(n.$$.fragment,o),i=!0)},o(o){n&&w(n.$$.fragment,o),i=!1},d(o){o&&R(e),n&&be(n)}}}function qh(t){let e,n,i;var r=t[7];function s(o){return{}}return r&&(n=new r(s())),{c(){e=F("div"),n&&pe(n.$$.fragment),_(e,"bx--tag__custom-icon",!0)},m(o,l){P(o,e,l),n&&_e(n,e,null),i=!0},p(o,l){if(r!==(r=o[7])){if(n){Te();const a=n;w(a.$$.fragment,1,0,()=>{be(a,1)}),Ee()}r?(n=new r(s()),pe(n.$$.fragment),A(n.$$.fragment,1),_e(n,e,null)):n=null}},i(o){i||(n&&A(n.$$.fragment,o),i=!0)},o(o){n&&w(n.$$.fragment,o),i=!1},d(o){o&&R(e),n&&be(n)}}}function tv(t){let e,n;return{c(){e=F("span"),n=le(t[0]),_(e,"bx--tag__label",!0)},m(i,r){P(i,e,r),S(e,n)},p(i,r){r&1&&ge(n,i[0])},d(i){i&&R(e)}}}function nv(t){let e,n,i,r;const s=[ev,$y,xy,Zy],o=[];function l(a,u){return a[5]?0:a[2]?1:a[4]?2:3}return e=l(t),n=o[e]=s[e](t),{c(){n.c(),i=we()},m(a,u){o[e].m(a,u),P(a,i,u),r=!0},p(a,[u]){let c=e;e=l(a),e===c?o[e].p(a,u):(Te(),w(o[c],1,1,()=>{o[c]=null}),Ee(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),A(n,1),n.m(i.parentNode,i))},i(a){r||(A(n),r=!0)},o(a){w(n),r=!1},d(a){o[e].d(a),a&&R(i)}}}function iv(t,e,n){const i=["type","size","filter","disabled","interactive","skeleton","title","icon","id"];let r=X(e,i),{$$slots:s={},$$scope:o}=e,{type:l=void 0}=e,{size:a="default"}=e,{filter:u=!1}=e,{disabled:c=!1}=e,{interactive:d=!1}=e,{skeleton:h=!1}=e,{title:f="Clear filter"}=e,{icon:g=void 0}=e,{id:p="ccs-"+Math.random().toString(36)}=e;const b=Pt();function T(L){v.call(this,t,L)}function I(L){v.call(this,t,L)}function E(L){v.call(this,t,L)}function C(L){v.call(this,t,L)}function m(L){v.call(this,t,L)}function O(L){v.call(this,t,L)}function D(L){v.call(this,t,L)}function J(L){v.call(this,t,L)}function G(L){v.call(this,t,L)}function Ce(L){v.call(this,t,L)}function j(L){v.call(this,t,L)}function Ae(L){v.call(this,t,L)}function Oe(L){v.call(this,t,L)}function Se(L){v.call(this,t,L)}function q(L){v.call(this,t,L)}function We(L){v.call(this,t,L)}const z=()=>{b("close")};return t.$$set=L=>{e=k(k({},e),Q(L)),n(10,r=X(e,i)),"type"in L&&n(0,l=L.type),"size"in L&&n(1,a=L.size),"filter"in L&&n(2,u=L.filter),"disabled"in L&&n(3,c=L.disabled),"interactive"in L&&n(4,d=L.interactive),"skeleton"in L&&n(5,h=L.skeleton),"title"in L&&n(6,f=L.title),"icon"in L&&n(7,g=L.icon),"id"in L&&n(8,p=L.id),"$$scope"in L&&n(11,o=L.$$scope)},[l,a,u,c,d,h,f,g,p,b,r,o,s,T,I,E,C,m,O,D,J,G,Ce,j,Ae,Oe,Se,q,We,z]}class rv extends ue{constructor(e){super();ae(this,e,iv,nv,oe,{type:0,size:1,filter:2,disabled:3,interactive:4,skeleton:5,title:6,icon:7,id:8})}}var Jv=rv;function sv(t){let e,n,i,r;const s=t[9].default,o=ee(s,t,t[8],null);let l=[{role:"table"},t[5]],a={};for(let u=0;u<l.length;u+=1)a=k(a,l[u]);return{c(){e=F("div"),o&&o.c(),H(e,a),_(e,"bx--structured-list",!0),_(e,"bx--structured-list--border",t[0]),_(e,"bx--structured-list--selection",t[3]),_(e,"bx--structured-list--condensed",t[1]),_(e,"bx--structured-list--flush",t[2])},m(u,c){P(u,e,c),o&&o.m(e,null),n=!0,i||(r=[y(e,"click",t[10]),y(e,"mouseover",t[11]),y(e,"mouseenter",t[12]),y(e,"mouseleave",t[13])],i=!0)},p(u,[c]){o&&o.p&&(!n||c&256)&&ne(o,s,u,u[8],n?te(s,u[8],c,null):ie(u[8]),null),H(e,a=x(l,[{role:"table"},c&32&&u[5]])),_(e,"bx--structured-list",!0),_(e,"bx--structured-list--border",u[0]),_(e,"bx--structured-list--selection",u[3]),_(e,"bx--structured-list--condensed",u[1]),_(e,"bx--structured-list--flush",u[2])},i(u){n||(A(o,u),n=!0)},o(u){w(o,u),n=!1},d(u){u&&R(e),o&&o.d(u),i=!1,se(r)}}}function ov(t,e,n){const i=["selected","border","condensed","flush","selection"];let r=X(e,i),s,{$$slots:o={},$$scope:l}=e,{selected:a=void 0}=e,{border:u=!1}=e,{condensed:c=!1}=e,{flush:d=!1}=e,{selection:h=!1}=e;const f=Pt(),g=_t(a);dt(t,g,E=>n(7,s=E)),Dn("StructuredListWrapper",{selectedValue:g,update:E=>{g.set(E)}});function p(E){v.call(this,t,E)}function b(E){v.call(this,t,E)}function T(E){v.call(this,t,E)}function I(E){v.call(this,t,E)}return t.$$set=E=>{e=k(k({},e),Q(E)),n(5,r=X(e,i)),"selected"in E&&n(6,a=E.selected),"border"in E&&n(0,u=E.border),"condensed"in E&&n(1,c=E.condensed),"flush"in E&&n(2,d=E.flush),"selection"in E&&n(3,h=E.selection),"$$scope"in E&&n(8,l=E.$$scope)},t.$$.update=()=>{t.$$.dirty&128&&n(6,a=s),t.$$.dirty&128&&f("change",s)},[u,c,d,h,g,r,a,s,l,o,p,b,T,I]}class lv extends ue{constructor(e){super();ae(this,e,ov,sv,oe,{selected:6,border:0,condensed:1,flush:2,selection:3})}}var Zv=lv;function av(t){let e,n,i,r;const s=t[2].default,o=ee(s,t,t[1],null);let l=[{role:"rowgroup"},t[0]],a={};for(let u=0;u<l.length;u+=1)a=k(a,l[u]);return{c(){e=F("div"),o&&o.c(),H(e,a),_(e,"bx--structured-list-thead",!0)},m(u,c){P(u,e,c),o&&o.m(e,null),n=!0,i||(r=[y(e,"click",t[3]),y(e,"mouseover",t[4]),y(e,"mouseenter",t[5]),y(e,"mouseleave",t[6])],i=!0)},p(u,[c]){o&&o.p&&(!n||c&2)&&ne(o,s,u,u[1],n?te(s,u[1],c,null):ie(u[1]),null),H(e,a=x(l,[{role:"rowgroup"},c&1&&u[0]])),_(e,"bx--structured-list-thead",!0)},i(u){n||(A(o,u),n=!0)},o(u){w(o,u),n=!1},d(u){u&&R(e),o&&o.d(u),i=!1,se(r)}}}function uv(t,e,n){const i=[];let r=X(e,i),{$$slots:s={},$$scope:o}=e;function l(d){v.call(this,t,d)}function a(d){v.call(this,t,d)}function u(d){v.call(this,t,d)}function c(d){v.call(this,t,d)}return t.$$set=d=>{e=k(k({},e),Q(d)),n(0,r=X(e,i)),"$$scope"in d&&n(1,o=d.$$scope)},[r,o,s,l,a,u,c]}class cv extends ue{constructor(e){super();ae(this,e,uv,av,oe,{})}}var xv=cv;function hv(t){let e,n,i,r;const s=t[5].default,o=ee(s,t,t[4],null);let l=[{role:"row"},t[3]],a={};for(let u=0;u<l.length;u+=1)a=k(a,l[u]);return{c(){e=F("div"),o&&o.c(),H(e,a),_(e,"bx--structured-list-row",!0),_(e,"bx--structured-list-row--header-row",t[0])},m(u,c){P(u,e,c),o&&o.m(e,null),n=!0,i||(r=[y(e,"click",t[11]),y(e,"mouseover",t[12]),y(e,"mouseenter",t[13]),y(e,"mouseleave",t[14])],i=!0)},p(u,c){o&&o.p&&(!n||c&16)&&ne(o,s,u,u[4],n?te(s,u[4],c,null):ie(u[4]),null),H(e,a=x(l,[{role:"row"},c&8&&u[3]])),_(e,"bx--structured-list-row",!0),_(e,"bx--structured-list-row--header-row",u[0])},i(u){n||(A(o,u),n=!0)},o(u){w(o,u),n=!1},d(u){u&&R(e),o&&o.d(u),i=!1,se(r)}}}function fv(t){let e,n,i,r;const s=t[5].default,o=ee(s,t,t[4],null);let l=[{tabindex:t[2]},t[3]],a={};for(let u=0;u<l.length;u+=1)a=k(a,l[u]);return{c(){e=F("label"),o&&o.c(),H(e,a),_(e,"bx--structured-list-row",!0),_(e,"bx--structured-list-row--header-row",t[0])},m(u,c){P(u,e,c),o&&o.m(e,null),n=!0,i||(r=[y(e,"click",t[6]),y(e,"mouseover",t[7]),y(e,"mouseenter",t[8]),y(e,"mouseleave",t[9]),y(e,"keydown",t[10])],i=!0)},p(u,c){o&&o.p&&(!n||c&16)&&ne(o,s,u,u[4],n?te(s,u[4],c,null):ie(u[4]),null),H(e,a=x(l,[(!n||c&4)&&{tabindex:u[2]},c&8&&u[3]])),_(e,"bx--structured-list-row",!0),_(e,"bx--structured-list-row--header-row",u[0])},i(u){n||(A(o,u),n=!0)},o(u){w(o,u),n=!1},d(u){u&&R(e),o&&o.d(u),i=!1,se(r)}}}function dv(t){let e,n,i,r;const s=[fv,hv],o=[];function l(a,u){return a[1]?0:1}return e=l(t),n=o[e]=s[e](t),{c(){n.c(),i=we()},m(a,u){o[e].m(a,u),P(a,i,u),r=!0},p(a,[u]){let c=e;e=l(a),e===c?o[e].p(a,u):(Te(),w(o[c],1,1,()=>{o[c]=null}),Ee(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),A(n,1),n.m(i.parentNode,i))},i(a){r||(A(n),r=!0)},o(a){w(n),r=!1},d(a){o[e].d(a),a&&R(i)}}}function mv(t,e,n){const i=["head","label","tabindex"];let r=X(e,i),{$$slots:s={},$$scope:o}=e,{head:l=!1}=e,{label:a=!1}=e,{tabindex:u="0"}=e;function c(E){v.call(this,t,E)}function d(E){v.call(this,t,E)}function h(E){v.call(this,t,E)}function f(E){v.call(this,t,E)}function g(E){v.call(this,t,E)}function p(E){v.call(this,t,E)}function b(E){v.call(this,t,E)}function T(E){v.call(this,t,E)}function I(E){v.call(this,t,E)}return t.$$set=E=>{e=k(k({},e),Q(E)),n(3,r=X(e,i)),"head"in E&&n(0,l=E.head),"label"in E&&n(1,a=E.label),"tabindex"in E&&n(2,u=E.tabindex),"$$scope"in E&&n(4,o=E.$$scope)},[l,a,u,r,o,s,c,d,h,f,g,p,b,T,I]}class gv extends ue{constructor(e){super();ae(this,e,mv,dv,oe,{head:0,label:1,tabindex:2})}}var $v=gv;function _v(t){let e,n,i,r,s;const o=t[4].default,l=ee(o,t,t[3],null);let a=[{role:n=t[0]?"columnheader":"cell"},t[2]],u={};for(let c=0;c<a.length;c+=1)u=k(u,a[c]);return{c(){e=F("div"),l&&l.c(),H(e,u),_(e,"bx--structured-list-th",t[0]),_(e,"bx--structured-list-td",!t[0]),_(e,"bx--structured-list-content--nowrap",t[1])},m(c,d){P(c,e,d),l&&l.m(e,null),i=!0,r||(s=[y(e,"click",t[5]),y(e,"mouseover",t[6]),y(e,"mouseenter",t[7]),y(e,"mouseleave",t[8])],r=!0)},p(c,[d]){l&&l.p&&(!i||d&8)&&ne(l,o,c,c[3],i?te(o,c[3],d,null):ie(c[3]),null),H(e,u=x(a,[(!i||d&1&&n!==(n=c[0]?"columnheader":"cell"))&&{role:n},d&4&&c[2]])),_(e,"bx--structured-list-th",c[0]),_(e,"bx--structured-list-td",!c[0]),_(e,"bx--structured-list-content--nowrap",c[1])},i(c){i||(A(l,c),i=!0)},o(c){w(l,c),i=!1},d(c){c&&R(e),l&&l.d(c),r=!1,se(s)}}}function bv(t,e,n){const i=["head","noWrap"];let r=X(e,i),{$$slots:s={},$$scope:o}=e,{head:l=!1}=e,{noWrap:a=!1}=e;function u(f){v.call(this,t,f)}function c(f){v.call(this,t,f)}function d(f){v.call(this,t,f)}function h(f){v.call(this,t,f)}return t.$$set=f=>{e=k(k({},e),Q(f)),n(2,r=X(e,i)),"head"in f&&n(0,l=f.head),"noWrap"in f&&n(1,a=f.noWrap),"$$scope"in f&&n(3,o=f.$$scope)},[l,a,r,o,s,u,c,d,h]}class pv extends ue{constructor(e){super();ae(this,e,bv,_v,oe,{head:0,noWrap:1})}}var e2=pv;function yv(t){let e,n,i,r;const s=t[2].default,o=ee(s,t,t[1],null);let l=[{role:"rowgroup"},t[0]],a={};for(let u=0;u<l.length;u+=1)a=k(a,l[u]);return{c(){e=F("div"),o&&o.c(),H(e,a),_(e,"bx--structured-list-tbody",!0)},m(u,c){P(u,e,c),o&&o.m(e,null),n=!0,i||(r=[y(e,"click",t[3]),y(e,"mouseover",t[4]),y(e,"mouseenter",t[5]),y(e,"mouseleave",t[6])],i=!0)},p(u,[c]){o&&o.p&&(!n||c&2)&&ne(o,s,u,u[1],n?te(s,u[1],c,null):ie(u[1]),null),H(e,a=x(l,[{role:"rowgroup"},c&1&&u[0]])),_(e,"bx--structured-list-tbody",!0)},i(u){n||(A(o,u),n=!0)},o(u){w(o,u),n=!1},d(u){u&&R(e),o&&o.d(u),i=!1,se(r)}}}function vv(t,e,n){const i=[];let r=X(e,i),{$$slots:s={},$$scope:o}=e;function l(d){v.call(this,t,d)}function a(d){v.call(this,t,d)}function u(d){v.call(this,t,d)}function c(d){v.call(this,t,d)}return t.$$set=d=>{e=k(k({},e),Q(d)),n(0,r=X(e,i)),"$$scope"in d&&n(1,o=d.$$scope)},[r,o,s,l,a,u,c]}class Tv extends ue{constructor(e){super();ae(this,e,vv,yv,oe,{})}}var t2=Tv;export{Pv as $,Zv as A,Qo as B,V as C,qv as D,uf as E,xv as F,t2 as G,Xv as H,Hv as I,it as J,$v as K,we as L,Kv as M,Wv as N,Av as O,e2 as P,Qv as Q,Yv as R,ue as S,Jv as T,jv as U,Gv as V,kv as W,Iv as X,Rv as Y,Cv as Z,Sv as _,ae as a,wv as a0,Vv as a1,rt as b,Tf as c,pe as d,fe as e,F as f,Fv as g,P as h,Rg as i,S as j,ge as k,Te as l,_e as m,w as n,Ee as o,A as p,bf as q,be as r,oe as s,le as t,R as u,Uv as v,Lv as w,Ov as x,zv as y,Bv as z};
